<!DOCTYPE html>
<html lang="fr">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KGHT97MD');</script>
<!-- End Google Tag Manager -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C2D5ENP3F1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-C2D5ENP3F1');
</script>

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="TypixClin" />
<link rel="manifest" href="/site.webmanifest" />

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="G√©rez votre abonnement Premium sur TypixClin - D√©bloquez toutes les fonctionnalit√©s pour optimiser vos r√©visions EDN">
<title>Mon Compte Premium - TypixClin</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #3b82f6;
    --primary-dark: #1d4ed8;
    --primary-light: #60a5fa;
    --primary-gradient: linear-gradient(135deg, #3b82f6, #2563eb);
    --secondary: #475569;
    --accent: #8b5cf6;
    --success: #10b981;
    --success-light: #d1fae5;
    --success-dark: #059669;
    --warning: #f59e0b;
    --warning-light: #fef3c7;
    --danger: #ef4444;
    --danger-light: #fee2e2;
    --background: #f5f8ff;
    --white: #ffffff;
    --black: #111827;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-blue: 0 10px 25px -5px rgba(59, 130, 246, 0.5);
    --shadow-blue-lg: 0 20px 30px -10px rgba(59, 130, 246, 0.6);
    --header-height: 70px;
    --container-max-width: 1400px;
    --border-radius-sm: 0.375rem;
    --border-radius-md: 0.5rem;
    --border-radius-lg: 1rem;
    --border-radius-xl: 1.5rem;
    --border-radius-2xl: 2rem;
    --border-radius-full: 9999px;
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    --font-display: 'Outfit', sans-serif;
    --font-body: 'Space Grotesk', sans-serif;
    --z-elevated: 10;
    --z-sticky: 100;
    --z-dropdown: 200;
    --z-modal: 300;
    --z-toast: 400;
    --z-max: 9999;
}

[data-theme="dark"] {
    --primary: #60a5fa;
    --primary-dark: #3b82f6;
    --primary-light: #93c5fd;
    --primary-gradient: linear-gradient(135deg, #a855f7, #8b5cf6);
    --background: #0f172a;
    --white: #1e293b;
    --black: #f9fafb;
    --gray-900: #f9fafb;
    --gray-800: #f3f4f6;
    --gray-700: #e5e7eb;
    --gray-600: #d1d5db;
    --gray-500: #9ca3af;
    --gray-400: #6b7280;
    --gray-300: #4b5563;
    --gray-200: #374151;
    --gray-100: #1f2937;
    --gray-50: #111827;
    --success-light: rgba(16, 185, 129, 0.2);
    --warning-light: rgba(245, 158, 11, 0.2);
    --danger-light: rgba(239, 68, 68, 0.2);
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 16px; scroll-behavior: smooth; }
body { font-family: var(--font-body); background-color: var(--background); color: var(--gray-800); line-height: 1.6; overflow-x: hidden; min-height: 100vh; transition: background-color var(--transition-normal), color var(--transition-normal); }
h1, h2, h3, h4, h5, h6 { font-family: var(--font-display); font-weight: 700; line-height: 1.2; color: var(--gray-900); }
a { text-decoration: none; color: var(--primary); transition: color var(--transition-normal); }
button { cursor: pointer; font-family: var(--font-body); border: none; background: none; transition: all var(--transition-normal); }
.container { width: 100%; max-width: var(--container-max-width); margin: 0 auto; padding: 0 1.5rem; }

@keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
@keyframes shimmer { 0% { background-position: -1000px 0; } 100% { background-position: 1000px 0; } }

/* ===== HEADER ===== */
.header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--header-height);
    z-index: var(--z-sticky);
    transition: transform var(--transition-normal), background-color var(--transition-normal), box-shadow var(--transition-normal);
    background-color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

[data-theme="dark"] .header {
    background-color: rgba(30, 41, 59, 0.9);
}

.header.scrolled {
    box-shadow: var(--shadow-md);
}

.header-container {
    height: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-family: var(--font-display);
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--primary);
    letter-spacing: -0.05em;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.logo-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background: var(--primary-gradient);
    border-radius: var(--border-radius-md);
    color: white;
    font-size: 1.5rem;
}

.logo:hover .logo-icon {
    animation: pulse 1s infinite;
}

.nav {
    display: flex;
    align-items: center;
}

.nav-items {
    display: flex;
    list-style: none;
    gap: 1.5rem;
    margin: 0;
    padding: 0;
    align-items: center;
}

.nav-dropdown {
    position: relative;
}

.nav-dropdown-trigger {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    font-weight: 500;
    color: var(--gray-700);
    transition: color var(--transition-normal), transform var(--transition-normal);
    padding: 0.5rem 0;
    background: none;
    border: none;
    font-family: var(--font-body);
    font-size: 1rem;
    position: relative;
}

[data-theme="dark"] .nav-dropdown-trigger {
    color: white;
}

.nav-dropdown-trigger:hover {
    color: var(--primary);
}

.nav-dropdown-trigger::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--primary-gradient);
    transition: width 0.3s ease;
}

.nav-dropdown:hover .nav-dropdown-trigger::after {
    width: 100%;
}

.nav-dropdown-trigger i:first-child {
    font-size: 0.9rem;
}

.dropdown-chevron {
    font-size: 0.7rem;
    transition: transform 0.3s ease;
}

.nav-dropdown:hover .dropdown-chevron {
    transform: rotate(180deg);
}

.nav-dropdown-content {
    position: absolute;
    top: 100%;
    left: -10px;
    background: var(--white);
    min-width: 240px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s ease;
    border: 1px solid var(--gray-200);
}

[data-theme="dark"] .nav-dropdown-content {
    background: var(--gray-100);
    border-color: var(--gray-200);
}

.nav-dropdown:hover .nav-dropdown-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(5px);
}

.dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 18px;
    color: var(--gray-700);
    text-decoration: none;
    transition: all 0.2s ease;
    font-family: var(--font-body);
    font-size: 0.95rem;
}

[data-theme="dark"] .dropdown-item {
    color: white;
}

.dropdown-item:hover {
    background-color: var(--gray-100);
    color: var(--primary);
}

[data-theme="dark"] .dropdown-item:hover {
    background-color: var(--gray-200);
    color: var(--primary-light);
}

.dropdown-item.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--primary);
    font-weight: 600;
}

.dropdown-item i {
    font-size: 1rem;
    width: 20px;
    text-align: center;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--gray-100);
    border-radius: var(--border-radius-full);
    color: var(--gray-600);
    font-size: 1.25rem;
    cursor: pointer;
    margin-left: 2rem;
    transition: all var(--transition-normal);
}

[data-theme="dark"] .theme-toggle {
    background: var(--gray-800);
    color: var(--gray-300);
}

.theme-toggle:hover {
    background: var(--primary-light);
    color: white;
    transform: rotate(15deg);
}

.user-auth {
    position: relative;
    margin-left: 1rem;
}

.auth-btn { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    width: 40px; 
    height: 40px; 
    background: var(--gray-100); 
    border-radius: var(--border-radius-full); 
    color: var(--gray-600); 
    font-size: 1.1rem; 
    cursor: pointer; 
    border: none; 
}

[data-theme="dark"] .auth-btn { 
    background: var(--gray-800); 
    color: var(--gray-300); 
}

.auth-btn:hover { 
    background: var(--primary-light); 
    color: white; 
}

.user-avatar {
    display: none;
    width: 40px;
    height: 40px;
    border-radius: var(--border-radius-full);
    background: var(--primary-gradient);
    color: white;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    text-transform: uppercase;
    transition: all var(--transition-normal);
    box-shadow: var(--shadow-md);
}

.user-auth.logged-in .auth-btn {
    display: none;
}

.user-auth.logged-in .user-avatar {
    display: flex;
}

.user-avatar:hover {
    transform: scale(1.05);
    box-shadow: var(--shadow-blue);
}

.profile-dropdown {
    position: absolute;
    top: calc(100% + 10px);
    right: 0;
    background: var(--white);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-xl);
    border: 1px solid var(--gray-200);
    min-width: 220px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all var(--transition-normal);
    z-index: var(--z-dropdown);
    overflow: hidden;
}

.profile-dropdown.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.profile-header {
    padding: 1rem;
    border-bottom: 1px solid var(--gray-200);
    background: var(--gray-50);
}

.profile-name {
    font-weight: 600;
    color: var(--gray-900);
    font-size: 0.95rem;
    margin-bottom: 0.2rem;
}

.profile-email {
    font-size: 0.8rem;
    color: var(--gray-500);
    word-break: break-all;
}

.profile-menu {
    padding: 0.5rem 0;
}

.profile-menu-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: var(--gray-700);
    font-size: 0.9rem;
    cursor: pointer;
    width: 100%;
    transition: all var(--transition-normal);
    background: none;
}

.profile-menu-item:hover {
    background-color: var(--gray-100);
}

.profile-menu-item.logout {
    color: #ef4444;
}

.profile-menu-item.logout:hover {
    background-color: #fef2f2;
}

.mobile-menu-btn {
    display: none;
    font-size: 1.5rem;
    color: var(--gray-700);
    transition: color var(--transition-normal);
}

.mobile-menu-btn:hover {
    color: var(--primary);
}

@media (max-width: 992px) {
    .nav-items {
        display: none;
    }
    
    .header-actions {
        gap: 0.4rem;
    }
    
    .theme-toggle,
    .auth-btn,
    .user-avatar,
    .mobile-menu-btn {
        width: 38px;
        height: 38px;
        font-size: 1.1rem;
    }
    
    .theme-toggle {
        margin-left: 0;
    }
    
    .user-auth {
        margin-left: 0;
    }
    
    .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--gray-100);
        border-radius: var(--border-radius-full);
        color: var(--gray-600);
        transition: all var(--transition-normal);
    }
    
    [data-theme="dark"] .mobile-menu-btn {
        background: var(--gray-800);
        color: var(--gray-300);
    }
    
    .mobile-menu-btn:hover {
        background: var(--primary-light);
        color: white;
    }
}

.mobile-menu {
    position: fixed;
    top: var(--header-height);
    left: 0;
    width: 100%;
    max-height: calc(100vh - var(--header-height));
    overflow-y: auto;
    background-color: var(--white);
    padding: 1rem;
    z-index: calc(var(--z-sticky) - 1);
    box-shadow: var(--shadow-lg);
    transform: translateY(-100%);
    opacity: 0;
    visibility: hidden;
    transition: transform var(--transition-normal), opacity var(--transition-normal), visibility var(--transition-normal);
}

[data-theme="dark"] .mobile-menu {
    background-color: var(--gray-50);
}

.mobile-menu.active {
    transform: translateY(0);
    opacity: 1;
    visibility: visible;
}

.mobile-menu-section {
    margin-bottom: 1.5rem;
}

.mobile-menu-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    font-size: 0.85rem;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.5rem 0;
    border-bottom: 2px solid var(--primary);
    margin-bottom: 0.75rem;
}

.mobile-menu-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0.85rem 1rem;
    color: var(--gray-700);
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.2s ease;
    font-size: 0.95rem;
}

[data-theme="dark"] .mobile-menu-link {
    color: var(--gray-300);
}

.mobile-menu-link:hover {
    background-color: var(--gray-100);
    color: var(--primary);
}

.mobile-menu-link.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--primary);
    font-weight: 600;
}

.mobile-menu-link i {
    font-size: 1rem;
    width: 22px;
    text-align: center;
}

@media (min-width: 993px) {
    .mobile-menu {
        display: none !important;
    }
}

/* ===== MAIN CONTENT ===== */
.main-content {
    padding-top: var(--header-height);
    min-height: 100vh;
}

.hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 3rem 0;
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -10%;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 70%);
    border-radius: 50%;
}

.hero::after {
    content: '';
    position: absolute;
    bottom: -50%;
    left: -10%;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
    border-radius: 50%;
}

.hero-content {
    position: relative;
    z-index: 1;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
}

.hero-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    animation: float 3s ease-in-out infinite;
}

.hero h1 {
    font-size: 2.5rem;
    font-weight: 900;
    color: white;
    margin-bottom: 0.5rem;
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.95);
    font-weight: 400;
}

@media (max-width: 768px) {
    .hero {
        padding: 2rem 0;
    }
    
    .hero h1 {
        font-size: 1.8rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
}

/* ===== LOADING ===== */
.loading {
    text-align: center;
    padding: 3rem 0;
    color: var(--gray-600);
}

.loading-spinner {
    display: inline-block;
    width: 50px;
    height: 50px;
    border: 4px solid var(--gray-200);
    border-top-color: var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 1rem;
}

/* ===== CONTENT SECTION ===== */
.content-section {
    padding: 3rem 0;
}

.status-card {
    background: var(--white);
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-lg);
    padding: 2rem;
    margin-bottom: 2rem;
    border-left: 5px solid var(--primary);
    transition: all var(--transition-normal);
}

.status-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.status-badge {
    display: inline-block;
    padding: 0.5rem 1.25rem;
    border-radius: var(--border-radius-full);
    font-weight: 700;
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
}

.status-active {
    background: var(--success-light);
    color: var(--success-dark);
}

.status-grace {
    background: var(--warning-light);
    color: #856404;
}

.status-inactive {
    background: var(--danger-light);
    color: #721c24;
}

.info-row {
    display: flex;
    justify-content: space-between;
    padding: 1rem 0;
    border-bottom: 1px solid var(--gray-200);
}

.info-row:last-child {
    border-bottom: none;
}

.info-label {
    font-weight: 600;
    color: var(--gray-700);
}

.info-value {
    color: var(--gray-900);
    font-weight: 500;
}

.alert {
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-lg);
    margin-bottom: 2rem;
    display: flex;
    align-items: start;
    gap: 1rem;
}

.alert-warning {
    background: var(--warning-light);
    color: #856404;
    border-left: 4px solid var(--warning);
}

.alert-info {
    background: #d1ecf1;
    color: #0c5460;
    border-left: 4px solid #17a2b8;
}

/* ===== PRICING SECTION ===== */
.pricing-section {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    padding: 3rem 0;
    margin: 3rem 0;
    border-radius: var(--border-radius-xl);
    position: relative;
    overflow: hidden;
}

.pricing-section::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -20%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
    border-radius: 50%;
}

.section-title {
    text-align: center;
    font-size: 2rem;
    font-weight: 900;
    margin-bottom: 0.75rem;
    color: var(--gray-900);
    letter-spacing: -0.02em;
    position: relative;
    z-index: 1;
}

.section-subtitle {
    text-align: center;
    font-size: 1rem;
    color: var(--gray-600);
    margin-bottom: 2.5rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    position: relative;
    z-index: 1;
}

.pricing-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.pricing-card {
    background: var(--white);
    padding: 2rem 1.75rem;
    border-radius: var(--border-radius-xl);
    border: 3px solid var(--gray-200);
    position: relative;
    transition: all var(--transition-normal);
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    display: flex;
    flex-direction: column;
}

.pricing-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(139, 92, 246, 0.05));
    opacity: 0;
    transition: opacity var(--transition-normal);
    border-radius: var(--border-radius-xl);
    z-index: 0;
}

.pricing-card:hover::before {
    opacity: 1;
}

.pricing-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
}

.pricing-card.recommended {
    background: linear-gradient(135deg, #ffffff, #f8fafc);
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1), var(--shadow-lg);
    transform: scale(1.03);
}

.pricing-card.recommended:hover {
    transform: scale(1.03) translateY(-8px);
}

.pricing-card > * {
    position: relative;
    z-index: 1;
}

.plan-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1.25rem;
    border-bottom: 2px solid var(--gray-200);
}

.plan-name {
    font-size: 1.4rem;
    font-weight: 900;
    color: var(--gray-900);
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.plan-price {
    font-size: 3rem;
    font-weight: 900;
    color: var(--primary);
    line-height: 1;
    margin-bottom: 0.5rem;
}

.plan-price span {
    font-size: 1.2rem;
    color: var(--gray-600);
    font-weight: 500;
}

.plan-features {
    list-style: none;
    margin: 1.5rem 0;
    padding: 0;
    flex-grow: 1;
}

.plan-features li {
    padding: 0.85rem 0;
    color: var(--gray-700);
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border-bottom: 1px solid var(--gray-200);
    font-weight: 500;
}

.plan-features li:last-child {
    border-bottom: none;
}

.plan-features i {
    color: var(--success);
    font-size: 1.2rem;
    flex-shrink: 0;
}

.btn {
    width: 100%;
    padding: 1rem 1.5rem;
    border: none;
    border-radius: var(--border-radius-lg);
    font-family: var(--font-display);
    font-size: 1rem;
    font-weight: 800;
    cursor: pointer;
    transition: all var(--transition-normal);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-top: auto;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    box-shadow: var(--shadow-blue);
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-blue-lg);
}

.btn-secondary {
    background: var(--secondary);
    color: white;
}

.btn-secondary:hover {
    background: #5a6268;
    transform: translateY(-2px);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

@media (max-width: 768px) {
    .pricing-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .pricing-card.recommended {
        transform: scale(1);
    }
    
    .pricing-card.recommended:hover {
        transform: translateY(-8px);
    }
}

/* ===== FOOTER ===== */
.footer {
    background-color: var(--gray-900);
    color: var(--gray-400);
    padding: 3rem 0 1.5rem;
}

.footer-container {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 3rem;
}

.footer-brand {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.footer-logo {
    font-family: var(--font-display);
    font-size: 1.75rem;
    font-weight: 800;
    color: white;
    letter-spacing: -0.05em;
}

.footer-description {
    color: var(--gray-500);
    font-size: 0.9rem;
    max-width: 350px;
}

.footer-social {
    display: flex;
    gap: 0.75rem;
}

.social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: var(--border-radius-full);
    background: var(--gray-800);
    color: var(--gray-400);
    font-size: 1.1rem;
    transition: all var(--transition-normal);
}

.social-link:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-3px);
}

.footer-nav {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.footer-nav-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: white;
    margin-bottom: 0.5rem;
}

.footer-nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.footer-nav-link {
    color: var(--gray-500);
    font-size: 0.9rem;
    transition: all var(--transition-normal);
}

.footer-nav-link:hover {
    color: var(--primary-light);
    transform: translateX(5px);
}

.footer-bottom {
    margin-top: 2.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--gray-800);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.footer-copyright {
    color: var(--gray-500);
    font-size: 0.85rem;
}

@media (max-width: 992px) {
    .footer-container {
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
}

@media (max-width: 768px) {
    .footer-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .footer-bottom {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .footer {
        text-align: center;
    }

    .footer-description {
        margin-left: auto;
        margin-right: auto;
    }

    .footer-social {
        justify-content: center;
    }

    .footer-nav-links {
        align-items: center;
    }
}

[data-theme="dark"] .footer {
    background-color: #0d1320;
}

[data-theme="dark"] .footer-logo {
    color: white;
}

[data-theme="dark"] .social-link {
    background: #1e293b;
    color: var(--gray-300);
}

[data-theme="dark"] .social-link:hover {
    background: var(--primary);
    color: white;
}

[data-theme="dark"] .footer-bottom {
    border-top: 1px solid #1e293b;
}
/* ===== BACK TO TOP ===== */
.back-to-top {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 50px;
    height: 50px;
    background: var(--primary-gradient);
    color: white;
    border-radius: var(--border-radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    box-shadow: var(--shadow-blue);
    transition: all var(--transition-normal);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    z-index: var(--z-elevated);
}

.back-to-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.back-to-top:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-blue-lg);
}

/* ===== TOAST ===== */
.toast-logout {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%) translateY(150%);
    background: var(--white);
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-2xl);
    display: flex;
    align-items: center;
    gap: 1rem;
    min-width: 300px;
    z-index: var(--z-toast);
    transition: transform var(--transition-normal), opacity var(--transition-normal);
    opacity: 0;
    border: 2px solid var(--gray-200);
}

.toast-logout.show {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
}

.toast-logout.hide {
    transform: translateX(-50%) translateY(150%);
    opacity: 0;
}

.toast-logout.success {
    border-color: var(--success);
}

.toast-logout.error {
    border-color: var(--danger);
}

.toast-logout.info {
    border-color: var(--primary);
}

.toast-logout-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--border-radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.toast-logout.success .toast-logout-icon {
    background: var(--success-light);
    color: var(--success-dark);
}

.toast-logout.error .toast-logout-icon {
    background: var(--danger-light);
    color: var(--danger);
}

.toast-logout.info .toast-logout-icon {
    background: rgba(59, 130, 246, 0.1);
    color: var(--primary);
}

.toast-logout-content {
    flex: 1;
}

.toast-logout-title {
    font-weight: 700;
    color: var(--gray-900);
    margin-bottom: 0.25rem;
}

.toast-logout-message {
    font-size: 0.9rem;
    color: var(--gray-600);
}

/* ===== FAQ - COMPACT ===== */
.faq-section {
    max-width: 1000px;
    margin: 0 auto;
    padding: 3rem 0;
}

.faq-grid {
    display: grid;
    gap: 1.25rem;
}

.faq-item {
    background: var(--white);
    padding: 2rem;
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-normal);
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
}

.faq-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 0;
    background: var(--primary-gradient);
    transition: width var(--transition-normal);
}

.faq-item:hover {
    box-shadow: var(--shadow-lg);
    transform: translateX(6px);
    border-color: var(--primary);
}

.faq-item:hover::before {
    width: 5px;
}

.faq-question {
    font-size: 1.1rem;
    font-weight: 800;
    color: var(--gray-900);
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    position: relative;
}

.faq-question i {
    color: var(--primary);
    font-size: 1.2rem;
    flex-shrink: 0;
}

.faq-answer {
    color: var(--gray-700);
    font-size: 0.95rem;
    line-height: 1.7;
    padding-left: 2rem;
}

/* ===== FEATURES GRID ===== */
.features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.feature-card {
    background: var(--white);
    padding: 2rem 1.5rem;
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-normal);
    text-align: center;
    border: 2px solid transparent;
}

.feature-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
    border-color: var(--primary);
}

.feature-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 1rem;
    background: var(--primary-gradient);
    border-radius: var(--border-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    color: white;
    box-shadow: var(--shadow-blue);
}

.feature-card h3 {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
    color: var(--gray-900);
}

.feature-card p {
    color: var(--gray-600);
    line-height: 1.6;
    font-size: 0.95rem;
}

@media (max-width: 992px) {
    .features-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 640px) {
    .features-grid {
        grid-template-columns: 1fr;
    }
}

/* Dark mode pour la pricing section */
[data-theme="dark"] .pricing-section {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
}

[data-theme="dark"] .pricing-card {
    background: #1e293b;
    border-color: #334155;
}

[data-theme="dark"] .pricing-card.recommended {
    background: linear-gradient(135deg, #1e293b, #1f2937);
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.15), var(--shadow-lg);
}

/* Dark mode pour les alertes */
[data-theme="dark"] .alert-warning {
    background: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
    border-left-color: #f59e0b;
}

[data-theme="dark"] .alert-info {
    background: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
    border-left-color: #3b82f6;
}

/* Dark mode pour les badges de statut */
[data-theme="dark"] .status-active {
    background: rgba(16, 185, 129, 0.25);
    color: #34d399;
}

[data-theme="dark"] .status-grace {
    background: rgba(245, 158, 11, 0.25);
    color: #fbbf24;
}

[data-theme="dark"] .status-inactive {
    background: rgba(239, 68, 68, 0.25);
    color: #f87171;
}

/* Bouton retour au tableur - Version compacte */
.back-to-tableur-container {
    display: flex;
    justify-content: center;
    margin: 1.5rem 0 0.5rem 0;
    padding: 0 1rem;
}

.back-to-tableur-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 0.9rem 1.8rem;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    font-family: var(--font-display);
    font-size: 1rem;
    font-weight: 700;
    border: none;
    border-radius: var(--border-radius-lg);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    transition: all var(--transition-normal);
    text-decoration: none;
}

.back-to-tableur-btn:hover {
    background: linear-gradient(135deg, #059669, #047857);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    color: white;
}

.back-to-tableur-btn:hover i {
    transform: translateX(-3px);
}

.back-to-tableur-btn i {
    font-size: 1.1rem;
    background: rgba(255, 255, 255, 0.25);
    width: 1.8rem;
    height: 1.8rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform var(--transition-normal);
}

/* Am√©lioration mobile pour pricing */
@media (max-width: 768px) {
    .pricing-section {
        padding: 2rem 1rem;
        margin: 2rem 0;
    }
    
    .section-title {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }
    
    .section-subtitle {
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
    }
    
    .pricing-card {
        padding: 1.5rem;
    }
    
    .plan-name {
        font-size: 1.2rem;
    }
    
    .plan-price {
        font-size: 2.2rem;
    }
    
    .plan-price span {
        font-size: 1rem;
    }
    
    .plan-features li {
        font-size: 0.9rem;
        padding: 0.7rem 0;
    }
    
    .btn {
        padding: 0.9rem 1.2rem;
        font-size: 0.95rem;
    }
    
    .back-to-tableur-container {
        margin: 1.5rem 0 0.5rem 0;
    }
    
    .back-to-tableur-btn {
        padding: 0.85rem 1.5rem;
        font-size: 0.95rem;
    }
    
    .back-to-tableur-btn i {
        font-size: 1rem;
        width: 1.6rem;
        height: 1.6rem;
    }
}

@media (max-width: 480px) {
    .pricing-section {
        padding: 1.5rem 0.75rem;
    }
    
    .section-title {
        font-size: 1.3rem;
    }
    
    .pricing-card {
        padding: 1.25rem;
    }
    
    .plan-price {
        font-size: 2rem;
    }
    
    .back-to-tableur-btn {
        padding: 0.8rem 1.3rem;
        font-size: 0.9rem;
    }
}
</style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KGHT97MD"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- ===== HEADER ===== -->
<header class="header" id="header">
    <div class="container header-container">
        <a href="index.html" class="logo">
            <span class="logo-icon"><i class="fas fa-stethoscope"></i></span>
            TypixClin
        </a>
        
        <nav class="nav">
            <ul class="nav-items">
                <!-- OUTILS -->
                <li class="nav-dropdown">
                    <button class="nav-dropdown-trigger">
                        <i class="fas fa-toolbox"></i> Outils
                        <i class="fas fa-chevron-down dropdown-chevron"></i>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="examen-adulte.html" class="dropdown-item"><i class="fas fa-user-md"></i> Examen Adulte</a>
                        <a href="examen-p√©diatrique.html" class="dropdown-item"><i class="fas fa-baby"></i> Examen P√©diatrique</a>
                        <a href="examen-r√©animation.html" class="dropdown-item"><i class="fas fa-procedures"></i> Examen R√©animation</a>
                        <a href="ecg.html" class="dropdown-item"><i class="fas fa-heartbeat"></i> ECG</a>
                        <a href="gds.html" class="dropdown-item"><i class="fas fa-tint"></i> Gaz du Sang</a>
                        <a href="Troubles ioniques.html" class="dropdown-item"><i class="fas fa-flask"></i> Troubles Ioniques</a>
                    </div>
                </li>
                
                <!-- FICHES -->
                <li class="nav-dropdown">
                    <button class="nav-dropdown-trigger">
                        <i class="fas fa-clipboard"></i> Fiches
                        <i class="fas fa-chevron-down dropdown-chevron"></i>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="Fiche-examen-clinique.html" class="dropdown-item"><i class="fas fa-notes-medical"></i> Fiche Examen Clinique</a>
                        <a href="Fiche-ECG.html" class="dropdown-item"><i class="fas fa-heartbeat"></i> Fiche ECG</a>
                    </div>
                </li>
                
                <!-- RESSOURCES -->
                <li class="nav-dropdown">
                    <button class="nav-dropdown-trigger">
                        <i class="fas fa-folder-open"></i> Ressources
                        <i class="fas fa-chevron-down dropdown-chevron"></i>
                    </button>
                    <div class="nav-dropdown-content">
                        <a href="FichierGsheet.html" class="dropdown-item"><i class="fas fa-table"></i> Tableur Gsheet Externat</a>
                        <a href="TableurEnLigne.html" class="dropdown-item"><i class="fas fa-calculator"></i> Tableur en ligne Externat</a>
                        <a href="carnet-de-stage.html" class="dropdown-item"><i class="fas fa-book"></i> Carnet de stage</a>
                    </div>
                </li>
            </ul>
            
            <div class="header-actions">
                <button class="theme-toggle" id="theme-toggle"><i class="fas fa-moon"></i></button>
                
                <div class="user-auth" id="user-auth">
                    <a href="auth.html?redirect=comptepremium.html" class="auth-btn" title="Se connecter"><i class="fas fa-user"></i></a>
                    <div class="user-avatar" id="user-avatar" title="Mon profil"><span id="avatar-initials">JD</span></div>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <div class="profile-header">
                            <div class="profile-name" id="profile-name">Jean Dupont</div>
                            <div class="profile-email" id="profile-email">jean@exemple.com</div>
                        </div>
                        <div class="profile-menu">
						   <a href="comptepremium.html" class="profile-menu-item">
								<i class="fas fa-crown"></i>
								Mon abonnement
							</a>
							<button class="profile-menu-item logout" id="logout-btn"><i class="fas fa-sign-out-alt"></i><span>Se d√©connecter</span></button>
                        </div>
                    </div>
                </div>
                
                <button class="mobile-menu-btn" id="mobile-menu-btn"><i class="fas fa-bars"></i></button>
            </div>
        </nav>
    </div>
</header>

<!-- ===== MOBILE MENU ===== -->
<div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-section">
        <div class="mobile-menu-title">
            <i class="fas fa-tools"></i>
            Outils
        </div>
        <a href="examen-adulte.html" class="mobile-menu-link">
            <i class="fas fa-user-md"></i>
            Examen Adulte
        </a>
        <a href="examen-p√©diatrique.html" class="mobile-menu-link">
            <i class="fas fa-baby"></i>
            Examen P√©diatrique
        </a>
        <a href="examen-r√©animation.html" class="mobile-menu-link">
            <i class="fas fa-ambulance"></i>
            Examen R√©animation
        </a>
        <a href="ecg.html" class="mobile-menu-link">
            <i class="fas fa-heartbeat"></i>
            ECG
        </a>
        <a href="gds.html" class="mobile-menu-link">
            <i class="fas fa-lungs"></i>
            Gaz du sang
        </a>
        <a href="Troubles ioniques.html" class="mobile-menu-link">
            <i class="fas fa-vial"></i>
            Troubles ioniques
        </a>
    </div>
    
    <div class="mobile-menu-section">
        <div class="mobile-menu-title">
            <i class="fas fa-book"></i>
            Fiches et ressources
        </div>
        <a href="Fiche-examen-clinique.html" class="mobile-menu-link">
            <i class="fas fa-file-medical"></i>
            Fiche Examen Clinique
        </a>
        <a href="Fiche-ECG.html" class="mobile-menu-link">
            <i class="fas fa-heartbeat"></i>
            Fiche ECG
        </a>
        <a href="FichierGsheet.html" class="mobile-menu-link">
            <i class="fas fa-table"></i>
            Tableur Gsheet
        </a>
        <a href="TableurEnLigne.html" class="mobile-menu-link">
            <i class="fas fa-laptop-medical"></i>
            Tableur en ligne
        </a>
        <a href="Carnet-de-stage.html" class="mobile-menu-link">
            <i class="fas fa-book-medical"></i>
            Carnet de stage
        </a>
    </div>
</div>

<!-- ===== MAIN CONTENT ===== -->
<main class="main-content">
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-icon">üëë</div>
                <h1>Mon Compte Premium</h1>
                <p class="hero-subtitle">G√©rez votre abonnement et profitez de toutes les fonctionnalit√©s TypixClin</p>
				<!-- Bouton retour au tableur -->
				<div class="back-to-tableur-container">
					<a href="TableurEnLigne.html" class="back-to-tableur-btn">
						<i class="fas fa-arrow-left"></i>
						Retour au Tableur
					</a>
				</div>
            </div>
        </div>
    </section>

    <!-- Loading -->
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <p>Chargement de vos informations...</p>
    </div>

    <!-- Main Content -->
    <div id="main-content" style="display: none;">
        <div class="container content-section">
            <!-- Status Card -->
            <div class="status-card">
                <div id="status-badge"></div>
                <div id="status-info"></div>
            </div>

            <!-- Grace Alert -->
            <div id="grace-alert" style="display: none;"></div>

            <!-- Portal Button -->
            <div style="text-align: center; margin-bottom: 2rem;">
                <button id="portal-btn" class="btn btn-secondary" onclick="openCustomerPortal()" style="display: none;">
                    üìä G√©rer mon abonnement
                </button>
            </div>
			
			<!-- Features -->
        <section>
            <h2 class="section-title">Pourquoi passer Premium ?</h2>
            <p class="section-subtitle">Acc√©dez √† l'ensemble des fonctionnalit√©s pour optimiser vos r√©visions et r√©ussir votre EDN</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-edit"></i>
                    </div>
                    <h3>Modification illimit√©e</h3>
                    <p>Modifiez votre planning √† volont√© et personnalisez vos items sans restriction.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <h3>Ajout de tours</h3>
                    <p>Cr√©ez autant de tours de r√©vision que n√©cessaire pour optimiser votre apprentissage.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <h3>Sauvegarde cloud</h3>
                    <p>Toutes vos donn√©es automatiquement sauvegard√©es dans le cloud.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Statistiques avanc√©es</h3>
                    <p>Suivez votre progression avec des statistiques d√©taill√©es.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Syst√®me de troph√©es</h3>
                    <p>D√©bloquez des troph√©es et restez motiv√© tout au long de vos r√©visions.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-sync"></i>
                    </div>
                    <h3>Synchronisation</h3>
                    <p>Synchronisez vos donn√©es entre tous vos appareils en temps r√©el.</p>
                </div>
            </div>
        </section>

            <!-- Plans Section -->
            <div id="plans-section" style="display: none;">
                <div class="pricing-section">
                    <h2 class="section-title">Choisissez votre formule Premium</h2>
                    <p class="section-subtitle">Des tarifs adapt√©s √† vos besoins pour vous accompagner jusqu'√† la r√©ussite</p>
                    
                    <div class="pricing-grid">
                        <!-- Monthly Plan -->
                        <div class="pricing-card recommended">
                            <div class="plan-header">
                                <h3 class="plan-name">Mensuel</h3>
                                <div class="plan-price">2,50‚Ç¨<span>/mois</span></div>
                            </div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check-circle"></i> Toutes les fonctionnalit√©s</li>
                                <li><i class="fas fa-check-circle"></i> Petit prix accessible</li>
                                <li><i class="fas fa-check-circle"></i> Acc√®s au planning</li>
                                <li><i class="fas fa-check-circle"></i> Remplissage des tours</li>
                            </ul>
                            <button class="btn btn-primary" onclick="subscribe('monthly', event)">Souscrire</button>
                        </div>
                        
                        <!-- Annual Plan -->
                        <div class="pricing-card recommended">
                            <div class="plan-header">
                                <h3 class="plan-name">Annuel</h3>
                                <div class="plan-price">25‚Ç¨<span>/an</span></div>
                            </div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check-circle"></i> Toutes les fonctionnalit√©s</li>
                                <li><i class="fas fa-check-circle"></i> 2 mois gratuits</li>
                                <li><i class="fas fa-check-circle"></i> Acc√®s au planning</li>
                                <li><i class="fas fa-check-circle"></i> Remplissage des tours</li>
                            </ul>
                            <button class="btn btn-primary" onclick="subscribe('annual', event)">Souscrire</button>
                        </div>
                    </div>
                </div>
            </div>
			
			


			
			<!-- FAQ -->
        <section class="faq-section">
            <h2 class="section-title">Questions fr√©quentes</h2>
            <p class="section-subtitle">Tout ce que vous devez savoir sur l'abonnement Premium</p>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        <i class="fas fa-question-circle"></i>
                        Puis-je annuler mon abonnement √† tout moment ?
                    </div>
                    <div class="faq-answer">
                        Oui, vous pouvez annuler votre abonnement √† tout moment depuis votre compte. Vous continuerez √† avoir acc√®s aux fonctionnalit√©s premium jusqu'√† la fin de votre p√©riode pay√©e.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <i class="fas fa-question-circle"></i>
                        Que se passe-t-il avec mes donn√©es si j'annule ?
                    </div>
                    <div class="faq-answer">
                        Vos donn√©es restent sauvegard√©es et vous pourrez toujours les consulter en mode lecture seule. Si vous vous r√©abonnez, vous retrouverez toutes vos donn√©es intactes.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <i class="fas fa-question-circle"></i>
                        Les paiements sont-ils s√©curis√©s ?
                    </div>
                    <div class="faq-answer">
                        Oui, tous les paiements sont trait√©s de mani√®re s√©curis√©e via Stripe, un leader mondial du paiement en ligne. Nous ne stockons aucune information de carte bancaire.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <i class="fas fa-question-circle"></i>
                        Puis-je changer de formule plus tard ?
                    </div>
                    <div class="faq-answer">
                        Oui, vous pouvez passer de la formule mensuelle √† annuelle (ou inversement) √† tout moment depuis votre compte.
                    </div>
                </div>
            </div>
        </section>
				
		
        </div>
    </div>
</main>

<!-- ===== FOOTER ===== -->
<footer class="footer">
    <div class="container">
        <div class="footer-container">
            <div class="footer-brand">
                <div class="footer-logo">TypixClin</div>
                <p class="footer-description">Plateforme d'aide √† la r√©daction des examens cliniques pour √©tudiants en m√©decine.</p>
                <div class="footer-social">
                    <a href="https://github.com/JEZENN/TypixClin" class="social-link" target="_blank" rel="noopener">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-nav">
                <h4 class="footer-nav-title">Outils</h4>
                <div class="footer-nav-links">
                    <a href="examen-adulte.html" class="footer-nav-link">Examen Adulte</a>
                    <a href="examen-p√©diatrique.html" class="footer-nav-link">Examen P√©diatrique</a>
                    <a href="examen-r√©animation.html" class="footer-nav-link">Examen R√©animation</a>
                    <a href="ecg.html" class="footer-nav-link">ECG</a>
                    <a href="gds.html" class="footer-nav-link">Gaz du sang</a>
                    <a href="Troubles ioniques.html" class="footer-nav-link">Troubles ioniques</a>
                </div>
            </div>
            
            <div class="footer-nav">
                <h4 class="footer-nav-title">Fiches et ressources</h4>
                <div class="footer-nav-links">
                    <a href="Fiche-examen-clinique.html" class="footer-nav-link">Fiche Examen Clinique</a>
                    <a href="Fiche-ECG.html" class="footer-nav-link">Fiche ECG</a>
                    <a href="FichierGsheet.html" class="footer-nav-link">Tableur Gsheet Externat</a>
                    <a href="TableurEnLigne.html" class="footer-nav-link">Tableur en ligne Externat</a>
                    <a href="Carnet-de-stage.html" class="footer-nav-link">Carnet de stage</a>
                </div>
            </div>
            
            <div class="footer-nav">
                <h4 class="footer-nav-title">√Ä propos</h4>
                <div class="footer-nav-links">
				    <a href="index.html#tools" class="footer-nav-link">Outils</a>
					<a href="index.html#tableur" class="footer-nav-link">Tableur</a>
					<a href="index.html#fiches" class="footer-nav-link">Fiches</a>
                    <a href="index.html#ai" class="footer-nav-link">Conception</a>
                    <a href="index.html#feedback" class="footer-nav-link">Feedback</a>
					<a href="MentionsL√©gales.html" class="footer-nav-link">Mentions l√©gales</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-copyright">TypixClin ¬© 2025, Jean ZENNARO</div>
        </div>
    </div>
</footer>

<!-- ===== BACK TO TOP ===== -->
<button class="back-to-top" id="back-to-top">
    <i class="fas fa-arrow-up"></i>
</button>

<!-- ===== TOAST ===== -->
<div class="toast-logout success" id="toast-logout">
    <div class="toast-logout-icon">
        <i class="fas fa-check-circle"></i>
    </div>
    <div class="toast-logout-content">
        <div class="toast-logout-title">Succ√®s</div>
        <div class="toast-logout-message">Op√©ration r√©ussie !</div>
    </div>
</div>

<!-- ===== SCRIPTS ===== -->
<script>
// Theme Toggle
const themeToggle = document.getElementById('theme-toggle');
const html = document.documentElement;
const themeIcon = themeToggle.querySelector('i');

const savedTheme = localStorage.getItem('theme') || 'light';
html.setAttribute('data-theme', savedTheme);
updateThemeIcon(savedTheme);

themeToggle.addEventListener('click', () => {
    const currentTheme = html.getAttribute('data-theme');
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateThemeIcon(newTheme);
});

function updateThemeIcon(theme) {
    themeIcon.className = theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
}

// Mobile Menu
const mobileMenuBtn = document.getElementById('mobile-menu-btn');
const mobileMenu = document.getElementById('mobile-menu');

mobileMenuBtn.addEventListener('click', () => {
    mobileMenu.classList.toggle('active');
    const icon = mobileMenuBtn.querySelector('i');
    icon.className = mobileMenu.classList.contains('active') ? 'fas fa-times' : 'fas fa-bars';
});

// Header Scroll
const header = document.getElementById('header');
window.addEventListener('scroll', () => {
    header.classList.toggle('scrolled', window.scrollY > 0);
});

// Back to Top
const backToTop = document.getElementById('back-to-top');
window.addEventListener('scroll', () => {
    backToTop.classList.toggle('visible', window.scrollY > 600);
});

backToTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

// User Avatar & Profile Dropdown
const userAvatar = document.getElementById('user-avatar');
const profileDropdown = document.getElementById('profile-dropdown');

if (userAvatar) {
    userAvatar.addEventListener('click', (e) => {
        e.stopPropagation();
        profileDropdown.classList.toggle('active');
    });
}

document.addEventListener('click', (e) => {
    if (profileDropdown && !profileDropdown.contains(e.target) && !userAvatar.contains(e.target)) {
        profileDropdown.classList.remove('active');
    }
});

// Toast Function
function showToast({ title, message, type = 'success', icon = 'fa-check-circle', duration = 3000 }) {
    return new Promise(resolve => {
        const toast = document.getElementById('toast-logout');
        if (!toast) return resolve();

        const iconEl = toast.querySelector('.toast-logout-icon i');
        const titleEl = toast.querySelector('.toast-logout-title');
        const messageEl = toast.querySelector('.toast-logout-message');

        // Reset
        toast.classList.remove('success', 'error', 'info', 'show', 'hide');

        // Set content
        titleEl.textContent = title;
        messageEl.textContent = message;
        iconEl.className = `fas ${icon}`;
        toast.classList.add(type);

        // Show
        toast.classList.add('show');

        // Hide
        setTimeout(() => {
            toast.classList.remove('show');
            toast.classList.add('hide');
            setTimeout(resolve, 500);
        }, duration);
    });
}
</script>

<!-- Firebase Script -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { getFunctions, httpsCallable } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js";

const firebaseConfig = {
    apiKey: "AIzaSyBSJPwPWOAGnWwQN3j2qwu8pxf2iCdO-Gc",
    authDomain: "typixclin-b5fa9.firebaseapp.com",
    projectId: "typixclin-b5fa9",
    storageBucket: "typixclin-b5fa9.firebasestorage.app",
    messagingSenderId: "726560091078",
    appId: "1:726560091078:web:5ce8b31da0bfbbc1f720c7",
    measurementId: "G-9CZ2QB6TNK"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const functions = getFunctions(app, 'europe-west1');

const userAuth = document.getElementById('user-auth');
const avatarInitials = document.getElementById('avatar-initials');
const profileName = document.getElementById('profile-name');
const profileEmail = document.getElementById('profile-email');
const logoutBtn = document.getElementById('logout-btn');

let currentUser = null;
let userData = null;

// Get initials
function getInitials(name) {
    if (!name) return 'U';
    const names = name.trim().split(' ');
    return names.length >= 2 ? (names[0][0] + names[names.length-1][0]).toUpperCase() : name.substring(0,2).toUpperCase();
}

// Update User UI
async function updateUserUI(user) {
    if (user) {
        currentUser = user;
        userAuth.classList.add('logged-in');
        localStorage.setItem('userEmail', user.email);
        
        try {
            const userDoc = await getDoc(doc(db, 'users', user.uid));
            const userInfo = userDoc.exists() ? userDoc.data() : {};
            const displayName = userInfo.displayName || user.displayName || 'Utilisateur';
            
            avatarInitials.textContent = getInitials(displayName);
            profileName.textContent = displayName;
            profileEmail.textContent = user.email || '';
        } catch (e) {
            avatarInitials.textContent = getInitials(user.displayName || user.email);
            profileName.textContent = user.displayName || 'Utilisateur';
            profileEmail.textContent = user.email || '';
        }
        
        await loadUserData();
    } else {
        userAuth.classList.remove('logged-in');
        profileDropdown.classList.remove('active');
        localStorage.removeItem('userEmail');
        window.location.href = 'auth.html';
    }
}

// Auth state change
onAuthStateChanged(auth, updateUserUI);

// Logout
logoutBtn.addEventListener('click', async () => {
    profileDropdown.classList.remove('active');
    
    await showToast({
        title: 'D√©connexion',
        message: '√Ä bient√¥t sur TypixClin !',
        type: 'success',
        icon: 'fa-sign-out-alt',
        duration: 2000
    });
    
    setTimeout(async () => {
        await signOut(auth);
    }, 1000);
});

// Load User Data
async function loadUserData() {
    try {
        const userDoc = await getDoc(doc(db, 'users', currentUser.uid));
        
        if (!userDoc.exists()) {
            showError('Donn√©es utilisateur introuvables');
            return;
        }

        userData = userDoc.data();
        displayUserStatus();
        
        document.getElementById('loading').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';

    } catch (error) {
        console.error('Erreur chargement donn√©es:', error);
        showError('Erreur lors du chargement de vos donn√©es');
    }
}

// Display User Status
function displayUserStatus() {
    const statusBadge = document.getElementById('status-badge');
    const statusInfo = document.getElementById('status-info');
    const graceAlert = document.getElementById('grace-alert');
    const plansSection = document.getElementById('plans-section');
    const portalBtn = document.getElementById('portal-btn');

    let badgeHTML = '';
    let infoHTML = '';
    let showPlans = false;

    // Grace Period
    if (userData.premiumType === 'grace_period') {
        const graceEnd = userData.gracePeriodEnd?.toDate();
        const now = new Date();
        const daysLeft = Math.ceil((graceEnd - now) / (1000 * 60 * 60 * 24));

        if (graceEnd && graceEnd > now) {
            badgeHTML = '<span class="status-badge status-grace">üéÅ P√©riode gratuite</span>';
            infoHTML = `
                <div class="info-row">
                    <span class="info-label">Statut :</span>
                    <span class="info-value">Acc√®s gratuit temporaire</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Fin de la p√©riode :</span>
                    <span class="info-value">${graceEnd.toLocaleDateString('fr-FR')}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Jours restants :</span>
                    <span class="info-value">${daysLeft} jours</span>
                </div>
            `;

            if (daysLeft <= 15) {
                graceAlert.innerHTML = `
                    <div class="alert alert-warning">
                        <strong>‚ö†Ô∏è Attention !</strong> Votre p√©riode gratuite se termine dans ${daysLeft} jours. 
                        Souscrivez √† un abonnement pour continuer √† utiliser TypixClin.
                    </div>
                `;
                graceAlert.style.display = 'block';
            }

            showPlans = true;

        } else {
            badgeHTML = '<span class="status-badge status-inactive">‚ùå P√©riode expir√©e</span>';
            infoHTML = `
                <div class="info-row">
                    <span class="info-label">Statut :</span>
                    <span class="info-value">Acc√®s expir√©</span>
                </div>
            `;
            showPlans = true;
        }
    }
    // Active Subscription
    else if (userData.isPremium && userData.subscriptionStatus === 'active') {
        const endDate = userData.subscriptionEndDate?.toDate();
        const planName = userData.premiumType === 'monthly' ? 'Mensuel' : 'Annuel';

        badgeHTML = '<span class="status-badge status-active">‚úÖ Abonnement actif</span>';
        infoHTML = `
            <div class="info-row">
                <span class="info-label">Plan :</span>
                <span class="info-value">${planName}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Prochain renouvellement :</span>
                <span class="info-value">${endDate ? endDate.toLocaleDateString('fr-FR') : 'N/A'}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Statut du paiement :</span>
                <span class="info-value">‚úÖ √Ä jour</span>
            </div>
        `;

        portalBtn.style.display = 'inline-block';
    }
    // No Subscription
    else {
        badgeHTML = '<span class="status-badge status-inactive">‚ùå Pas d\'abonnement</span>';
        infoHTML = `
            <div class="info-row">
                <span class="info-label">Votre statut :</span>
                <span class="info-value">Aucun abonnement actif</span>
            </div>
        `;
        
        graceAlert.innerHTML = `
            <div class="alert alert-info">
                <strong>üí° Information :</strong> Vous devez souscrire √† un abonnement pour acc√©der √† TypixClin.
            </div>
        `;
        graceAlert.style.display = 'block';
        showPlans = true;
    }

    statusBadge.innerHTML = badgeHTML;
    statusInfo.innerHTML = infoHTML;
    plansSection.style.display = showPlans ? 'block' : 'none';
}

// Subscribe
window.subscribe = async function(planType, event) {
    if (!currentUser) {
        await showToast({
            title: 'Erreur',
            message: 'Vous devez √™tre connect√©',
            type: 'error',
            icon: 'fa-exclamation-circle'
        });
        return;
    }

    try {
        const button = event.target;
        button.disabled = true;
        button.textContent = 'Chargement...';

        const createCheckoutSession = httpsCallable(functions, 'createCheckoutSession');
        
        const result = await createCheckoutSession({
            planType: planType,
            successUrl: window.location.origin + '/comptepremium.html?success=true',
            cancelUrl: window.location.origin + '/comptepremium.html?canceled=true'
        });

        window.location.href = result.data.url;

    } catch (error) {
        console.error('Erreur souscription:', error);
        await showToast({
            title: 'Erreur',
            message: 'Erreur lors de la cr√©ation de la session: ' + error.message,
            type: 'error',
            icon: 'fa-exclamation-circle'
        });
        button.disabled = false;
        button.textContent = 'Souscrire';
    }
};

// Open Customer Portal
window.openCustomerPortal = async function() {
    try {
        const button = document.getElementById('portal-btn');
        button.disabled = true;
        button.textContent = 'Chargement...';

        const createPortalSession = httpsCallable(functions, 'createCustomerPortalSession');
        
        const result = await createPortalSession({
            returnUrl: window.location.origin + '/comptepremium.html'
        });

        window.location.href = result.data.url;

    } catch (error) {
        console.error('Erreur portail:', error);
        await showToast({
            title: 'Erreur',
            message: 'Erreur lors de l\'ouverture du portail: ' + error.message,
            type: 'error',
            icon: 'fa-exclamation-circle'
        });
        button.disabled = false;
        button.textContent = 'üìä G√©rer mon abonnement';
    }
};

// Show Error
function showError(message) {
    document.getElementById('loading').innerHTML = `
        <div class="alert alert-warning">
            <strong>‚ö†Ô∏è Erreur :</strong> ${message}
        </div>
    `;
}

// Handle Stripe Returns
const urlParams = new URLSearchParams(window.location.search);
if (urlParams.get('success') === 'true') {
    setTimeout(async () => {
        await showToast({
            title: 'Succ√®s',
            message: 'Paiement r√©ussi ! Votre abonnement est maintenant actif.',
            type: 'success',
            icon: 'fa-check-circle',
            duration: 3000
        });
        window.history.replaceState({}, '', 'comptepremium.html');
    }, 1000);
} else if (urlParams.get('canceled') === 'true') {
    setTimeout(async () => {
        await showToast({
            title: 'Annul√©',
            message: 'Paiement annul√©. Vous pouvez r√©essayer quand vous voulez.',
            type: 'info',
            icon: 'fa-info-circle',
            duration: 3000
        });
        window.history.replaceState({}, '', 'comptepremium.html');
    }, 1000);
}
</script>

</body>
</html>