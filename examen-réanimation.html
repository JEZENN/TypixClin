<!DOCTYPE html>
<html lang="fr">
<head>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KGHT97MD');</script>
<!-- End Google Tag Manager -->


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C2D5ENP3F1"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>



<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C2D5ENP3F1');
</script>

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="TypixClin" />
<link rel="manifest" href="/site.webmanifest" />


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="Examen clinique type en r√©animation et contre rendu d'√©chographie transthoracique par TypixClin. Faites votre examen clinique en ligne. ">

<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>


    <title>TypixClin - Examen R√©animation</title>
    <link rel="stylesheet" href="styles.css">
</head>


<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KGHT97MD"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->




 
<div id="react-root"></div>

<style>
/* Ajustements de base pour √©crans plus petits */
@media (max-width: 768px) {
  /* Ajustement de la taille de base */
  html {
    font-size: 14px; /* R√©duction de la taille de base de la police */
  }

  /* R√©duction de la taille du header */
  .header h1 {
    font-size: 1.5rem; /* Plus petit titre */
    padding: 0.5rem 0;
  }

  /* Ajustement des boutons de navigation */
  .nav-button {
    min-height: 70px !important; /* Hauteur r√©duite */
    padding: 0.5rem !important;
  }

  .nav-icon {
    font-size: 1.2rem !important; /* Ic√¥nes plus petites */
    margin-bottom: 0.15rem !important;
  }

  /* R√©duction du padding des sections */
  .section {
    margin-bottom: 1rem;
  }

  .section-header {
    padding: 0.75rem 1rem;
  }

  .section-header h3 {
    font-size: 1rem;
  }

  .section-content {
    padding: 1rem;
  }

  /* Ajustement des input groups */
  .input-group {
    gap: 5px;
  }

  .input-group label {
    font-size: 0.9rem;
    min-width: 160px !important;
  }

  /* Ajustement des valeurs normales */
  .input-group span {
    font-size: 0.8rem;
  }

  /* Ajustement du texte des statuts */
  [id$="-status"] {
    font-size: 0.8rem;
  }

  /* R√©duction de la taille des sous-sections */
  .subsection {
    padding: 0.75rem;
    margin-bottom: 1rem;
  }

  .subsection h4 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
  }
}

/* Ajustements suppl√©mentaires pour tr√®s petits √©crans */
@media (max-width: 480px) {
  html {
    font-size: 12px;
  }

  .header h1 {
    font-size: 1.25rem;
  }

  /* Ajustement de la grille des boutons de navigation */
  div[style*="grid-template-columns: repeat(5, 1fr)"] {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 0.5rem !important;
  }

  .nav-button {
    min-height: 60px !important;
  }

  .input-group label {
    min-width: 140px !important;
  }

  /* Optimisation pour les petits √©crans */
  .section-header {
    flex-direction: column;
    gap: 0.5rem;
  }

  .button-group {
    width: 100%;
    justify-content: center;
  }

  .toggle-button {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
  }

  /* Ajustement des espaces dans l'analyse */
  .analysis-step {
    padding: 0.75rem;
  }

  .step-values {
    padding: 0.75rem;
  }

  /* Ajustement des boutons de navigation */
  .nav-button {
    font-size: 0.8rem;
  }

  .nav-icon {
    font-size: 1rem !important;
  }
}

/* Optimisation pour √©crans moyens */
@media (min-width: 481px) and (max-width: 768px) {
  div[style*="grid-template-columns: repeat(5, 1fr)"] {
    grid-template-columns: repeat(5, 1fr) !important;
    gap: 0.5rem !important;
  }

  .nav-button {
    min-height: 65px !important;
  }
}

/* Ajout d'une meta viewport pour contr√¥ler le zoom */
</style>

<script>
// Ajout dynamique de la meta viewport
const meta = document.createElement('meta');
meta.name = 'viewport';
meta.content = 'width=device-width, initial-scale=0.86, maximum-scale=5.0, minimum-scale=0.86';
document.head.appendChild(meta);
</script>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
/* =============================================
   VARIABLES TYPIXCLIN HEADER (pr√©fixe tcl-)
   ============================================= */
:root {
    /* Couleurs TCL Header */
    --tcl-primary: #3b82f6;
    --tcl-primary-dark: #1d4ed8;
    --tcl-primary-light: #60a5fa;
    --tcl-primary-gradient: linear-gradient(135deg, #3b82f6, #2563eb);
    --tcl-accent: #8b5cf6;
    --tcl-accent-dark: #6d28d9;
    
    /* Grays */
    --tcl-gray-100: #f3f4f6;
    --tcl-gray-200: #e5e7eb;
    --tcl-gray-300: #d1d5db;
    --tcl-gray-500: #6b7280;
    --tcl-gray-600: #4b5563;
    --tcl-gray-700: #374151;
    --tcl-gray-800: #1f2937;
    --tcl-gray-900: #111827;
    
    /* Shadows */
    --tcl-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --tcl-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --tcl-shadow-blue: 0 10px 25px -5px rgba(59, 130, 246, 0.5);
    
    /* Transitions */
    --tcl-transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --tcl-transition-bounce: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
    
    /* Fonts */
    --tcl-font-display: 'Outfit', system-ui, -apple-system, sans-serif;
    --tcl-font-body: 'Space Grotesk', system-ui, -apple-system, sans-serif;
    
    /* Dimensions */
    --tcl-header-height: 70px;
}

/* Dark theme variables */
[data-theme="dark"] {
    --tcl-primary: #60a5fa;
    --tcl-primary-dark: #3b82f6;
    --tcl-primary-light: #93c5fd;
    --tcl-primary-gradient: linear-gradient(135deg, #60a5fa, #3b82f6);
    --tcl-accent: #a78bfa;
    --tcl-shadow-blue: 0 10px 25px -5px rgba(96, 165, 250, 0.3);
}

/* =============================================
   BARRE DE PROGRESSION EN HAUT
   ============================================= */
.tcl-progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    background: var(--tcl-primary-gradient);
    width: 0%;
    z-index: 1002;
    transition: width 0.1s ease;
}

/* =============================================
   HEADER PRINCIPAL
   ============================================= */
.tcl-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--tcl-header-height);
    z-index: 100;
    transition: transform var(--tcl-transition-normal), background-color var(--tcl-transition-normal), box-shadow var(--tcl-transition-normal);
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--tcl-shadow-md);
}

[data-theme="dark"] .tcl-header {
    background-color: rgba(30, 41, 59, 0.95);
}

.tcl-header-container {
    height: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Logo */
.tcl-logo {
    font-family: var(--tcl-font-display);
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--tcl-primary);
    letter-spacing: -0.05em;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    transition: transform var(--tcl-transition-normal);
}

.tcl-logo:hover {
    transform: scale(1.02);
}

.tcl-logo-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background: var(--tcl-primary-gradient);
    border-radius: 0.5rem;
    color: white;
    font-size: 1.5rem;
}

.tcl-logo:hover .tcl-logo-icon {
    animation: tcl-pulse 1s infinite;
}

@keyframes tcl-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Navigation */
.tcl-nav {
    display: flex;
    align-items: center;
}

.tcl-nav-items {
    display: flex;
    list-style: none;
    gap: 2rem;
    margin: 0;
    padding: 0;
}

.tcl-nav-link {
    font-family: var(--tcl-font-body);
    font-weight: 500;
    color: var(--tcl-gray-700);
    transition: color var(--tcl-transition-normal), transform var(--tcl-transition-normal);
    position: relative;
    text-decoration: none;
    padding: 0.5rem 0;
}

[data-theme="dark"] .tcl-nav-link {
    color: var(--tcl-gray-300);
}

.tcl-nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--tcl-primary-gradient);
    transition: width var(--tcl-transition-normal);
}

.tcl-nav-link:hover {
    color: var(--tcl-primary);
    transform: translateY(-2px);
}

.tcl-nav-link:hover::after {
    width: 100%;
}

/* Dropdown Menu */
.tcl-nav-dropdown {
    position: relative;
}

.tcl-nav-tools {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
}

.tcl-dropdown-icon {
    font-size: 0.75rem;
    transition: transform 0.3s ease;
}

.tcl-nav-dropdown:hover .tcl-dropdown-icon {
    transform: rotate(180deg);
}

.tcl-nav-dropdown-content {
    position: absolute;
    top: 100%;
    left: -10px;
    background: white;
    min-width: 220px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.tcl-nav-dropdown:hover .tcl-nav-dropdown-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(5px);
}

.tcl-dropdown-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    color: var(--tcl-gray-700);
    text-decoration: none;
    transition: all 0.2s ease;
    font-family: var(--tcl-font-body);
}

.tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-100);
    color: var(--tcl-primary);
}

.tcl-dropdown-item.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--tcl-primary);
    font-weight: 500;
}

[data-theme="dark"] .tcl-nav-dropdown-content {
    background: var(--tcl-gray-800);
    border-color: var(--tcl-gray-700);
}

[data-theme="dark"] .tcl-dropdown-item {
    color: var(--tcl-gray-300);
}

[data-theme="dark"] .tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-700);
    color: var(--tcl-primary-light);
}

/* Theme Toggle */
.tcl-theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--tcl-gray-100);
    border-radius: 50%;
    color: var(--tcl-gray-600);
    font-size: 1.25rem;
    cursor: pointer;
    margin-left: 1.5rem;
    transition: all var(--tcl-transition-normal);
    border: none;
}

[data-theme="dark"] .tcl-theme-toggle {
    background: var(--tcl-gray-700);
    color: var(--tcl-gray-300);
}

.tcl-theme-toggle:hover {
    background: var(--tcl-primary-light);
    color: white;
    transform: rotate(15deg);
}

/* =============================================
   NAVIGATION FLOTTANTE LAT√âRALE
   ============================================= */
nav.tcl-floating-nav {
    position: fixed !important;
    right: 20px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 15px !important;
    z-index: 99 !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    padding: 15px 12px !important;
    border-radius: 1rem !important;
    box-shadow: var(--tcl-shadow-lg) !important;
    border: 1px solid var(--tcl-gray-200) !important;
    transition: all var(--tcl-transition-normal) !important;
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
}

[data-theme="dark"] nav.tcl-floating-nav {
    background: rgba(30, 41, 59, 0.95) !important;
    border-color: var(--tcl-gray-700) !important;
}

nav.tcl-floating-nav:hover {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15) !important;
    transform: translateY(-50%) translateX(-5px) !important;
}

a.tcl-nav-indicator {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
    text-decoration: none !important;
    color: var(--tcl-gray-600) !important;
    font-family: var(--tcl-font-body) !important;
    font-weight: 500 !important;
    font-size: 0.9rem !important;
    transition: all var(--tcl-transition-normal) !important;
    padding: 10px 14px !important;
    border-radius: 0.5rem !important;
    background: transparent !important;
    border: none !important;
    width: auto !important;
    height: auto !important;
}

[data-theme="dark"] a.tcl-nav-indicator {
    color: var(--tcl-gray-400) !important;
}

a.tcl-nav-indicator:hover {
    background-color: rgba(59, 130, 246, 0.1) !important;
    color: var(--tcl-primary) !important;
    transform: none !important;
}

a.tcl-nav-indicator.active {
    color: var(--tcl-primary) !important;
    font-weight: 600 !important;
    background-color: rgba(59, 130, 246, 0.1) !important;
}

a.tcl-nav-indicator.active .tcl-nav-dot {
    transform: translateY(-50%) scale(1) !important;
    opacity: 1 !important;
}

.tcl-nav-indicator .tcl-nav-icon {
    font-size: 18px !important;
    width: 24px !important;
    text-align: center !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.tcl-nav-dot {
    position: absolute !important;
    left: 0 !important;
    top: 50% !important;
    transform: translateY(-50%) scale(0) !important;
    width: 4px !important;
    height: 20px !important;
    border-radius: 2px !important;
    background: var(--tcl-primary-gradient) !important;
    transition: all var(--tcl-transition-bounce) !important;
    opacity: 0 !important;
}

.tcl-nav-label {
    white-space: nowrap !important;
    font-size: 12px !important;
    max-width: 70px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* =============================================
   INDICATEUR DE SECTION EN BAS
   ============================================= */
.tcl-section-indicator {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: white;
    border-radius: 50px;
    padding: 12px 30px;
    box-shadow: var(--tcl-shadow-lg);
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    transition: all var(--tcl-transition-bounce);
    z-index: 90;
    border: 2px solid var(--tcl-primary-light);
}

[data-theme="dark"] .tcl-section-indicator {
    background: var(--tcl-gray-800);
    border-color: var(--tcl-primary);
}

.tcl-section-indicator.visible {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
}

.tcl-section-indicator-icon {
    color: var(--tcl-primary);
    font-size: 1.2rem;
}

.tcl-section-indicator-text {
    color: var(--tcl-gray-800);
    font-weight: 600;
    font-family: var(--tcl-font-display);
}

[data-theme="dark"] .tcl-section-indicator-text {
    color: white;
}

/* =============================================
   HERO SECTION
   ============================================= */
.tcl-hero {
    padding-top: calc(var(--tcl-header-height) + 3rem);
    padding-bottom: 4rem;
    background: linear-gradient(135deg, rgba(239, 246, 255, 0.9) 0%, rgba(219, 234, 254, 0.9) 100%);
    overflow: hidden;
    position: relative;
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

[data-theme="dark"] .tcl-hero {
    background: linear-gradient(135deg, rgba(17, 24, 39, 0.9) 0%, rgba(31, 41, 55, 0.9) 100%);
}

.tcl-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2000 1500'%3E%3Cdefs%3E%3Ccircle id='a' fill='none' stroke='%233b82f6' stroke-width='1' stroke-opacity='.1' r='300'/%3E%3C/defs%3E%3Cuse href='%23a' transform='translate(0 0)'/%3E%3Cuse href='%23a' transform='translate(300 200)'/%3E%3Cuse href='%23a' transform='translate(600 0)'/%3E%3Cuse href='%23a' transform='translate(900 200)'/%3E%3Cuse href='%23a' transform='translate(1200 0)'/%3E%3Cuse href='%23a' transform='translate(1500 200)'/%3E%3Cuse href='%23a' transform='translate(0 400)'/%3E%3Cuse href='%23a' transform='translate(300 600)'/%3E%3Cuse href='%23a' transform='translate(600 400)'/%3E%3Cuse href='%23a' transform='translate(900 600)'/%3E%3Cuse href='%23a' transform='translate(1200 400)'/%3E%3C/svg%3E");
    background-size: cover;
    opacity: 0.5;
    z-index: 0;
}

.tcl-hero-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-items: center;
    text-align: center;
    position: relative;
    z-index: 1;
}

.tcl-hero-content {
    max-width: 800px;
    animation: tcl-fadeInUp 0.6s ease-out forwards;
}

@keyframes tcl-fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.tcl-hero-title {
    font-family: var(--tcl-font-display);
    font-size: 3rem;
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    background: var(--tcl-primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.tcl-hero-subtitle {
    font-family: var(--tcl-font-body);
    font-size: 1.15rem;
    color: var(--tcl-gray-600);
    margin-bottom: 2rem;
    line-height: 1.7;
}

[data-theme="dark"] .tcl-hero-subtitle {
    color: var(--tcl-gray-400);
}

/* Navigation des outils */
.tcl-tool-navigation {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 1rem;
    margin-top: 2rem;
    width: 100%;
    max-width: 900px;
}

.tcl-tool-link {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 1.25rem 0.75rem;
    border-radius: 1rem;
    background: white;
    box-shadow: var(--tcl-shadow-md);
    transition: all var(--tcl-transition-bounce);
    color: var(--tcl-gray-800);
    text-decoration: none;
    position: relative;
    overflow: hidden;
}

[data-theme="dark"] .tcl-tool-link {
    background: var(--tcl-gray-800);
    color: var(--tcl-gray-200);
}

.tcl-tool-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: var(--tcl-primary-gradient);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--tcl-transition-normal);
}

.tcl-tool-link:hover {
    transform: translateY(-8px);
    box-shadow: var(--tcl-shadow-lg);
}

.tcl-tool-link:hover::before {
    transform: scaleX(1);
}

.tcl-tool-link.active {
    background: var(--tcl-primary-gradient);
    color: white;
    transform: translateY(-5px);
    box-shadow: var(--tcl-shadow-blue);
}

.tcl-tool-link.active::before {
    display: none;
}

.tcl-tool-icon {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
    transition: transform var(--tcl-transition-normal);
}

.tcl-tool-link:hover .tcl-tool-icon {
    transform: scale(1.2);
}

.tcl-tool-text {
    font-family: var(--tcl-font-body);
    font-size: 0.8rem;
    font-weight: 600;
}

/* Scroll indicator */
.tcl-scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    animation: tcl-bounce 2s infinite;
    color: var(--tcl-primary);
    font-size: 1.75rem;
    cursor: pointer;
    z-index: 5;
    width: 50px;
    height: 50px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--tcl-shadow-md);
    transition: all var(--tcl-transition-normal);
    text-decoration: none;
}

[data-theme="dark"] .tcl-scroll-indicator {
    background: var(--tcl-gray-800);
}

.tcl-scroll-indicator:hover {
    background: var(--tcl-primary);
    color: white;
    transform: translateY(-5px) translateX(-50%);
    box-shadow: var(--tcl-shadow-blue);
}

@keyframes tcl-bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
    }
    40% {
        transform: translateY(-15px) translateX(-50%);
    }
    60% {
        transform: translateY(-8px) translateX(-50%);
    }
}

/* =============================================
   RESPONSIVE
   ============================================= */
@media (max-width: 1200px) {
    .tcl-tool-navigation {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 992px) {
    .tcl-hero-title {
        font-size: 2.5rem;
    }
    
    .tcl-nav-items {
        gap: 1.5rem;
    }
}

@media (max-width: 768px) {
    .tcl-header {
        height: 60px;
    }
    
    /* Navigation reste visible sur mobile - pas de bouton hamburger */
    .tcl-nav-items {
        display: flex;
    }
    
    .tcl-theme-toggle {
        margin-left: 1rem;
    }
    
    .tcl-hero {
        padding-top: calc(60px + 2rem);
        min-height: auto;
        padding-bottom: 3rem;
    }
    
    .tcl-hero-title {
        font-size: 2rem;
    }
    
    .tcl-hero-subtitle {
        font-size: 1rem;
    }
    
    .tcl-tool-navigation {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .tcl-floating-nav {
        bottom: 20px;
        top: auto;
        right: 20px;
        transform: translateY(0);
        flex-direction: row;
        padding: 10px;
    }
    
    .tcl-floating-nav:hover {
        transform: translateY(0) translateX(0);
    }
    
    .tcl-nav-label {
        display: none;
    }
    
    .tcl-nav-dot {
        display: none;
    }
    
    .tcl-section-indicator {
        padding: 8px 15px;
        max-width: calc(100% - 40px);
    }
    
    .tcl-section-indicator-text {
        font-size: 0.9rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .tcl-scroll-indicator {
        display: none;
    }
	
	/* D√©sactiver l'effet de translation au hover sur mobile */
.tcl-tool-link:hover {
    transform: none !important;
}

.tcl-tool-link:hover .tcl-tool-icon {
    transform: none !important;
}

.tcl-tool-link.active {
    transform: none !important;
}
}

@media (max-width: 480px) {
    .tcl-hero-title {
        font-size: 1.75rem;
    }
    
    .tcl-tool-link {
        padding: 1rem 0.5rem;
    }
    
    .tcl-tool-icon {
        font-size: 1.5rem;
    }
    
    .tcl-tool-text {
        font-size: 0.7rem;
    }
    
    .tcl-logo {
        font-size: 1.4rem;
    }
    
    .tcl-logo-icon {
        width: 2rem;
        height: 2rem;
        font-size: 1.2rem;
    }
}

/* =============================================
   ESPACEMENT APR√àS LE HERO
   ============================================= */


section.tcl-hero {
    margin-bottom: 2rem !important;
}

/* =============================================
   HEADER TCL - MENUS D√âROULANTS
   ============================================= */

.tcl-nav-items {
    display: flex;
    list-style: none;
    gap: 1.5rem;
    margin: 0;
    padding: 0;
    align-items: center;
}

.tcl-nav-dropdown {
    position: relative;
}

.tcl-nav-dropdown-trigger {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    font-weight: 500;
    color: var(--tcl-gray-700);
    transition: color var(--tcl-transition-normal), transform var(--tcl-transition-normal);
    padding: 0.5rem 0;
    background: none;
    border: none;
    font-family: var(--tcl-font-body);
    font-size: 1rem;
    position: relative;
    text-decoration: none;
}

[data-theme="dark"] .tcl-nav-dropdown-trigger {
    color: white;
}

.tcl-nav-dropdown-trigger:hover {
    color: var(--tcl-primary);
}

.tcl-nav-dropdown-trigger::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--tcl-primary-gradient);
    transition: width 0.3s ease;
}

.tcl-nav-dropdown:hover .tcl-nav-dropdown-trigger::after {
    width: 100%;
}

.tcl-nav-dropdown-trigger i:first-child {
    font-size: 0.9rem;
}

.tcl-dropdown-chevron {
    font-size: 0.7rem;
    transition: transform 0.3s ease;
}

.tcl-nav-dropdown:hover .tcl-dropdown-chevron {
    transform: rotate(180deg);
}

.tcl-nav-dropdown-content {
    position: absolute;
    top: 100%;
    left: -10px;
    background: white;
    min-width: 240px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 9999;  
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}
.tcl-header {
    z-index: 9999;
}



[data-theme="dark"] .tcl-nav-dropdown-content {
    background: var(--tcl-gray-800);
    border-color: var(--tcl-gray-700);
}

.tcl-nav-dropdown:hover .tcl-nav-dropdown-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(5px);
}

.tcl-dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 18px;
    color: var(--tcl-gray-700);
    text-decoration: none;
    transition: all 0.2s ease;
    font-family: var(--tcl-font-body);
    font-size: 0.95rem;
}

[data-theme="dark"] .tcl-dropdown-item {
    color: white;
}

.tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-100);
    color: var(--tcl-primary);
}

[data-theme="dark"] .tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-700);
    color: var(--tcl-primary-light);
}

.tcl-dropdown-item.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--tcl-primary);
    font-weight: 600;
}

[data-theme="dark"] .tcl-dropdown-item.active {
    background-color: rgba(96, 165, 250, 0.15);
    color: var(--tcl-primary-light);
}

.tcl-dropdown-item i {
    font-size: 1rem;
    width: 20px;
    text-align: center;
}

/* =============================================
   MENU MOBILE TCL
   ============================================= */

.tcl-mobile-menu {
    position: fixed;
    top: var(--tcl-header-height);
    left: 0;
    width: 100%;
    max-height: calc(100vh - var(--tcl-header-height));
    overflow-y: auto;
    background-color: white;
    padding: 1rem;
    z-index: 99;
    box-shadow: var(--tcl-shadow-lg);
    transform: translateY(-100%);
    opacity: 0;
    visibility: hidden;
    transition: transform var(--tcl-transition-normal), opacity var(--tcl-transition-normal), visibility var(--tcl-transition-normal);
}

[data-theme="dark"] .tcl-mobile-menu {
    background-color: var(--tcl-gray-800);
}

.tcl-mobile-menu.active {
    transform: translateY(0);
    opacity: 1;
    visibility: visible;
}

.tcl-mobile-menu-section {
    margin-bottom: 1.5rem;
}

.tcl-mobile-menu-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    font-size: 0.85rem;
    color: var(--tcl-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.5rem 0;
    border-bottom: 2px solid var(--tcl-primary);
    margin-bottom: 0.75rem;
}

.tcl-mobile-menu-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0.85rem 1rem;
    color: var(--tcl-gray-700);
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.2s ease;
    font-size: 0.95rem;
}

[data-theme="dark"] .tcl-mobile-menu-link {
    color: var(--tcl-gray-300);
}

.tcl-mobile-menu-link:hover {
    background-color: var(--tcl-gray-100);
    color: var(--tcl-primary);
}

[data-theme="dark"] .tcl-mobile-menu-link:hover {
    background-color: var(--tcl-gray-700);
}

.tcl-mobile-menu-link.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--tcl-primary);
    font-weight: 600;
}

.tcl-mobile-menu-link i {
    font-size: 1rem;
    width: 22px;
    text-align: center;
}

/* =============================================
   IC√îNES HEADER MOBILE TCL
   ============================================= */

.tcl-header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

@media (max-width: 992px) {
    .tcl-nav-items {
        display: none;
    }
    
    .tcl-header-actions {
        gap: 0.4rem;
    }
    
    .tcl-theme-toggle,
    .tcl-auth-btn,
    .tcl-user-avatar,
    .tcl-mobile-menu-btn {
        width: 38px;
        height: 38px;
        font-size: 1.1rem;
    }
    
    .tcl-theme-toggle {
        margin-left: 0;
    }
    
    .tcl-user-auth {
        margin-left: 0;
    }
    
    .tcl-mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--tcl-gray-100);
        border-radius: 50%;
        color: var(--tcl-gray-600);
        transition: all var(--tcl-transition-normal);
        border: none;
        cursor: pointer;
    }
    
    [data-theme="dark"] .tcl-mobile-menu-btn {
        background: var(--tcl-gray-700);
        color: var(--tcl-gray-300);
    }
    
    .tcl-mobile-menu-btn:hover {
        background: var(--tcl-primary-light);
        color: white;
    }
}

@media (min-width: 993px) {
    .tcl-mobile-menu {
        display: none !important;
    }
    
    .tcl-mobile-menu-btn {
        display: none;
    }
}

@media (max-width: 480px) {
    .tcl-header-actions {
        gap: 0.3rem;
    }
    
    .tcl-theme-toggle,
    .tcl-auth-btn,
    .tcl-user-avatar,
    .tcl-mobile-menu-btn {
        width: 36px;
        height: 36px;
        font-size: 1rem;
    }
}

/* ============================================
   QUALIFICATION RA - JOLIES CASES COLOR√âES
   ============================================ */

/* Pas de RA - Vert */
.ra-pas-de {
    background-color: #d1fae5;
    color: #065f46;
    border: 2px solid #10b981;
}

/* RA l√©ger - Jaune */
.ra-leger {
    background-color: #fef3c7;
    color: #92400e;
    border: 2px solid #f59e0b;
}

/* RA mod√©r√© - Orange */
.ra-modere {
    background-color: #fed7aa;
    color: #9a3412;
    border: 2px solid #ea580c;
}

/* RA s√©v√®re - Rouge */
.ra-severe {
    background-color: #fecaca;
    color: #991b1b;
    border: 2px solid #dc2626;
}

/* ============================================
   DARK MODE
   ============================================ */

[data-theme="dark"] .ra-pas-de {
    background-color: rgba(16, 185, 129, 0.15);
    color: #6ee7b7;
    border-color: #10b981;
}

[data-theme="dark"] .ra-leger {
    background-color: rgba(245, 158, 11, 0.15);
    color: #fcd34d;
    border-color: #f59e0b;
}

[data-theme="dark"] .ra-modere {
    background-color: rgba(234, 88, 12, 0.15);
    color: #fdba74;
    border-color: #ea580c;
}

[data-theme="dark"] .ra-severe {
    background-color: rgba(220, 38, 38, 0.15);
    color: #fca5a5;
    border-color: #dc2626;
}

/* Cacher le span quand vide */
#qualification_ra:empty {
    display: none;
}


</style>

<!-- Barre de progression (placer juste apr√®s <body>) -->
<div class="tcl-progress-bar" id="tclProgressBar"></div>

<!-- Navigation flottante lat√©rale - 3 SECTIONS POUR EXAMEN R√âANIMATION -->
<nav class="tcl-floating-nav">
    <a href="#examen-r√©animation" class="tcl-nav-indicator active" data-section="Examen en r√©animation" data-icon="üöë">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">üöë</span>
        <span class="tcl-nav-label">Examen R√©a</span>
    </a>
    
    <a href="#ETT" class="tcl-nav-indicator" data-section="√âchocardiographie trans-thoracique" data-icon="üíì">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">üíì</span>
        <span class="tcl-nav-label">ETT</span>
    </a>
    
    <a href="#Texte-Type" class="tcl-nav-indicator" data-section="Texte type final" data-icon="‚úçÔ∏è">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">‚úçÔ∏è</span>
        <span class="tcl-nav-label">Texte type</span>
    </a>
</nav>

<!-- Indicateur de section en bas -->
<div class="tcl-section-indicator" id="tclSectionIndicator">
    <div class="tcl-section-indicator-icon">üöë</div>
    <div class="tcl-section-indicator-text">Examen en r√©animation</div>
</div>

<!-- Header -->
<header class="tcl-header" id="tclHeader">
    <div class="tcl-header-container">
        <a href="index.html" class="tcl-logo">
            <span class="tcl-logo-icon"><i class="fas fa-stethoscope"></i></span>
            TypixClin
        </a>
        
        <nav class="tcl-nav">
            <ul class="tcl-nav-items">
                <!-- OUTILS -->
                <li class="tcl-nav-dropdown">
                    <a href="javascript:void(0)" class="tcl-nav-dropdown-trigger">
                        <i class="fas fa-toolbox"></i> Outils
                        <i class="fas fa-chevron-down tcl-dropdown-chevron"></i>
                    </a>
                    <div class="tcl-nav-dropdown-content">
                        <a href="examen-adulte.html" class="tcl-dropdown-item"><i class="fas fa-user-md"></i> Examen Adulte</a>
                        <a href="examen-p√©diatrique.html" class="tcl-dropdown-item"><i class="fas fa-baby"></i> Examen P√©diatrique</a>
                        <a href="examen-r√©animation.html" class="tcl-dropdown-item active"><i class="fas fa-procedures"></i> Examen R√©animation</a>
                        <a href="ecg.html" class="tcl-dropdown-item"><i class="fas fa-heartbeat"></i> ECG</a>
                        <a href="gds.html" class="tcl-dropdown-item"><i class="fas fa-tint"></i> Gaz du Sang</a>
                        <a href="Troubles ioniques.html" class="tcl-dropdown-item"><i class="fas fa-flask"></i> Troubles Ioniques</a>
                    </div>
                </li>
                
                <!-- FICHES -->
                <li class="tcl-nav-dropdown">
                    <a href="javascript:void(0)" class="tcl-nav-dropdown-trigger">
                        <i class="fas fa-clipboard"></i> Fiches
                        <i class="fas fa-chevron-down tcl-dropdown-chevron"></i>
                    </a>
                    <div class="tcl-nav-dropdown-content">
                        <a href="Fiche-examen-clinique.html" class="tcl-dropdown-item"><i class="fas fa-notes-medical"></i> Fiche Examen Clinique</a>
                        <a href="Fiche-ECG.html" class="tcl-dropdown-item"><i class="fas fa-heartbeat"></i> Fiche ECG</a>
                    </div>
                </li>
                
                <!-- RESSOURCES -->
                <li class="tcl-nav-dropdown">
                    <a href="javascript:void(0)" class="tcl-nav-dropdown-trigger">
                        <i class="fas fa-folder-open"></i> Ressources
                        <i class="fas fa-chevron-down tcl-dropdown-chevron"></i>
                    </a>
                    <div class="tcl-nav-dropdown-content">
                        <a href="FichierGsheet.html" class="tcl-dropdown-item"><i class="fas fa-table"></i> Tableur Gsheet Externat</a>
                        <a href="TableurEnLigne.html" class="tcl-dropdown-item"><i class="fas fa-calculator"></i> Tableur en ligne Externat</a>
                        <a href="index.html" class="tcl-dropdown-item"><i class="fas fa-book"></i> Carnet de stage</a>
                    </div>
                </li>
            </ul>
            
            <div class="tcl-header-actions">
                <button class="tcl-mobile-menu-btn" id="tclMobileMenuBtn"><i class="fas fa-bars"></i></button>
            </div>
        </nav>
    </div>
</header>

<!-- Mobile Menu -->
<div class="tcl-mobile-menu" id="tclMobileMenu">
    <div class="tcl-mobile-menu-section">
        <div class="tcl-mobile-menu-title"><i class="fas fa-toolbox"></i> Outils</div>
        <a href="examen-adulte.html" class="tcl-mobile-menu-link"><i class="fas fa-user-md"></i> Examen Adulte</a>
        <a href="examen-p√©diatrique.html" class="tcl-mobile-menu-link"><i class="fas fa-baby"></i> Examen P√©diatrique</a>
        <a href="examen-r√©animation.html" class="tcl-mobile-menu-link active"><i class="fas fa-procedures"></i> Examen R√©animation</a>
        <a href="ecg.html" class="tcl-mobile-menu-link"><i class="fas fa-heartbeat"></i> ECG</a>
        <a href="gds.html" class="tcl-mobile-menu-link"><i class="fas fa-tint"></i> Gaz du Sang</a>
        <a href="Troubles ioniques.html" class="tcl-mobile-menu-link"><i class="fas fa-flask"></i> Troubles Ioniques</a>
    </div>
    
    <div class="tcl-mobile-menu-section">
        <div class="tcl-mobile-menu-title"><i class="fas fa-clipboard"></i> Fiches</div>
        <a href="Fiche-examen-clinique.html" class="tcl-mobile-menu-link"><i class="fas fa-notes-medical"></i> Fiche Examen Clinique</a>
        <a href="Fiche-ECG.html" class="tcl-mobile-menu-link"><i class="fas fa-heartbeat"></i> Fiche ECG</a>
    </div>
    
    <div class="tcl-mobile-menu-section">
        <div class="tcl-mobile-menu-title"><i class="fas fa-folder-open"></i> Ressources</div>
        <a href="FichierGsheet.html" class="tcl-mobile-menu-link"><i class="fas fa-table"></i> Tableur Gsheet Externat</a>
        <a href="TableurEnLigne.html" class="tcl-mobile-menu-link"><i class="fas fa-calculator"></i> Tableur en ligne Externat</a>
        <a href="index.html" class="tcl-mobile-menu-link"><i class="fas fa-book"></i> Carnet de stage</a>
    </div>
</div>

<script>
// Menu mobile toggle
const tclMobileMenuBtn = document.getElementById('tclMobileMenuBtn');
const tclMobileMenu = document.getElementById('tclMobileMenu');

if (tclMobileMenuBtn && tclMobileMenu) {
    tclMobileMenuBtn.addEventListener('click', function() {
        tclMobileMenu.classList.toggle('active');
        tclMobileMenuBtn.innerHTML = tclMobileMenu.classList.contains('active') 
            ? '<i class="fas fa-times"></i>' 
            : '<i class="fas fa-bars"></i>';
    });
}

</script>

<!-- Section Hero - EXAMEN R√âANIMATION ACTIF -->
<section class="tcl-hero">
    <div class="tcl-hero-container">
        <div class="tcl-hero-content">
            <h1 class="tcl-hero-title">Examen en R√©animation</h1>
            <p class="tcl-hero-subtitle">R√©alisez un examen clinique complet et structur√©. Remplissez les champs ci-dessous et obtenez instantan√©ment un texte type personalis√© pour le dossier m√©dical de votre patient en r√©animation. Pour les bousill√©s de m√©decine intensive vous trouverez √©galement la trame de l'ETT d'entr√©e du patient en r√©animation. </p>
            
            <div class="tcl-tool-navigation">
                <a href="examen-adulte.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üßë</span>
                    <span class="tcl-tool-text">Examen Adulte</span>
                </a>
                
                <a href="examen-p√©diatrique.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üë∂</span>
                    <span class="tcl-tool-text">Examen P√©d.</span>
                </a>
                
                <a href="examen-r√©animation.html" class="tcl-tool-link active">
                    <span class="tcl-tool-icon">üöë</span>
                    <span class="tcl-tool-text">Examen R√©a.</span>
                </a>
                
                <a href="ecg.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">‚ö°</span>
                    <span class="tcl-tool-text">ECG</span>
                </a>
                
                <a href="gds.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon"><i class="fas fa-tint" style="color: #ef4444;"></i></span>
                    <span class="tcl-tool-text">GDS</span>
                </a>
                
                <a href="Troubles ioniques.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üîã</span>
                    <span class="tcl-tool-text">Troubles ioniques</span>
                </a>
            </div>
        </div>
    </div>
    
    <a href="#examen-r√©animation" class="tcl-scroll-indicator">
        <i class="fas fa-chevron-down"></i>
    </a>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // =============================================
    // √âL√âMENTS
    // =============================================
    const tclProgressBar = document.getElementById('tclProgressBar');
    const tclNavLinks = document.querySelectorAll('.tcl-nav-indicator');
    const tclSectionIndicator = document.getElementById('tclSectionIndicator');
    const tclSectionIndicatorIcon = document.querySelector('.tcl-section-indicator-icon');
    const tclSectionIndicatorText = document.querySelector('.tcl-section-indicator-text');
    const tclThemeToggle = document.getElementById('tcl-theme-toggle');
    
    let tclLastActiveSection = null;
    let tclIndicatorTimer;
    let tclTicking = false;
    
    // =============================================
    // BARRE DE PROGRESSION
    // =============================================
    function tclUpdateProgress() {
        const windowScroll = window.scrollY;
        const height = document.documentElement.scrollHeight - window.innerHeight;
        const scrolled = (windowScroll / height) * 100;
        
        if (tclProgressBar) {
            tclProgressBar.style.width = scrolled + '%';
        }
    }
    
    // =============================================
    // MISE √Ä JOUR DES SECTIONS ACTIVES
    // =============================================
    function tclUpdateSections() {
        const scrollPosition = window.scrollY + window.innerHeight / 3;
        
        // R√©cup√©rer tous les IDs des sections depuis les liens de navigation
        const sections = [];
        tclNavLinks.forEach(link => {
            const href = link.getAttribute('href');
            if (href && href.startsWith('#')) {
                const id = href.substring(1);
                const element = document.getElementById(id);
                if (element) {
                    sections.push({
                        id: id,
                        element: element,
                        link: link,
                        top: element.getBoundingClientRect().top + window.scrollY
                    });
                }
            }
        });
        
        // Trier par position (du haut vers le bas)
        sections.sort((a, b) => a.top - b.top);
        
        // Trouver la section active
        let activeSection = null;
        for (let i = sections.length - 1; i >= 0; i--) {
            if (scrollPosition >= sections[i].top - 100) {
                activeSection = sections[i];
                break;
            }
        }
        
        // Si aucune section trouv√©e et qu'on est en haut, prendre la premi√®re
        if (!activeSection && sections.length > 0 && window.scrollY < 300) {
            activeSection = sections[0];
        }
        
// Mettre √† jour l'affichage (toujours afficher l'indicateur m√™me si c'est la m√™me section)
if (activeSection) {
    // Mettre √† jour seulement si la section change
    if (tclLastActiveSection !== activeSection.id) {
        tclLastActiveSection = activeSection.id;
        
        // Mettre √† jour les liens de navigation
        tclNavLinks.forEach(link => link.classList.remove('active'));
        activeSection.link.classList.add('active');
        
        // Mettre √† jour l'indicateur en bas
        const sectionName = activeSection.link.getAttribute('data-section');
        const iconElement = activeSection.link.querySelector('.tcl-nav-icon');
        
        if (tclSectionIndicatorIcon && iconElement) {
            tclSectionIndicatorIcon.innerHTML = iconElement.innerHTML;
        }
        
        if (tclSectionIndicatorText && sectionName) {
            tclSectionIndicatorText.textContent = sectionName;
        }
    }
    
    // Toujours afficher l'indicateur quand on est sur une section
    if (tclSectionIndicator && window.scrollY > 100) {
        clearTimeout(tclIndicatorTimer);
        tclSectionIndicator.classList.add('visible');
        
        tclIndicatorTimer = setTimeout(() => {
            tclSectionIndicator.classList.remove('visible');
        }, 8000);
    }
}
        
        // Cacher l'indicateur seulement si on est tout en haut (dans le hero)
        if (window.scrollY < 100 && tclSectionIndicator) {
            tclSectionIndicator.classList.remove('visible');
            clearTimeout(tclIndicatorTimer);
        }
        
        tclTicking = false;
    }
    
    // =============================================
    // GESTION DU SCROLL
    // =============================================
    window.addEventListener('scroll', function() {
        tclUpdateProgress();
        
        if (!tclTicking) {
            window.requestAnimationFrame(() => {
                tclUpdateSections();
            });
            tclTicking = true;
        }
    });
    
    // =============================================
    // NAVIGATION PAR CLIC
    // =============================================
    tclNavLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // =============================================
    // TOGGLE THEME
    // =============================================
    if (tclThemeToggle) {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            const icon = tclThemeToggle.querySelector('i');
            if (icon) {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }
        
        tclThemeToggle.addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const icon = this.querySelector('i');
            
            if (currentTheme === 'dark') {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                if (icon) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                }
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                if (icon) {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            }
        });
    }
    
    // =============================================
    // INITIALISATION
    // =============================================
    tclUpdateProgress();
    setTimeout(tclUpdateSections, 100);
});
</script>




<style>
/* Effets de survol pour les boutons de navigation */
.nav-button {
    position: relative;
    cursor: pointer;
}

.nav-button:not(.active):hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.nav-button:not(.active)::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #2563eb, #1e40af);
    transform: scaleX(0);
    transition: transform 0.3s ease;
    transform-origin: left;
}

.nav-button:not(.active):hover::before {
    transform: scaleX(1);
}

/* Animation pulse pour les ic√¥nes */
.nav-button:hover .nav-icon {
    animation: pulseIcon 1s infinite;
}

@keyframes pulseIcon {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
}

/* Responsive */
@media (max-width: 768px) {
    .nav-button {
        min-height: 80px !important;
    }
}

html {
    scroll-behavior: smooth;
}

</style>




<!-- Script pour g√©rer le comportement des deux sticky wrappers -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const stickyWrapper = document.querySelector('.sticky-wrapper');
    const sectionTitleWrapper = document.querySelector('.section-title-wrapper');
    const header = document.querySelector('header:not(.sticky-wrapper header)'); // Le header principal, pas celui du sticky
    const currentSectionTitle = document.getElementById('current-section-title');
    const navLinks = document.querySelectorAll('.nav-link');
    let isSticky = false;
    let isSectionTitleVisible = false;
    
    // Configuration de l'offset d'anticipation (en pixels)
    const ANTICIPATION_OFFSET = 200;
    
    // Cr√©er un tableau des sections avec leurs positions
    const sectionPositions = [];
    
    function updateSectionPositions() {
        sectionPositions.length = 0;
        
        // Ajouter chaque section avec son ID et sa position
        const sectionContainers = document.querySelectorAll('section[id]');
        sectionContainers.forEach(section => {
            const id = section.getAttribute('id');
            // Trouver le premier √©l√©ment .section qui suit notre section anchor
            const sectionElement = section.nextElementSibling;
            let title = id; // Titre par d√©faut si on ne trouve pas la section header
            
            // Si on a trouv√© la section, chercher son header
            if (sectionElement && sectionElement.classList.contains('section')) {
                const sectionHeader = sectionElement.querySelector('.section-header h3');
                if (sectionHeader) {
                    title = sectionHeader.textContent;
                }
            }
            
            // Chercher le titre complet dans les attributs data-section-title des liens de navigation
            const navLink = document.querySelector(`.nav-link[href="#${id}"]`);
            let fullTitle = title;
            if (navLink && navLink.getAttribute('data-section-title')) {
                fullTitle = navLink.getAttribute('data-section-title');
            }
            
            sectionPositions.push({
                id: id,
                position: section.offsetTop,
                title: fullTitle
            });
        });
        
        // Trier par position (du haut de la page vers le bas)
        sectionPositions.sort((a, b) => a.position - b.position);
    }
    
    function handleScroll() {
        if (window.innerWidth <= 768) {
            // Cacher les deux wrappers sur mobile
            if (stickyWrapper) stickyWrapper.classList.remove('visible');
            if (sectionTitleWrapper) sectionTitleWrapper.classList.remove('visible');
            return;
        }
        
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const threshold = header ? header.offsetTop + header.offsetHeight : 300;
        
        // G√©rer l'affichage du premier sticky wrapper
        if (scrollTop > threshold && !isSticky) {
            if (stickyWrapper) {
                stickyWrapper.classList.add('visible');
                isSticky = true;
            }
        } else if (scrollTop <= threshold && isSticky) {
            if (stickyWrapper) {
                stickyWrapper.classList.remove('visible');
                isSticky = false;
            }
        }
        
        // D√©terminer la section actuelle bas√©e sur la position de d√©filement
        let currentSection = null;
        
        // Parcourir les sections du bas vers le haut de la page
        for (let i = sectionPositions.length - 1; i >= 0; i--) {
            // Si la position de d√©filement + zone d'anticipation d√©passe la position de la section
            if (scrollTop + ANTICIPATION_OFFSET >= sectionPositions[i].position) {
                currentSection = sectionPositions[i];
                break;
            }
        }
        
        // Si aucune section n'est trouv√©e, utiliser la premi√®re
        if (!currentSection && sectionPositions.length > 0) {
            currentSection = sectionPositions[0];
        }
        
        // Mettre √† jour le titre de la section actuelle et afficher le second sticky wrapper
        if (currentSection) {
            // Mettre √† jour le titre
            if (currentSectionTitle) {
                currentSectionTitle.textContent = currentSection.title;
            }
            
            // Afficher le wrapper du titre de section si on n'est pas tout en haut de la page
            if (scrollTop > threshold + 50) {
                // Ajouter un d√©calage suppl√©mentaire pour ne pas le montrer imm√©diatement apr√®s le premier wrapper
                if (!isSectionTitleVisible) {
                    sectionTitleWrapper.classList.add('visible');
                    isSectionTitleVisible = true;
                }
            } else {
                // Cacher le wrapper du titre pr√®s du haut de la page
                if (isSectionTitleVisible) {
                    sectionTitleWrapper.classList.remove('visible');
                    isSectionTitleVisible = false;
                }
            }
            
            // Mettre √† jour la classe active sur les liens de navigation
            navLinks.forEach(link => {
                if (link.getAttribute('href') === `#${currentSection.id}`) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
    }
    
    // Mettre √† jour les positions des sections lors du chargement et du redimensionnement
    window.addEventListener('load', updateSectionPositions);
    window.addEventListener('resize', updateSectionPositions);
    
    // G√©rer le d√©filement pour mettre √† jour le titre et l'affichage
    window.addEventListener('scroll', handleScroll);
    
    // Initialiser l'√©tat au chargement
    updateSectionPositions();
    handleScroll();
    
    // Ajouter des √©couteurs d'√©v√©nements aux liens de navigation
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            const sectionTitle = this.getAttribute('data-section-title');
            if (sectionTitle && currentSectionTitle) {
                currentSectionTitle.textContent = sectionTitle;
                
                // Mettre √† jour la classe active
                navLinks.forEach(navLink => navLink.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });
});

	
	
	


function scrollToTop(event) {
    event.preventDefault();
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}


</script>

	
    <style>
	
/* Effets de survol pour les boutons de navigation */
.container a:not([href="examen-r√©animation.html"]):hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.container a:not([href="examen-r√©animation.html"]):before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #2563eb, #1e40af);
    transform: scaleX(0);
    transition: transform 0.3s ease;
    transform-origin: left;
}

.container a:not([href="examen-r√©animation.html"]):hover:before {
    transform: scaleX(1);
}

/* Style sp√©cifique pour les ic√¥nes au survol */
.container a:hover div:first-child {
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Responsive */
@media (max-width: 768px) {
    .container div {
        grid-template-columns: 1fr;
    }
}


	
/* Variables */
:root {
    --primary-color: #2563eb;
    --secondary-color: #1e40af;
    --background-color: #f8fafc;
    --text-color: #1e293b;
    --border-color: #e2e8f0;
    --input-background: #ffffff;
    --hover-color: #3b82f6;
}

/* Base styles */
body {
    font-family: 'Inter', -apple-system, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    line-height: 1.5;
}

/* Scrollbar styles */
body::-webkit-scrollbar {
    width: 8px;
}

body::-webkit-scrollbar-track {
    background: var(--background-color);
}

body::-webkit-scrollbar-thumb {
    background-color: var(--secondary-color);
    border-radius: 4px;
}

/* Header styles */


h2 {
    font-size: 1.25rem;
    margin: 0.5rem 0;
    font-weight: 500;
    opacity: 0.9;
}

/* Navigation styles - Normal */
.main-nav {
    background-color: #e5e7eb;
    padding: 0.75rem 1rem;
    border-radius: 50px;
    width: 800px;
    margin: 0 auto 2rem auto;
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.nav-link {
    background-color: transparent;
    color: var(--text-color);
    padding: 0.75rem 3rem;
    border-radius: 50px;
    text-decoration: none;
    font-size: 1.2rem;
    font-weight: 700;
    width: 300px;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-link:hover {
    background-color: rgba(37, 99, 235, 0.1);
}

.nav-link.active {
    background-color: var(--primary-color);
    color: white;
}

/* Sticky header styles - COMPACT & OPTIMIZED */

section[id] {
    scroll-margin-top: 150px; /* Ajustez cette valeur selon la hauteur de votre sticky header */
}


.sticky-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    transform: translateY(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    padding: 0.2rem 0.3rem; /* R√©duction de la hauteur */
    opacity: 0;
    pointer-events: none;
    display: flex;
    flex-direction: column;
    align-items: center;
	    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

}

/* When visible */
.sticky-wrapper.visible {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
}

/* Header Styling */


/* Barre blanche sous le titre */
.separator-bar {
    width: 80%;
    height: 2px;
    background: white;
    margin: 0.3rem auto; /* Espacement r√©duit */
    border-radius: 1px;
}

/* Navigation Bar - SINGLE LINE */
.main-nav2 {
    display: flex;
    justify-content: center;
    gap: 0.4rem; /* R√©duction de l‚Äôespace entre les ic√¥nes */
    padding: 0.3rem 0;
    margin: 0 auto;
    width: 100%;
    max-width: 900px;
}

/* Navigation Buttons - SMALL ICONS ONLY */
.nav-link {
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: white;
    font-size: 0.6rem; /* Taille des ic√¥nes ajust√©e */
    padding: 0.4rem; /* Moins de padding */
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transition: background 0.3s ease, transform 0.2s ease;
    width: 2rem; /* Carr√© compact */
    height: 2rem;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.4);
    transform: scale(1.1);
}

/* Ajustement des ic√¥nes */
.nav-link span {
    font-size: 1.4rem; /* Taille ajust√©e */
}



/* Container and Section styles */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
    box-sizing: border-box;
}


.section h4 {
    color: var(--secondary-color);
    font-size: 1.1rem;
    margin: 1rem 0;
}

.icon {
    font-size: 1.5rem;
    color: var(--secondary-color);
}

/* Buttons */
.toggle-button {
    background-color: #1e40af;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    color: white;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s;
    margin-left: 10px;
}

.toggle-button:hover {
    background-color: #3b82f6;
}

.button-container {
    display: flex;
    gap: 10px;
}

/* Form Elements */

/* Style de base pour les inputs texte */


/* Style sp√©cifique pour les petits inputs */
input[type="text"].small {
    width: 60px;
}

/* Style sp√©cifique pour les inputs moyens */
input[type="text"].medium {
    width: 120px;
}

/* Style sp√©cifique pour les grands inputs */
input[type="text"].large {
    width: 300px;
}

/* Effet de survol */
input[type="text"]:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Style de focus */
input[type="text"]:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

/* Style pour les inputs en lecture seule */
input[type="text"][readonly] {
    background-color: #f8fafc;
    border-color: #e2e8f0;
    cursor: not-allowed;
}

/* Style pour les inputs avec fond color√© (comme pour le QTc normal) */
input[type="text"].success {
    background-color: #dcfce7;
    color: #16a34a;
    border-color: #86efac;
}

/* Style pour les inputs avec fond d'erreur (comme pour le QTc anormal) */
input[type="text"].error {
    background-color: #fee2e2;
    color: #dc2626;
    border-color: #fca5a5;
}

/* Placeholder style */
input[type="text"]::placeholder {
    color: #94a3b8;
    opacity: 1;
}

textarea {
    width: 100%;
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-size: 1rem;
    resize: vertical;
    min-height: 150px;
    font-family: 'Calibri', 'Segoe UI', 'Arial', sans-serif;
    line-height: 1.6;
    background-color: #fafafa;
    letter-spacing: 0.3px;
    color: #2d3748;
}

/* Section Content Animations */
.section-content {
    max-height: 20000px;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out;
    opacity: 1;
}

.section-content.hidden {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
    margin-bottom: 0;
}

/* Animations de base */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


/* Style du header */

/* Style des boutons de navigation */
.nav-button {
    opacity: 0;
    animation: fadeInUp 0.5s ease-out forwards;
}

.nav-button:nth-of-type(1) {
    animation-delay: 0.1s;
}

.nav-button:nth-of-type(2) {
    animation-delay: 0.2s;
}

.nav-button:nth-of-type(3) {
    animation-delay: 0.3s;
}

.nav-button:nth-of-type(4) {
    animation-delay: 0.4s;
}
.nav-button:nth-of-type(5) {
    animation-delay: 0.5s;
}
.nav-button:nth-of-type(6) {
    animation-delay: 0.6s;
}

/* Style des sections */
.section {
    opacity: 0;
    animation: fadeInUp 0.5s ease-out forwards;
}

.section:nth-of-type(1) {
    animation-delay: 0.4s;
}

.section:nth-of-type(2) {
    animation-delay: 0.5s;
}

.section:nth-of-type(3) {
    animation-delay: 0.6s;
}



/* Responsive styles - UPDATED */
@media (max-width: 1024px) {
    .main-nav,
    .sticky-wrapper .main-nav {
        width: 95%;
    }
}


@media (max-width: 768px) {
    .sticky-wrapper {
        display: none;
    }

    .main-nav {
        width: 90%;
        padding: 0.5rem;
        gap: 0.5rem;
        flex-direction: column;
        box-sizing: border-box;
    }

    .nav-link {
        width: 100%;
        padding: 0.5rem 0;
        font-size: 1rem;
        margin: 0;
        box-sizing: border-box;
    }

    .section-header {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        text-align: center;
        padding: 1rem;
    }

    .section-header h3 {
        margin-bottom: 10px;
        justify-content: center;
        width: 100%;
        text-align: center;
    }

    .button-group {
        display: flex;
        gap: 10px;
        justify-content: center;
        width: 100%;
    }
}

@media (max-width: 480px) {
    .main-nav {
        width: 90%;
        padding: 0.5rem;
    }

    .nav-link {
        font-size: 0.95rem;
        padding: 0.5rem 0;
    }

    .button-group {
        flex-direction: row;
        gap: 8px;
    }

    .toggle-button {
        font-size: 13px;
        padding: 6px 12px;
        min-width: auto;
    }
}

/* AJOUTEZ ces nouveaux styles */
.section {
    background: white;
    border-radius: 1rem;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    margin-bottom: 1.5rem;
}

.section:hover {
    box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
    transform: translateY(-10px);
}

.section-header {
    background: linear-gradient(135deg, #2563eb, #1e40af);
    padding: 1.25rem 1.5rem;
    border-radius: 0;
    margin: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: none;
    box-shadow: none;
}

.section-header h3 {
    color: white;
    font-size: 1.25rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.section-header .icon {
    color: white;
}

.section-content {
    padding: 1.5rem;
}

.subsection {
    background: #f8fafc;
    border-radius: 0.75rem;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
    border: 1px solid #e5e7eb;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.subsection:hover {
    background: #f1f5f9;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.subsection:last-child {
    margin-bottom: 0;
}

.subsection h4 {
    color: #1e40af;
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #e2e8f0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.toggle-button {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 0.3s ease;
    color: white;
    margin-left: 0.5rem;
}

.toggle-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

/* Styles communs pour les conteneurs de radio et checkbox */
.custom-control {
    position: relative;
    display: inline-flex;
    align-items: center;
    padding-left: 1.25rem;
    margin-right: 1rem;
    cursor: pointer;
    font-size: 0.9rem;
    user-select: none;
    transition: all 0.2s ease;
}

/* Cache l'input original */
.custom-control input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Style de base pour la checkbox et radio personnalis√©e */
.checkmark {
    position: absolute;
    top: 50%;
    left: 3px;
    transform: translateY(-50%);
    height: 12px;
    width: 12px;
    background-color: #fff;
    border: 1px solid #2563eb;
    transition: all 0.2s ease;
}

/* Style sp√©cifique pour la radio */
.radio .checkmark {
    border-radius: 50%;
}

/* Style sp√©cifique pour la checkbox */
.checkbox .checkmark {
    border-radius: 2px;
}

/* Effet de survol sur le conteneur */
.custom-control:hover {
    color: #2563eb;
}

/* Effet de survol sur la marque */
.custom-control:hover .checkmark {
    background-color: rgba(37, 99, 235, 0.15);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
    transform: translateY(-50%) scale(1.1);
}

/* Style quand coch√© - commun */
.custom-control input:checked ~ .checkmark {
    background-color: #2563eb;
    border-color: #2563eb;
}

/* Style du point pour radio - petit point blanc centr√© */
.radio .checkmark:after {
    content: "";
    position: absolute;
    display: none;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: white;
}

/* Style du checkmark pour checkbox - style naturel */
.checkbox .checkmark:after {
    content: "";
    position: absolute;
    display: none;
    left: 3px;
    top: 0px;
    width: 3px;
    height: 7px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Affiche la marque quand coch√© */
.custom-control input:checked ~ .checkmark:after {
    display: block;
}

/* Animation de focus */
.custom-control input:focus ~ .checkmark {
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

/* Style d√©sactiv√© */
.custom-control.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

@media (max-width: 768px) {
  .custom-control {
    padding-left: 1.5rem;
    margin-right: 0.6rem;
    font-size: 0.85rem;
  }
  
  .checkmark {
    height: 10px;
    width: 10px;
    left: 3px;
  }
  
  .checkbox .checkmark:after {
    left: 2.5px;
    top: 0px;
    width: 2.5px;
    height: 6px;
  }
}

@media (max-width: 480px) {
  .custom-control {
    padding-left: 1.4rem;
    margin-right: 0.4rem;
    font-size: 0.8rem;
  }
  
  .checkbox, .radio {
    margin-bottom: 0.3rem;
  }
  
  div[style*="display: flex; flex-wrap: wrap"] label.custom-control {
    margin-bottom: 0.4rem;
  }
  
  .subsection p {
    margin-bottom: 0.6rem;
  }
}

@media (max-width: 768px) {
  .custom-control span.checkmark + span,
  .custom-control input + span + span {
    vertical-align: middle;
    line-height: 1.2;
  }
  
  .subsection label.custom-control {
    padding-right: 0.2rem;
  }
}

<!-- Remplacez la section de style du texte g√©n√©r√© par ceci -->

/* Styles pour la zone de texte g√©n√©r√© */
#generatedTextArea {
    background-color: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 1.5rem;
    min-height: 400px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    line-height: 1.5;
    color: #1e293b; /* Couleur de texte fonc√©e pour assurer la lisibilit√© */
   white-space: pre-wrap;
    word-wrap: break-word;
    overflow-y: auto;
}

#generatedTextArea div {
    margin-bottom: 0.5rem;
}

#generatedTextArea strong {
    font-weight: 600;
    color: #1e40af; /* Bleu fonc√© pour les titres en gras */
}

/* Animation pour l'apparition du texte */
@keyframes fadeInAnimation {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#generatedTextArea div {
    opacity: 0;
    animation: fadeInAnimation 0.5s ease-out forwards;
}

/* Style des boutons */
.toggle-button {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    border: none;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
}

.toggle-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

/* Styles responsives pour les champs de saisie */
textarea, input[type="text"] {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    padding: 0.4rem 0.8rem;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    font-size: 0.9rem;
    transition: all 0.2s ease;
    background-color: white;
    color: #1e293b;
}

textarea {
    min-height: 150px;
    resize: vertical;
}

input[type="text"].small {
    max-width: 60px;
}

input[type="text"].medium {
    max-width: 120px;
}

input[type="text"].large {
    max-width: 300px;
}

@media (max-width: 768px) {
    .subsection input[type="text"]:not(.small):not(.medium) {
        width: 100%;
        max-width: 100%;
    }
    
    .subsection {
        padding: 1rem;
    }
    
    #generatedTextArea {
        width: 100%;
        max-width: 100%;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    
    .form-group {
        margin-bottom: 1rem;
    }
}

#generatedTextArea {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 0.9rem;
}

@media (max-width: 768px) {
    #generatedTextArea {
        padding: 0.5rem;
    }
    
    #generatedTextArea div {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        overflow-wrap: break-word;
        word-break: break-word;
    }
}

input[type="number"] {
   background-color: white;
   color: #1e293b;
   border: 2px solid #475569;  /* Gris beaucoup plus fonc√© pour les bordures */
}

input[type="number"]:hover {
   border-color: #3b82f6;
   box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.35);
}

input[type="number"]:focus {
   border-color: #1d4ed8;
   box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
}



    </style>
</head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />


<body>






<style>
        footer {
            margin-top: auto;
            text-align: left;
            padding: 2rem;
            color: var(--text-gray);
            background: var(--card-bg);
            border-top: 1px solid rgba(0,0,0,0.1);
        }
		
				.logos-container {
    width: 100%;
    padding: 2rem 0;
	    margin-top: 2rem;

    display: flex;
    justify-content: center;
    align-items: center;
}

.logos-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4rem;
    max-width: 800px;
    margin: 0 auto;
    position: relative;
}

.logo-link {
    display: block;
    transition: transform 0.3s ease;
}

.logo-link:hover {
    transform: translateY(-5px);
}

.logo {
    height: 200px;
    width: auto;
}

.logo-separator {
    width: 2px;
    height: 40px;
    background-color: var(--text-gray);
    opacity: 0.3;
}

@media (max-width: 768px) {
    .logos-wrapper {
        gap: 2.5rem;
    }
    
    .logo {
        height: 70px;
    }
    
    .logo-separator {
        height: 30px;
    }
}
		
</style>

			 <section id="examen-r√©animation">
 </section>
 
 

<div class="container rea-section">
				<div class="section">
					<div class="section-header">
						<h3><span class="icon">üöë</span>Examen clinique en r√©animation</h3>
							<div class="button-group">
								<button class="toggle-button" onclick="resetExamenReaInputs()">R√©initialiser</button>
								<button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
							</div>
					</div>
				 <div class="section-content">
						<div class="subsection-grid">
						
						<div class="subsection">
						<h4>Sur le plan h√©modynamique et cardiovasculaire</h4>


<!-- Pour la fr√©quence cardiaque -->
<p><strong>Fr√©quence cardiaque (/min) :</strong> 
   <input type="text" id="FreqCard" placeholder="/min" style="margin-left: 10px; width: 70px;">
   <span id="fc-status" style="margin-left: 10px; font-weight: bold;"></span>
</p>

<!-- Pour la pression art√©rielle -->
<p><strong>Pression art√©rielle (mmHg) :</strong>
   <label>PAS : <input type="text" id="pas" placeholder="mmHg" style="width: 70px; margin-right: 10px;"></label>
   <label>PAD : <input type="text" id="pad" placeholder="mmHg" style="width: 70px; margin-right: 10px;"></label>
   <label>PAM : <input type="text" id="map" readonly placeholder="mmHg" style="width: 80px; background-color: #e9e9e9; margin-left: 10px;"></label>
   <span id="pa-status" style="margin-left: 10px; font-weight: bold;"></span>
</p>
						
<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
    <strong>H√©modynamique :</strong>
    <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
        <input type="radio" name="card4" id="nocard4" checked>
        <span class="checkmark"></span>
        H√©modynamique stable
    </label>
    <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
        <input type="radio" name="card4" id="yescard4">
        <span class="checkmark"></span>
        H√©modynamique instable
    </label>
</p>

<div id="card4Details" style="display: none; margin-left: 20px;">
    <div class="shock-signs">
        <label class="custom-control checkbox" style="margin-right: 15px;">
            <input type="checkbox" id="oligurie">
            <span class="checkmark"></span>
            Oligurie
        </label>
        
        <label class="custom-control checkbox" style="margin-right: 15px;">
            <input type="checkbox" id="confusion">
            <span class="checkmark"></span>
            Confusion
        </label>
        
       
<label class="custom-control checkbox" style="margin-right: 15px;">
    <input type="checkbox" id="trc">
    <span class="checkmark"></span>
    TRC > 3s
</label>

<!-- Zone de valeur TRC qui appara√Æt quand la case est coch√©e -->
<div id="trcValueContainer" style="display: none; margin-left: 20px; margin-top: 10px; margin-bottom: 10px;">
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <label style="width: 150px; min-width: 150px;"><strong>Valeur du TRC :</strong></label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.5" min="3" value="3" style="width: 40px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="trcValue">
            <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
        </div>
    </div>
</div>
		
		<script>
		
		document.getElementById('trc').addEventListener('change', function() {
    const trcValueContainer = document.getElementById('trcValueContainer');
    if (trcValueContainer) {
        trcValueContainer.style.display = this.checked ? 'block' : 'none';
    }
    
    // R√©initialiser la valeur si d√©coch√©e
    if (!this.checked) {
        document.getElementById('trcValue').value = 3;
    }
});

</script>

        
        <label class="custom-control checkbox">
            <input type="checkbox" id="polypnee">
            <span class="checkmark"></span>
            Polypn√©e
        </label>
		
		        <label class="custom-control checkbox" style="margin-right: 15px;">
            <input type="checkbox" id="marbrures">
            <span class="checkmark"></span>
            Marbrures
        </label>
		
					<div id="marbruresDetails" style="display: none; margin-left: 40px;">
				<div style="margin-top: 5px; margin-bottom: 5px;">
					<label style="display: block; margin-bottom: 5px;"><strong>Localisation :</strong></label>
					<div style="display: flex; flex-wrap: wrap; gap: 10px;">
						<label class="custom-control checkbox" style="margin-right: 15px;">
							<input type="checkbox" id="marbruresInferieures">
							<span class="checkmark"></span>
							Membres inf√©rieurs
						</label>
						<label class="custom-control checkbox" style="margin-right: 15px;">
							<input type="checkbox" id="marbruresGeneralisees">
							<span class="checkmark"></span>
							G√©n√©ralis√©es
						</label>
						<label class="custom-control checkbox">
							<input type="checkbox" id="marbruresAbdominales">
							<span class="checkmark"></span>
							Abdominales
						</label>
					</div>
				</div>
			</div>
			
			<script>
			
			// Gestion des d√©tails des marbrures
document.getElementById('marbrures').addEventListener('change', function() {
    const marbruresDetails = document.getElementById('marbruresDetails');
    if (marbruresDetails) {
        marbruresDetails.style.display = this.checked ? 'block' : 'none';
    }
    
    // Si on d√©coche, r√©initialiser les sous-options
    if (!this.checked) {
        document.getElementById('marbruresInferieures').checked = false;
        document.getElementById('marbruresGeneralisees').checked = false;
        document.getElementById('marbruresAbdominales').checked = false;
    }
});

// Assurons-nous √©galement de r√©initialiser lors de la d√©s√©lection de l'instabilit√© h√©modynamique
document.getElementById('nocard4').addEventListener('change', function() {
    if (this.checked) {
        // On utilise le code existant mais on ajoute la r√©initialisation des marbrures
        const marbruresDetails = document.getElementById('marbruresDetails');
        if (marbruresDetails) {
            marbruresDetails.style.display = 'none';
        }
        
        document.getElementById('marbruresInferieures').checked = false;
        document.getElementById('marbruresGeneralisees').checked = false;
        document.getElementById('marbruresAbdominales').checked = false;
    }
});

</script>




    </div>

<div style="margin-top: 10px;">
    <label class="custom-control checkbox">
        <input type="checkbox" id="vasopresseurs">
        <span class="checkmark"></span>
        Supports vasopresseurs
    </label>
</div>
<div id="vasopresseurDetails" style="display: none; margin-left: 20px; margin-top: 10px; padding-left: 10px; border-left: 2px solid #3b82f6;">
    <div style="margin-bottom: 12px;">
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <label class="custom-control checkbox">
                <input type="checkbox" id="noradrenaline">
                <span class="checkmark"></span>
                Noradr√©naline
            </label>
            <div id="noradrenalineInputGroup" style="display: none; align-items: center; flex-wrap: nowrap;">
                <input type="text" id="noradrenalineDose" placeholder="Posologie" style="width: 100px; margin-right: 5px;">
                <span style="color: #64748b; font-size: 0.9rem;">mg/h</span>
            </div>
        </div>
    </div>
    
    <div style="margin-bottom: 12px;">
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <label class="custom-control checkbox">
                <input type="checkbox" id="adrenaline">
                <span class="checkmark"></span>
                Adr√©naline
            </label>
            <div id="adrenalineInputGroup" style="display: none; align-items: center; flex-wrap: nowrap;">
                <input type="text" id="adrenalineDose" placeholder="Posologie" style="width: 100px; margin-right: 5px;">
                <span style="color: #64748b; font-size: 0.9rem;">mg/h</span>
            </div>
        </div>
    </div>
    
    <div style="margin-bottom: 12px;">
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <label class="custom-control checkbox">
                <input type="checkbox" id="dobutamine">
                <span class="checkmark"></span>
                Dobutamine
            </label>
            <div id="dobutamineInputGroup" style="display: none; align-items: center; flex-wrap: nowrap;">
                <input type="text" id="dobutamineDose" placeholder="Posologie" style="width: 100px; margin-right: 5px;">
                <span style="color: #64748b; font-size: 0.9rem;">¬µg/kg/min</span>
            </div>
        </div>
    </div>
    
    <div style="margin-top: 10px;">
        <input type="text" id="vasopresseurPrecisions" placeholder="Pr√©cisions suppl√©mentaires" style="width: 300px;">
    </div>
</div>

<script>
// Afficher/masquer les d√©tails des vasopresseurs
document.getElementById('vasopresseurs').addEventListener('change', function() {
    const details = document.getElementById('vasopresseurDetails');
    details.style.display = this.checked ? 'block' : 'none';
    
    // Si on d√©coche, r√©initialiser les champs
    if (!this.checked) {
        document.getElementById('noradrenaline').checked = false;
        document.getElementById('adrenaline').checked = false;
        document.getElementById('dobutamine').checked = false;
        document.getElementById('noradrenalineDose').value = '';
        document.getElementById('adrenalineDose').value = '';
        document.getElementById('dobutamineDose').value = '';
        document.getElementById('vasopresseurPrecisions').value = '';
        
        // Masquer les groupes d'inputs
        document.getElementById('noradrenalineInputGroup').style.display = 'none';
        document.getElementById('adrenalineInputGroup').style.display = 'none';
        document.getElementById('dobutamineInputGroup').style.display = 'none';
    }
});

// Gestion de l'affichage des champs de posologie avec unit√©s
document.getElementById('noradrenaline').addEventListener('change', function() {
    const inputGroup = document.getElementById('noradrenalineInputGroup');
    inputGroup.style.display = this.checked ? 'flex' : 'none';
    if (!this.checked) {
        document.getElementById('noradrenalineDose').value = '';
    }
});

document.getElementById('adrenaline').addEventListener('change', function() {
    const inputGroup = document.getElementById('adrenalineInputGroup');
    inputGroup.style.display = this.checked ? 'flex' : 'none';
    if (!this.checked) {
        document.getElementById('adrenalineDose').value = '';
    }
});

document.getElementById('dobutamine').addEventListener('change', function() {
    const inputGroup = document.getElementById('dobutamineInputGroup');
    inputGroup.style.display = this.checked ? 'flex' : 'none';
    if (!this.checked) {
        document.getElementById('dobutamineDose').value = '';
    }
});
</script>


</div>
			
<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
    <strong>Insuffisance cardiaque droite :</strong>
    <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
        <input type="radio" name="card5" id="nocard5" checked>
        <span class="checkmark"></span>
        Pas de signe
    </label>
    <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
        <input type="radio" name="card5" id="yescard5">
        <span class="checkmark"></span>
        Signes cliniques
    </label>
</p>

<div style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-bottom: 5px;">
        <input type="checkbox" id="card5d1Input">
        <span class="checkmark"></span>
        Turgescence jugulaire
    </label>

    <label class="custom-control checkbox" style="margin-bottom: 5px;">
        <input type="checkbox" id="card5d2Input">
        <span class="checkmark"></span>
        Reflux h√©patojugulaire
    </label>

    <label class="custom-control checkbox" style="margin-bottom: 5px;">
        <input type="checkbox" id="card5d3Input">
        <span class="checkmark"></span>
        H√©patom√©galie
    </label>

    <label class="custom-control checkbox" style="margin-bottom: 5px;">
        <input type="checkbox" id="card5d4Input">
        <span class="checkmark"></span>
        OMI
    </label>
</div>

<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
    <strong>Insuffisance cardiaque gauche :</strong>
    <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
        <input type="radio" name="icg" id="noicg" checked>
        <span class="checkmark"></span>
        Pas de signe
    </label>
    <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
        <input type="radio" name="icg" id="yesicg">
        <span class="checkmark"></span>
        Signes cliniques
    </label>
</p>

<div id="icgOptions" style="display: none; margin-left: 20px;">
    <div style="margin-left: 0px; display: flex; gap: 20px;">
        <label class="custom-control checkbox">
            <input type="checkbox" id="crepitants">
            <span class="checkmark"></span>
            Cr√©pitants bilat√©raux et sym√©triques
        </label>
        <label class="custom-control checkbox">
            <input type="checkbox" id="orthopnee">
            <span class="checkmark"></span>
            Orthopn√©e
        </label>
    </div>
    <div id="crepitantsLevel" style="display: none; margin-left: 40px;">
        <label class="custom-control radio" style="margin-bottom: 5px;">
            <input type="radio" name="crepitantsLocation" id="bases">
            <span class="checkmark"></span>
            Aux bases
        </label>
        <label class="custom-control radio" style="margin-bottom: 5px;">
            <input type="radio" name="crepitantsLocation" id="miChamps">
            <span class="checkmark"></span>
            Jusqu'aux mi-champs pulmonaires
        </label>
        <label class="custom-control radio" style="margin-bottom: 5px;">
            <input type="radio" name="crepitantsLocation" id="totalite">
            <span class="checkmark"></span>
            Sur la totalit√© des champs pulmonaires
        </label>
    </div>
</div>
			
							

<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
    <strong>Pouls :</strong>
    <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
        <input type="radio" name="pulseType" value="normal" checked>
        <span class="checkmark"></span>
        Pouls p√©riph√©riques et centraux per√ßus et bien frapp√©s
    </label>
    <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
        <input type="radio" name="pulseType" value="abnormal">
        <span class="checkmark"></span>
        Anomalie des pouls
    </label>
</p>

<div id="pulseDetails" style="display: none; margin-left: 20px;">
    <!-- Radiaux -->
    <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; gap: 10px;">
        <span style="width: 100px; font-size: 0.9rem;">Radiaux :</span>
        <div style="display: flex; gap: 15px;">
            <label class="custom-control checkbox">
                <input type="checkbox" name="radialPulse" value="right" checked>
                <span class="checkmark"></span>
                Droit
            </label>
            <label class="custom-control checkbox">
                <input type="checkbox" name="radialPulse" value="left" checked>
                <span class="checkmark"></span>
                Gauche
            </label>
        </div>
    </div>

    <!-- Poplit√©s -->
    <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; gap: 10px;">
        <span style="width: 100px; font-size: 0.9rem;">Poplit√©s :</span>
        <div style="display: flex; gap: 15px;">
            <label class="custom-control checkbox">
                <input type="checkbox" name="poplitealPulse" value="right" checked>
                <span class="checkmark"></span>
                Droit
            </label>
            <label class="custom-control checkbox">
                <input type="checkbox" name="poplitealPulse" value="left" checked>
                <span class="checkmark"></span>
                Gauche
            </label>
        </div>
    </div>

    <!-- Tibiaux post√©rieurs -->
    <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; gap: 10px;">
        <span style="width: 100px; font-size: 0.9rem;">Tibiaux post. :</span>
        <div style="display: flex; gap: 15px;">
            <label class="custom-control checkbox">
                <input type="checkbox" name="tibialPulse" value="right" checked>
                <span class="checkmark"></span>
                Droit
            </label>
            <label class="custom-control checkbox">
                <input type="checkbox" name="tibialPulse" value="left" checked>
                <span class="checkmark"></span>
                Gauche
            </label>
        </div>
    </div>

    <!-- P√©dieux -->
    <div style="display: flex; flex-wrap: wrap; align-items: center; margin-bottom: 10px; gap: 10px;">
        <span style="width: 100px; font-size: 0.9rem;">P√©dieux :</span>
        <div style="display: flex; gap: 15px;">
            <label class="custom-control checkbox">
                <input type="checkbox" name="pedialPulse" value="right" checked>
                <span class="checkmark"></span>
                Droit
            </label>
            <label class="custom-control checkbox">
                <input type="checkbox" name="pedialPulse" value="left" checked>
                <span class="checkmark"></span>
                Gauche
            </label>
        </div>
    </div>
</div>
				
<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
   <strong>Thrombose veineuse profonde :</strong>
   <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
       <input type="radio" name="tvp" id="notvp" checked>
       <span class="checkmark"></span>
       Pas de signe de thrombose veineuse profonde
   </label>
   <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
       <input type="radio" name="tvp" id="yestvp">
       <span class="checkmark"></span>
       Signes de thrombose veineuse profonde
   </label>
</p>

<div class="tvpDetails" style="display: none; margin-left: 20px;">
   <p style="margin-bottom: 10px;">C√¥t√© :
       <label class="custom-control radio" style="margin-right: 15px;">
           <input type="radio" name="tvpSide" value="droite" checked>
           <span class="checkmark"></span>
           Droite
       </label>
       <label class="custom-control radio" style="margin-right: 15px;">
           <input type="radio" name="tvpSide" value="gauche">
           <span class="checkmark"></span>
           Gauche
       </label>
       <label class="custom-control radio">
           <input type="radio" name="tvpSide" value="bilat√©rale">
           <span class="checkmark"></span>
           Bilat√©rale
       </label>
   </p>

   <p>Localisation :
       <label class="custom-control checkbox" style="margin-right: 15px;">
           <input type="checkbox" id="mollet">
           <span class="checkmark"></span>
           Mollet
       </label>
       <label class="custom-control checkbox">
           <input type="checkbox" id="cuisse">
           <span class="checkmark"></span>
           Cuisse
       </label>
   </p>

   <p>Signes cliniques :
       <label class="custom-control checkbox" style="margin-right: 15px;">
           <input type="checkbox" id="douleur">
           <span class="checkmark"></span>
           Douleur
       </label>
       <label class="custom-control checkbox" style="margin-right: 15px;">
           <input type="checkbox" id="oedeme">
           <span class="checkmark"></span>
           ≈íd√®me inflammatoire
       </label>
       <label class="custom-control checkbox" style="margin-right: 15px;">
           <input type="checkbox" id="cordon">
           <span class="checkmark"></span>
           Cordon indur√©
       </label>
       <label class="custom-control checkbox">
           <input type="checkbox" id="homans">
           <span class="checkmark"></span>
           Signe de Homans
       </label>
   </p>
</div>
						

<p style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap;">
   <strong>Bruits du c≈ìur :</strong>
   <label class="custom-control radio" style="margin-left: 10px; display: inline-flex; align-items: center;">
       <input type="radio" name="heartSoundType" value="normal" checked>
       <span class="checkmark"></span>
       R√©guliers sans souffle per√ßus
   </label>
   <label class="custom-control radio" style="margin-left: 0; display: inline-flex; align-items: center;">
       <input type="radio" name="heartSoundType" value="abnormal">
       <span class="checkmark"></span>
       Anomalie auscultatoire
   </label>
</p>

<div id="abnormalDetails" style="display: none; margin-left: 20px;">
   <div class="flex gap-4 mb-2">
       <label class="custom-control radio" style="margin-right: 15px;">
           <input type="radio" name="rhythm" value="regular" checked>
           <span class="checkmark"></span>
           R√©gulier
       </label>
       <label class="custom-control radio">
           <input type="radio" name="rhythm" value="irregular">
           <span class="checkmark"></span>
           Irr√©gulier
       </label>
   </div>

   <div class="mb-2">
       <label class="custom-control checkbox">
           <input type="checkbox" id="hasMurmur">
           <span class="checkmark"></span>
           Pr√©sence d'un souffle
       </label>
   </div>

   <div id="murmurDetails" style="display: none; margin-left: 20px;">
       <div class="mb-2">
           <div>
               <p>Si√®ge
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="location" value="aortic">
                   <span class="checkmark"></span>
                   Aortique
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="location" value="mitral">
                   <span class="checkmark"></span>
                   Mitral
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="location" value="tricuspid">
                   <span class="checkmark"></span>
                   Tricuspidien
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" name="location" value="pulmonary">
                   <span class="checkmark"></span>
                   Pulmonaire
               </label>
               </p>
           </div>

           <div>
               <p>Timbre
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="timbre" value="soft">
                   <span class="checkmark"></span>
                   Doux hum√© aspiratif
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="timbre" value="harsh">
                   <span class="checkmark"></span>
                   Rude r√¢peux
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="timbre" value="musical">
                   <span class="checkmark"></span>
                   En jet de vapeur piaulant
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" name="timbre" value="friction">
                   <span class="checkmark"></span>
                   Frottement p√©ricardique
               </label>
               </p>
           </div>

           <div>
               <p>Temps
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="timing" value="systolic">
                   <span class="checkmark"></span>
                   Systolique
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="timing" value="diastolic">
                   <span class="checkmark"></span>
                   Diastolique
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" name="timing" value="continuous">
                   <span class="checkmark"></span>
                   Systolo-diastolique
               </label>
               </p>
           </div>

           <div class="mb-2">
               <p>Intensit√© :
               <select name="intensity">
                   <option value="1">1/6</option>
                   <option value="2">2/6</option>
                   <option value="3">3/6</option>
                   <option value="4">4/6</option>
                   <option value="5">5/6</option>
                   <option value="6">6/6</option>
               </select>
               </p>
           </div>

           <div class="mb-2">
               <p>Irradiation :
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="radiation" value="carotid">
                   <span class="checkmark"></span>
                   Carotidienne
               </label>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" name="radiation" value="axillary">
                   <span class="checkmark"></span>
                   Axillaire
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" name="radiation" value="none">
                   <span class="checkmark"></span>
                   Sans irradiation
               </label>
               </p>
           </div>
       </div>
   </div>
</div>
							
						</div>
						
						
				<script>
				

document.addEventListener('DOMContentLoaded', function() {
    // Configurer les √©couteurs d'√©v√©nements pour la fr√©quence cardiaque
    document.getElementById('FreqCard').addEventListener('input', updateHeartRateStatus);
    
    // Configurer les √©couteurs d'√©v√©nements pour la pression art√©rielle
    document.getElementById('pas').addEventListener('input', function() {
        calculateAndDisplayMAP();
        updateBloodPressureStatus();
    });
    
    document.getElementById('pad').addEventListener('input', function() {
        calculateAndDisplayMAP();
        updateBloodPressureStatus();
    });
    
    // Fonction pour calculer et afficher la PAM
    function calculateAndDisplayMAP() {
        const pas = parseFloat(document.getElementById('pas').value) || 0;
        const pad = parseFloat(document.getElementById('pad').value) || 0;
        const mapField = document.getElementById('map');
        
        if (pas > 0 && pad > 0) {
            const pam = ((pas + 2 * pad) / 3).toFixed(0);
            mapField.value = pam;
        } else {
            mapField.value = '';
        }
    }
    
    // Fonction pour mettre √† jour le statut de FC
    function updateHeartRateStatus() {
        const fc = parseFloat(document.getElementById('FreqCard').value);
        const fcStatusSpan = document.getElementById('fc-status');
        
        if (!fcStatusSpan || isNaN(fc) || fc === 0) {
            fcStatusSpan.innerHTML = '';
            return;
        }
        
        let status, color;
        if (fc > 100) {
            status = "Tachycardie";
            color = "red";
        } else if (fc < 60) {
            status = "Bradycardie";
            color = "red";
        } else {
            status = "Normocarde";
            color = "green";
        }
        
        fcStatusSpan.innerHTML = `<span style="color: ${color};">${status}</span>`;
    }
    
    // Fonction pour mettre √† jour le statut de PA
    function updateBloodPressureStatus() {
        const pam = parseFloat(document.getElementById('map').value);
        const paStatusSpan = document.getElementById('pa-status');
        
        if (!paStatusSpan || isNaN(pam) || pam === 0) {
            paStatusSpan.innerHTML = '';
            return;
        }
        
        let status, color;
        if (pam < 65) {
            status = "Hypotension";
            color = "red";
        } else {
            status = "Normotension";
            color = "green";
        }
        
        paStatusSpan.innerHTML = `<span style="color: ${color};">${status}</span>`;
    }
});
				
				// Gestion de l'affichage des d√©tails h√©modynamiques
document.getElementById('yescard4').addEventListener('change', function() {
    document.getElementById('card4Details').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('nocard4').addEventListener('change', function() {
    document.getElementById('card4Details').style.display = 'none';
    // R√©initialiser tous les champs
    document.querySelectorAll('#card4Details input[type="checkbox"]').forEach(cb => cb.checked = false);
    document.querySelectorAll('#card4Details input[type="text"]').forEach(input => input.value = '');
    document.getElementById('vasopresseurDetails').style.display = 'none';
});

// Gestion des supports vasopresseurs
document.getElementById('vasopresseurs').addEventListener('change', function() {
    document.getElementById('vasopresseurDetails').style.display = this.checked ? 'block' : 'none';
});

// Gestion des doses pour chaque vasopresseur
['noradrenaline', 'adrenaline', 'dobutamine'].forEach(drug => {
    document.getElementById(drug).addEventListener('change', function() {
        document.getElementById(drug + 'Dose').style.display = this.checked ? 'inline' : 'none';
    });
});

// Insuffisance cardiaque droite
document.getElementById('yescard5').addEventListener('change', function() {
    const checkboxes = document.querySelectorAll('[id^="card5d"][id$="Input"]');
    checkboxes.forEach(checkbox => {
        checkbox.closest('.custom-control').style.display = this.checked ? 'block' : 'none';
    });
});

// Masquer initialement les checkboxes ICD au chargement de la page
document.querySelectorAll('[id^="card5d"][id$="Input"]').forEach(checkbox => {
    checkbox.closest('.custom-control').style.display = 'none';
});

document.getElementById('nocard5').addEventListener('change', function() {
    if (this.checked) {
        const checkboxes = document.querySelectorAll('[id^="card5d"][id$="Input"]');
        checkboxes.forEach(checkbox => {
            checkbox.closest('.custom-control').style.display = 'none';
            checkbox.checked = false;
        });
    }
});

// Insuffisance cardiaque gauche
document.getElementById('yesicg').addEventListener('change', function() {
    document.getElementById('icgOptions').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('noicg').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('icgOptions').style.display = 'none';
        document.getElementById('crepitants').checked = false;
        document.getElementById('orthopnee').checked = false;
        document.getElementById('crepitantsLevel').style.display = 'none';
        document.querySelectorAll('input[name="crepitantsLocation"]').forEach(radio => radio.checked = false);
    }
});

document.getElementById('crepitants').addEventListener('change', function() {
    document.getElementById('crepitantsLevel').style.display = this.checked ? 'block' : 'none';
    if (!this.checked) {
        document.querySelectorAll('input[name="crepitantsLocation"]').forEach(radio => radio.checked = false);
    }
});

// Thrombose veineuse profonde
document.querySelectorAll('input[name="tvp"]').forEach(radio => {
    radio.addEventListener('change', function() {
        document.querySelector('.tvpDetails').style.display = 
            this.id === 'yestvp' ? 'block' : 'none';
    });
});

// Pouls
document.querySelectorAll('input[name="pulseType"]').forEach(radio => {
    radio.addEventListener('change', function() {
        document.getElementById('pulseDetails').style.display = 
            this.value === 'abnormal' ? 'block' : 'none';
    });
});




// Bruits du c≈ìur
document.querySelectorAll('input[name="heartSoundType"]').forEach(radio => {
    radio.addEventListener('change', function() {
        document.getElementById('abnormalDetails').style.display = 
            this.value === 'abnormal' ? 'block' : 'none';
    });
});

document.getElementById('hasMurmur').addEventListener('change', function() {
    document.getElementById('murmurDetails').style.display = 
        this.checked ? 'block' : 'none';
});


				
				</script>
						
						<div class="subsection">
						<h4>Sur le plan respiratoire</h4>
						

<!-- Pour la fr√©quence respiratoire -->
<p><strong>Fr√©quence respiratoire (/min) :</strong> 
   <input type="text" id="FreqResp" placeholder="/min" style="margin-left: 10px; width: 70px;">
   <span id="fr-status" style="margin-left: 10px; font-weight: bold;"></span>
</p>


<!-- Type de ventilation -->
<div class="ventilation-section" style="margin-top: 15px; margin-bottom: 15px;">
    <p><strong>Ventilation :</strong></p>
    <div style="display: flex; gap: 15px; margin-left: 20px;">
        <label class="custom-control radio">
            <input type="radio" name="typeVentilation" id="ventSpontanee" checked>
            <span class="checkmark"></span>
            Spontan√©e
        </label>
        <label class="custom-control radio">
            <input type="radio" name="typeVentilation" id="ventNonInvasive">
            <span class="checkmark"></span>
            Non invasive
        </label>
        <label class="custom-control radio">
            <input type="radio" name="typeVentilation" id="ventInvasive">
            <span class="checkmark"></span>
            Invasive
        </label>
    </div>
    
    <!-- Section Ventilation Invasive -->
    <div id="ventInvasiveSection" style="display: none; margin-left: 20px; border-left: 2px solid #3b82f6; padding-left: 15px; margin-top: 10px;">
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>Volume courant :</strong></label>
            <input type="text" id="volumeCourant" style="width: 60px;"> ml
        </div>

        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>PEEP :</strong></label>
            <input type="text" id="peepInvasive" style="width: 60px;"> cmH<sub>2</sub>O
        </div>
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>Pression plateau :</strong></label>
            <input type="text" id="pressionPlateau" style="width: 60px;"> cmH<sub>2</sub>O
        </div>
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>FiO<sub>2</sub> :</strong></label>
            <input type="text" id="fio2Invasive" style="width: 60px;"> %
        </div>
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>SaO<sub>2</sub> :</strong></label>
            <input type="text" id="sao2Invasive" style="width: 60px;"> %
        </div>
    </div>
    
    <!-- Section Ventilation Non Invasive -->
    <div id="ventNonInvasiveSection" style="display: none; margin-left: 20px; border-left: 2px solid #3b82f6; padding-left: 15px; margin-top: 10px;">
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>Aide inspiratoire :</strong></label>
            <input type="text" id="aideInspiratoire" style="width: 60px;"> cmH<sub>2</sub>O
        </div>

        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>PEEP :</strong></label>
            <input type="text" id="peepNonInvasive" style="width: 60px;"> cmH<sub>2</sub>O
        </div>
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>FiO<sub>2</sub> :</strong></label>
            <input type="text" id="fio2NonInvasive" style="width: 60px;"> %
        </div>
        <div style="margin-bottom: 10px;">
            <label style="display: inline-block; width: 180px;"><strong>SaO<sub>2</sub> :</strong></label>
            <input type="text" id="sao2NonInvasive" style="width: 60px;"> %
        </div>
    </div>
    
<!-- Section Ventilation Spontan√©e -->
<div id="ventSpontaneeSection" style="display: block; margin-left: 20px; border-left: 2px solid #3b82f6; padding-left: 15px; margin-top: 10px;">
   
    <div style="margin-bottom: 10px;">
        <label style="display: inline-block; width: 180px;"><strong>Oxyg√©noth√©rapie :</strong></label>
        <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="oxygenotherapie" id="oxygenOui">
            <span class="checkmark"></span>
            Oui
        </label>
        <label class="custom-control radio">
            <input type="radio" name="oxygenotherapie" id="oxygenNon" checked>
            <span class="checkmark"></span>
            Non
        </label>
    </div>
    <div id="debitO2Section" style="margin-bottom: 10px; display: none;">
        <label style="display: inline-block; width: 180px;"><strong>D√©bit O<sub>2</sub> :</strong></label>
        <input type="text" id="debitO2" style="width: 60px;"> L/min
    </div>
    <div style="margin-bottom: 10px;">
        <label style="display: inline-block; width: 180px;"><strong>SaO<sub>2</sub> :</strong></label>
        <input type="text" id="sao2Spontanee" style="width: 60px;"> %
    </div>
</div>
</div>



						
<p><strong>Inspection thoracique :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="inspection" id="normalInspection" checked> 
        <span class="checkmark"></span>
        Pas d'anomalie √† l'inspection
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="inspection" id="abnormalInspection">
        <span class="checkmark"></span>
        Anomalie √† l'inspection
    </label>
</p>

<div id="inspectionDetails" style="display: none; margin-left: 20px;">
    <!-- Ampliation thoracique -->
    <p>
        <label class="custom-control radio" style="margin-right: 10px;">
            <input type="radio" name="ampliation" value="symetrique" checked>
            <span class="checkmark"></span>
            Ampliation thoracique sym√©trique
        </label>
        <label class="custom-control radio" style="margin-right: 10px;">
            <input type="radio" name="ampliation" value="asymetrique">
            <span class="checkmark"></span>
            Ampliation thoracique asym√©trique
        </label>
    </p>
    <div id="ampliationSide" style="display: none; margin-left: 40px;">
        <label class="custom-control radio" style="margin-right: 10px;">
            <input type="radio" name="ampliationSideChoice" value="droite" checked>
            <span class="checkmark"></span>
            √† droite
        </label>
        <label class="custom-control radio" style="margin-right: 10px;">
            <input type="radio" name="ampliationSideChoice" value="gauche">
            <span class="checkmark"></span>
            √† gauche
        </label>
    </div>

    <!-- Autres signes -->
    <p>
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="hippocratisme">
            <span class="checkmark"></span>
            Hippocratisme digital
        </label>
    
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="cyanose">
            <span class="checkmark"></span>
            Cyanose des extr√©mit√©s
        </label>
    
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="distension">
            <span class="checkmark"></span>
            Distension thoracique
        </label>
		
		<label class="custom-control checkbox" style="margin-right: 10px;">
			<input type="checkbox" id="freinExpiratoire">
			<span class="checkmark"></span>
			Frein expiratoire
		</label>

    </p>
</div>
			
			
<!-- Pour l'hypercapnie -->
<p><strong>Hypercapnie :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp4" id="noresp4" checked>
        <span class="checkmark"></span>
        Pas de signe
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp4" id="yesresp4">
        <span class="checkmark"></span>
        Signes cliniques
    </label>
</p>

<div id="resp4d1" style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp4d1Input">
        <span class="checkmark"></span>
        Sueurs
    </label>
</div>
<div id="resp4d2" style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp4d2Input">
        <span class="checkmark"></span>
        Ast√©ririx
    </label>
</div>
<div id="resp4d3" style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp4d3Input">
        <span class="checkmark"></span>
        C√©phal√©es
    </label>
</div>
<div id="resp4d4" style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp4d4Input">
        <span class="checkmark"></span>
        HTA
    </label>
</div>
<div id="resp4d5" style="margin-left: 20px;">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp4d5Input">
        <span class="checkmark"></span>
        Agitation/confusion
    </label>
</div>

<!-- Pour les signes de lutte -->
<p><strong>Signes de lutte :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp5" id="noresp5" checked>
        <span class="checkmark"></span>
        Pas de signe
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp5" id="yesresp5">
        <span class="checkmark"></span>
        Signes cliniques
<!-- Remplacer le select original par : -->
			<div class="custom-select" style="display: none; margin-left: 10px;">
				<button type="button" class="select-button" onclick="toggleSelect(this)">
					<span class="intensity-dot"></span>
					<span class="selected-text">L√©ger</span>
					<span class="select-arrow">‚ñº</span>
				</button>
				<div class="select-dropdown">
					<div class="select-option" data-value="l√©ger" onclick="selectIntensity(this)">
						<span class="intensity-dot light"></span>L√©ger
					</div>
					<div class="select-option" data-value="mod√©r√©" onclick="selectIntensity(this)">
						<span class="intensity-dot medium"></span>Mod√©r√©
					</div>
					<div class="select-option" data-value="majeur" onclick="selectIntensity(this)">
						<span class="intensity-dot severe"></span>Majeur
					</div>
				</div>
				<select id="resp5Intensity" style="display: none;">
					<option value="l√©ger">L√©ger</option>
					<option value="mod√©r√©">Mod√©r√©</option>
					<option value="majeur">Majeur</option>
				</select>
			</div>
    </label>
</p>

<style>
.custom-select {
    position: relative;
    display: inline-block;
    font-family: system-ui, -apple-system, sans-serif;
}

.select-button {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    cursor: pointer;
    min-width: 120px;
    font-size: 14px;
    color: #1e293b;
    transition: all 0.2s ease;
}

.select-button:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.intensity-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 8px;
    background-color: #22c55e;
}

.selected-text {
    flex-grow: 1;
    text-align: left;
}

.select-arrow {
    margin-left: 8px;
    font-size: 10px;
    transition: transform 0.2s ease;
}

.select-dropdown {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    margin-top: 4px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.select-option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.select-option:hover {
    background-color: #f8fafc;
}

.intensity-dot.light { background-color: #22c55e; }
.intensity-dot.medium { background-color: #f59e0b; }
.intensity-dot.severe { background-color: #ef4444; }

.custom-select.open .select-arrow {
    transform: rotate(180deg);
}

.custom-select.open .select-dropdown {
    display: block;
}
</style>

<div id="signeLutteDetails" style="display: none; margin-left: 20px;">
    <div id="resp5d1">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="resp5d1Input">
            <span class="checkmark"></span>
            Tirage intercostal
        </label>
    </div>
    <div id="resp5d2">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="resp5d2Input">
            <span class="checkmark"></span>
            Tirage susclaviculaire
        </label>
    </div>
    <div id="resp5d3">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="resp5d3Input">
            <span class="checkmark"></span>
            Tirage souscostal
        </label>
    </div>
    <div id="resp5d4">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="resp5d4Input">
            <span class="checkmark"></span>
            Balancement thoracoabdominal
        </label>
    </div>
</div>
			
<p><strong>Percussion :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="percussion" id="normalPercussion" checked>
        <span class="checkmark"></span> Percussion sans anomalie
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="percussion" id="abnormalPercussion">
        <span class="checkmark"></span> Anomalie de la percussion
    </label>
</p>
<div id="percussionDetails" style="display: none; margin-left: 20px;">
    <div>
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="tympanisme">
            <span class="checkmark"></span> Tympanisme
        </label>
        <input type="text" id="tympanismeLocation" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
    </div>
    <div>
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="matite">
            <span class="checkmark"></span> Matit√©
        </label>
        <input type="text" id="matiteLocation" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
    </div>
</div>
	
<p><strong>Auscultation pulmonaire :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp6" id="noresp6" checked>
        <span class="checkmark"></span> Murmure v√©siculaire bilat√©ral et sym√©trique sans bruit surajout√©
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="resp6" id="yesresp6">
        <span class="checkmark"></span> Anomalie auscultatoire
    </label>
</p>
<div id="mon√©normechibre" style="margin-left: 20px;">

<div class="resp6d1" id="resp6d1">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp6d1Input">
        <span class="checkmark"></span> Cr√©pitants
    </label>
    <input type="text" id="resp6d1Text" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
</div>
<div class="resp6d2" id="resp6d2">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp6d2Input">
        <span class="checkmark"></span> Sibilants
    </label>
    <input type="text" id="resp6d2Text" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
</div>
<div class="resp6d3" id="resp6d3">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp6d3Input">
        <span class="checkmark"></span> Souffle tubaire
    </label>
    <input type="text" id="resp6d3Text" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
</div>
<div class="resp6d4" id="resp6d4">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp6d4Input">
        <span class="checkmark"></span> Ronchis
    </label>
    <input type="text" id="resp6d4Text" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
</div>
<div class="resp6d5" id="resp6d5">
    <label class="custom-control checkbox" style="margin-right: 10px;">
        <input type="checkbox" id="resp6d5Input">
        <span class="checkmark"></span> Abolition du murmure v√©siculaire
    </label>
    <input type="text" id="resp6d5Text" placeholder="Localisation" style="display: none; margin-left: 10px; width: 300px;">
</div>
</div>
							
						</div>
						
						
				<script>
				
				
				// Fonction pour mettre √† jour le statut de fr√©quence respiratoire
function updateRespiratoryRateStatus() {
    const fr = parseFloat(document.getElementById('FreqResp').value);
    const frStatusSpan = document.getElementById('fr-status');
    
    if (!frStatusSpan || isNaN(fr) || fr === 0) {
        frStatusSpan.innerHTML = '';
        return;
    }
    
    let status, color;
    if (fr < 12) {
        status = "Bradypn√©e";
        color = "red";
    } else if (fr > 20) {
        status = "Polypn√©e";
        color = "red";
    } else {
        status = "Normopn√©e";
        color = "green";
    }
    
    frStatusSpan.innerHTML = `<span style="color: ${color};">${status}</span>`;
}



// gestion de la ventilation 
document.addEventListener('DOMContentLoaded', function() {
    // Gestion des sections de ventilation
    const ventSpontanee = document.getElementById('ventSpontanee');
    const ventNonInvasive = document.getElementById('ventNonInvasive');
    const ventInvasive = document.getElementById('ventInvasive');
    
    const ventSpontaneeSection = document.getElementById('ventSpontaneeSection');
    const ventNonInvasiveSection = document.getElementById('ventNonInvasiveSection');
    const ventInvasiveSection = document.getElementById('ventInvasiveSection');
    
    // √âl√©ments pour l'oxyg√©noth√©rapie
    const oxygenOui = document.getElementById('oxygenOui');
    const oxygenNon = document.getElementById('oxygenNon');
    const debitO2Section = document.getElementById('debitO2Section');
    
    // Initialisation
    ventSpontaneeSection.style.display = 'block';
    ventNonInvasiveSection.style.display = 'none';
    ventInvasiveSection.style.display = 'none';
    
    // Initialisation oxyg√©noth√©rapie
    if (debitO2Section) {
        debitO2Section.style.display = 'none';
    }
    
    // √âcouteurs d'√©v√©nements pour les changements de type de ventilation
    ventSpontanee.addEventListener('change', function() {
        if (this.checked) {
            ventSpontaneeSection.style.display = 'block';
            ventNonInvasiveSection.style.display = 'none';
            ventInvasiveSection.style.display = 'none';
            
            // R√©initialiser les champs des autres sections
            resetVentilationFields('nonInvasive');
            resetVentilationFields('invasive');
        }
    });
    
    ventNonInvasive.addEventListener('change', function() {
        if (this.checked) {
            ventSpontaneeSection.style.display = 'none';
            ventNonInvasiveSection.style.display = 'block';
            ventInvasiveSection.style.display = 'none';
            
            // R√©initialiser les champs des autres sections
            resetVentilationFields('spontanee');
            resetVentilationFields('invasive');
        }
    });
    
    ventInvasive.addEventListener('change', function() {
        if (this.checked) {
            ventSpontaneeSection.style.display = 'none';
            ventNonInvasiveSection.style.display = 'none';
            ventInvasiveSection.style.display = 'block';
            
            // R√©initialiser les champs des autres sections
            resetVentilationFields('spontanee');
            resetVentilationFields('nonInvasive');
        }
    });
    
    // √âcouteurs d'√©v√©nements pour l'oxyg√©noth√©rapie
    if (oxygenOui) {
        oxygenOui.addEventListener('change', function() {
            if (this.checked && debitO2Section) {
                debitO2Section.style.display = 'block';
            }
        });
    }
    
    if (oxygenNon) {
        oxygenNon.addEventListener('change', function() {
            if (this.checked && debitO2Section) {
                debitO2Section.style.display = 'none';
                const debitO2Input = document.getElementById('debitO2');
                if (debitO2Input) {
                    debitO2Input.value = '';
                }
            }
        });
    }
    
    // Fonction pour r√©initialiser les champs d'une section de ventilation
    function resetVentilationFields(sectionType) {
        let fieldsToReset = [];
        
        if (sectionType === 'spontanee') {
            fieldsToReset = ['freqRespSpontanee', 'debitO2', 'sao2Spontanee'];
            // R√©initialiser aussi l'option d'oxyg√©noth√©rapie
            if (oxygenNon) {
                oxygenNon.checked = true;
            }
            if (debitO2Section) {
                debitO2Section.style.display = 'none';
            }
        } else if (sectionType === 'nonInvasive') {
            fieldsToReset = ['aideInspiratoire', 'freqRespNonInvasive', 'peepNonInvasive', 'fio2NonInvasive', 'sao2NonInvasive'];
        } else if (sectionType === 'invasive') {
            fieldsToReset = ['volumeCourant', 'freqRespInvasive', 'peepInvasive', 'pressionPlateau', 'fio2Invasive', 'sao2Invasive'];
        }
        
        fieldsToReset.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (field) field.value = '';
        });
    }
});


				// Affichage des signes de lutte
document.getElementById('yesresp5').addEventListener('change', function() {
    const customSelect = document.querySelector('.custom-select');
    customSelect.style.display = this.checked ? 'inline-block' : 'none';
    document.getElementById('signeLutteDetails').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('noresp5').addEventListener('change', function() {
    if (this.checked) {
        const customSelect = document.querySelector('.custom-select');
        customSelect.style.display = 'none';
        document.getElementById('signeLutteDetails').style.display = 'none';
    }
});

// Gestion select pour l'intensit√© des signes de lutte
function toggleSelect(button) {
    const select = button.closest('.custom-select');
    select.classList.toggle('open');
    
    // Fermer au clic en dehors
    document.addEventListener('click', function closeSelect(e) {
        if (!select.contains(e.target)) {
            select.classList.remove('open');
            document.removeEventListener('click', closeSelect);
        }
    });
}

function selectIntensity(option) {
    const select = option.closest('.custom-select');
    const button = select.querySelector('.select-button');
    const hiddenSelect = select.querySelector('select');
    const selectedText = button.querySelector('.selected-text');
    const dot = button.querySelector('.intensity-dot');
    
    const value = option.dataset.value;
    selectedText.textContent = value;
    
    // R√©initialiser toutes les classes du point
    dot.className = 'intensity-dot';
    
    // Ajouter la classe appropri√©e en fonction de la valeur
    if (value === 'l√©g√®re') dot.classList.add('light');
    else if (value === 'mod√©r√©e') dot.classList.add('medium');
	    else if (value === 'mod√©r√©') dot.classList.add('medium');
    else if (value === 's√©v√®re') dot.classList.add('severe');
    else if (value === 'majeur') dot.classList.add('severe');
    
    // Mettre √† jour le select cach√©
    hiddenSelect.value = value;
    
    // Fermer le dropdown
    select.classList.remove('open');
    
    // D√©clencher l'√©v√©nement change
    hiddenSelect.dispatchEvent(new Event('change'));
}

// Gestion de l'inspection thoracique
document.getElementById('abnormalInspection').addEventListener('change', function() {
    document.getElementById('inspectionDetails').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('normalInspection').addEventListener('change', function() {
    document.getElementById('inspectionDetails').style.display = 'none';
});

document.querySelectorAll('input[name="ampliation"]').forEach(radio => {
    radio.addEventListener('change', function() {
        document.getElementById('ampliationSide').style.display = 
            this.value === 'asymetrique' ? 'inline' : 'none';
    });
});

// hypercapnie 

// Correction pour les signes d'hypercapnie
document.getElementById('noresp4').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('resp4d1').style.display = 'none';
        document.getElementById('resp4d2').style.display = 'none';
        document.getElementById('resp4d3').style.display = 'none';
        document.getElementById('resp4d4').style.display = 'none';
        document.getElementById('resp4d5').style.display = 'none';
        
        // R√©initialiser les checkbox
        document.getElementById('resp4d1Input').checked = false;
        document.getElementById('resp4d2Input').checked = false;
        document.getElementById('resp4d3Input').checked = false;
        document.getElementById('resp4d4Input').checked = false;
        document.getElementById('resp4d5Input').checked = false;
    }
});


// Gestion de la percussion
document.getElementById('abnormalPercussion').addEventListener('change', function() {
    document.getElementById('percussionDetails').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('normalPercussion').addEventListener('change', function() {
    document.getElementById('percussionDetails').style.display = 'none';
});

document.getElementById('tympanisme').addEventListener('change', function() {
    document.getElementById('tympanismeLocation').style.display = this.checked ? 'inline' : 'none';
});

document.getElementById('matite').addEventListener('change', function() {
    document.getElementById('matiteLocation').style.display = this.checked ? 'inline' : 'none';
});



// Gestion de l'auscultation
document.getElementById('yesresp6').addEventListener('change', function() {
    ['resp6d1', 'resp6d2', 'resp6d3', 'resp6d4', 'resp6d5'].forEach(id => {
        document.getElementById(id).style.display = 'block';
        document.getElementById(id + 'Input').style.display = 'inline';
    });
});

document.getElementById('noresp6').addEventListener('change', function() {
    ['resp6d1', 'resp6d2', 'resp6d3', 'resp6d4', 'resp6d5'].forEach(id => {
        document.getElementById(id).style.display = 'none';
        document.getElementById(id + 'Input').style.display = 'none';
    });
});

// Gestion des zones de texte pour chaque type de bruit auscultatoire
['resp6d1', 'resp6d2', 'resp6d3', 'resp6d4', 'resp6d5'].forEach(id => {
    document.getElementById(id + 'Input').addEventListener('change', function() {
        document.getElementById(id + 'Text').style.display = this.checked ? 'inline' : 'none';
    });
});



// Initialisation et correction des √©l√©ments respiratoires
document.addEventListener('DOMContentLoaded', function() {
    // S'assurer que les signes d'hypercapnie sont masqu√©s √† l'initialisation
    document.getElementById('resp4d1').style.display = 'none';
    document.getElementById('resp4d2').style.display = 'none';
    document.getElementById('resp4d3').style.display = 'none';
    document.getElementById('resp4d4').style.display = 'none';
    document.getElementById('resp4d5').style.display = 'none';
	
	 document.getElementById('FreqResp').addEventListener('input', updateRespiratoryRateStatus);

    
    // Masquer les √©l√©ments d'auscultation pulmonaire
    ['resp6d1', 'resp6d2', 'resp6d3', 'resp6d4', 'resp6d5'].forEach(id => {
        document.getElementById(id).style.display = 'none';
    });
    
    // Corriger les √©couteurs d'√©v√©nements pour l'hypercapnie
    document.getElementById('yesresp4').addEventListener('change', function() {
        const display = this.checked ? 'block' : 'none';
        document.getElementById('resp4d1').style.display = display;
        document.getElementById('resp4d2').style.display = display;
        document.getElementById('resp4d3').style.display = display;
        document.getElementById('resp4d4').style.display = display;
        document.getElementById('resp4d5').style.display = display;
    });
    
    // S'assurer que yesresp6 fonctionne correctement
    document.getElementById('yesresp6').addEventListener('change', function() {
        if (this.checked) {
            ['resp6d1', 'resp6d2', 'resp6d3', 'resp6d4', 'resp6d5'].forEach(id => {
                document.getElementById(id).style.display = 'block';
            });
        }
    });
});


</script>
						
						<div class="subsection">
						<h4>Sur le plan neurologique</h4>
							


    <!-- Score de Glasgow -->
    <div class="glasgow-section">
        <p><strong>Score de Glasgow :</strong></p>
        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
            <!-- Ouverture des yeux (Y) -->
            <div class="glasgow-item">
                <span>Y : </span>
                <select id="yeux-score" onchange="updateGlasgowTotal()">
                    <option value="1">1 - Nulle</option>
                    <option value="2">2 - √Ä la douleur</option>
                    <option value="3">3 - Au bruit</option>
                    <option value="4" selected>4 - Spontan√©e</option>
                </select>
            </div>
            
            <!-- R√©ponse verbale (V) -->
            <div class="glasgow-item">
                <span>V : </span>
                <select id="verbal-score" onchange="updateGlasgowTotal()">
                    <option value="1">1 - Nulle</option>
                    <option value="2">2 - Incompr√©hensible</option>
                    <option value="3">3 - Inappropri√©e</option>
                    <option value="4">4 - Confuse</option>
                    <option value="5" selected>5 - Normale</option>
                </select>
            </div>
            
            <!-- R√©ponse motrice (M) -->
            <div class="glasgow-item">
                <span>M : </span>
                <select id="moteur-score" onchange="updateGlasgowTotal()">
                    <option value="1">1 - Nulle</option>
                    <option value="2">2 - Extension st√©r√©otyp√©e</option>
                    <option value="3">3 - Flexion st√©r√©otyp√©e</option>
                    <option value="4">4 - √âvitement</option>
                    <option value="5">5 - Orient√©e</option>
                    <option value="6" selected>6 - Aux ordres</option>
                </select>
            </div>
            
            <!-- Score total calcul√© automatiquement -->
            <div class="glasgow-total">
                <span><strong>Score total : </strong></span>
                <input type="text" id="glasgow-total" readonly value="15" 
                    style="width: 50px; background-color: #f0f0f0; text-align: center; font-weight: bold;">
                <span>/15</span>
            </div>
        </div>
		
		<!-- Option pour calculer le score de Li√®ge -->
<div class="liege-option" style="margin-top: 10px;">
    <label class="custom-control checkbox">
        <input type="checkbox" id="calculate-liege" onchange="toggleLiegeScore()">
        <span class="checkmark"></span>
        Calculer le score de Li√®ge
    </label>
</div>

<!-- S√©lecteur du score de Li√®ge - masqu√© par d√©faut -->
<div id="liege-score-section" style="display: none; margin-top: 10px; margin-left: 20px; margin-bottom: 10px">
    <label style="display: inline-block; width: 130px;"><strong>Score de Li√®ge</strong></label>
    <select id="liege-score" onchange="updateLiegeTotal()">
        <option value="0">0 - Aucun</option>
        <option value="1">1 - R√©flexe oculo-cardiaque</option>
        <option value="2">2 - R√©flexe oculo-c√©phalogyre horizontal</option>
        <option value="3">3 - R√©flexe photomoteur</option>
        <option value="4">4 - R√©flexe oculo-c√©phalogyre vertical</option>
        <option value="5" selected>5 - R√©flexe fronto-orbiculaire</option>
    </select>
    <div class="liege-explainer" style="margin-top: 5px; font-size: 0.9rem; color: #64748b; font-style: italic;">
        Le score s√©lectionn√© repr√©sente le niveau le plus √©lev√© des r√©flexes du tronc c√©r√©bral
    </div>
	    <span><strong>Score total Glasgow-Li√®ge</strong></span>
    <input type="text" id="glasgow-liege-total" readonly value="20" 
        style="width: 50px; background-color: #f0f0f0; text-align: center; font-weight: bold;">
    <span>/20</span>
</div>

<style>
/* Styles pour le score de Li√®ge */
.liege-option {
    margin-top: 10px;
    margin-bottom: 5px;
    display: flex;
    align-items: center;
}

#liege-score-section {
    background-color: #f8fafc;
    padding: 10px;
    border-radius: 6px;
    border-left: 3px solid #3b82f6;
    margin-top: 10px;
    transition: all 0.3s ease;
}

#liege-score {
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    background-color: white;
    font-size: 0.9rem;
    min-width: 250px;
    transition: all 0.2s ease;
}

#liege-score:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.2);
}

#liege-score:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
}

.liege-explainer {
    margin-top: 5px;
    font-size: 0.9rem;
    color: #64748b;
    font-style: italic;
}

#glasgow-liege-total-section {
    margin-top: 10px;
    padding: 8px;
    background-color: #f0f9ff;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 8px;
}

#glasgow-liege-total {
    width: 50px;
    background-color: #f0f0f0;
    text-align: center;
    font-weight: bold;
    padding: 0.4rem 0.8rem;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    transition: all 0.2s ease;
}

/* Mode sombre pour le score de Li√®ge */
[data-theme="dark"] #liege-score-section {
    background-color: #0f172a;
    border-left: 3px solid #3b82f6;
}

[data-theme="dark"] #liege-score {
    background-color: #1e293b;
    color: #f1f5f9;
    border-color: #334155;
}

[data-theme="dark"] #glasgow-liege-total-section {
    background-color: #0f172a;
}

[data-theme="dark"] .liege-explainer {
    color: #94a3b8;
}

</style>

<script>

// Fonction pour afficher/masquer la section du score de Li√®ge
function toggleLiegeScore() {
    const calculateLiege = document.getElementById('calculate-liege').checked;
    const liegeScoreSection = document.getElementById('liege-score-section');
    const glasgowLiegeTotalSection = document.getElementById('glasgow-liege-total-section');
    
    if (calculateLiege) {
        liegeScoreSection.style.display = 'block';
        glasgowLiegeTotalSection.style.display = 'block';
        updateLiegeTotal();
    } else {
        liegeScoreSection.style.display = 'none';
        glasgowLiegeTotalSection.style.display = 'none';
    }
}

// Fonction pour mettre √† jour le score total de Glasgow-Li√®ge
function updateLiegeTotal() {
    // R√©cup√©rer les scores de Glasgow
    const yeux = parseInt(document.getElementById('yeux-score').value) || 4;
    const verbal = parseInt(document.getElementById('verbal-score').value) || 5;
    const moteur = parseInt(document.getElementById('moteur-score').value) || 6;
    const glasgowTotal = yeux + verbal + moteur;
    
    // R√©cup√©rer le score de Li√®ge
    const liegeScore = parseInt(document.getElementById('liege-score').value) || 5;
    
    // Calculer le score total de Glasgow-Li√®ge
    const totalScore = glasgowTotal + liegeScore;
    
    // Mettre √† jour l'affichage
    document.getElementById('glasgow-liege-total').value = totalScore;
    
    // Appliquer une couleur selon le score
    const glasgowLiegeInput = document.getElementById('glasgow-liege-total');
    
    if (totalScore >= 18) {
        glasgowLiegeInput.style.backgroundColor = '#dcfce7'; // Vert clair
        glasgowLiegeInput.style.color = '#166534'; // Vert fonc√©
    } else if (totalScore >= 13) {
        glasgowLiegeInput.style.backgroundColor = '#fef9c3'; // Jaune clair
        glasgowLiegeInput.style.color = '#854d0e'; // Brun
    } else {
        glasgowLiegeInput.style.backgroundColor = '#fee2e2'; // Rouge clair
        glasgowLiegeInput.style.color = '#b91c1c'; // Rouge fonc√©
    }
}



// Modifier la fonction de r√©initialisation des entr√©es d'examen pour inclure le score de Li√®ge
const originalResetExamenReaInputs = window.resetExamenReaInputs || function() {};
window.resetExamenReaInputs = function() {
    // Appeler la fonction originale
    originalResetExamenReaInputs.apply(this, arguments);
    
    // R√©initialiser les √©l√©ments du score de Li√®ge
    const calculateLiege = document.getElementById('calculate-liege');
    if (calculateLiege) {
        calculateLiege.checked = false;
        toggleLiegeScore();
    }
    
    // Remettre le score de Li√®ge √† 5 par d√©faut
    const liegeScore = document.getElementById('liege-score');
    if (liegeScore) {
        liegeScore.value = '5';
    }
    
    // R√©initialiser le score total de Glasgow-Li√®ge √† 20
    const glasgowLiegeTotal = document.getElementById('glasgow-liege-total');
    if (glasgowLiegeTotal) {
        glasgowLiegeTotal.value = '20';
    }
};

</script>
        
        <!-- √âtat de s√©dation -->
        <div style="margin-bottom: 15px;">
            <div style="display: flex; gap: 15px; margin-bottom: 10px;">
                <label class="custom-control radio">
                    <input type="radio" name="sedation-status" id="non-sedate" checked onchange="toggleSedationField()">
                    <span class="checkmark"></span>
                    Patient non s√©dat√©
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="sedation-status" id="sedate" onchange="toggleSedationField()">
                    <span class="checkmark"></span>
                    Patient s√©dat√©
                </label>
            </div>
            
<!-- Score ant√©rieur (visible uniquement si patient s√©dat√©) -->
<div id="sedation-field" style="display: none; margin-left: 15px;">
    <div style="display: flex; align-items: center; gap: 10px;">
        <label style="min-width: 200px;">Score Glasgow avant s√©dation :</label>
        <input type="number" id="glasgow-anterieur" min="3" max="15" value="15" 
               style="width: 50px; background-color: white; text-align: center; font-weight: bold; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;">
        <span>/15</span>
    </div>
</div>
        </div>

		
	</div>
	
	
	<!-- R√©activit√© pupillaire -->
        <div style="margin-bottom: 15px;">
            <p><strong>Pupilles :</strong></p>
            <div style="display: flex; flex-direction: column; gap: 8px;">
                <!-- Pupille gauche - version compacte -->
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <label style="min-width: 80px;">≈íil gauche :</label>
                    
                    <!-- Taille pupille gauche -->
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span>Taille</span>
                        <select id="pupille-gauche-taille" style="width: 120px;">
                            <option value="myosis">Myosis</option>
                            <option value="interm√©diaire" selected>Interm√©diaire</option>
                            <option value="mydriase">Mydriase</option>
                        </select>
                    </div>
                    
                    <!-- RPM direct gauche -->
<div style="display: flex; align-items: center; gap: 5px;">
    <span>RPM direct</span>
    <select id="rpm-direct-gauche" class="glasgow-item select" style="width: 90px;" onchange="updateSelectColor(this)">
        <option value="present" selected>Pr√©sent</option>
        <option value="absent">Absent</option>
    </select>
</div>

<div style="display: flex; align-items: center; gap: 5px;">
    <span>RPM consensuel</span>
    <select id="rpm-consensuel-gauche" class="glasgow-item select" style="width: 90px;" onchange="updateSelectColor(this)">
        <option value="present" selected>Pr√©sent</option>
        <option value="absent">Absent</option>
    </select>
</div>
                
                <!-- Pupille droite - version compacte -->
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <label style="min-width: 80px;">≈íil droit :</label>
                    
                    <!-- Taille pupille droite -->
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span>Taille</span>
                        <select id="pupille-droite-taille" style="width: 120px;">
                            <option value="myosis">Myosis</option>
                            <option value="interm√©diaire" selected>Interm√©diaire</option>
                            <option value="mydriase">Mydriase</option>
                        </select>
                    </div>
                    
                    <!-- RPM direct droit -->
<div style="display: flex; align-items: center; gap: 5px;">
    <span>RPM direct</span>
    <select id="rpm-direct-droit" class="glasgow-item select" style="width: 90px;" onchange="updateSelectColor(this)">
        <option value="present" selected>Pr√©sent</option>
        <option value="absent">Absent</option>
    </select>
</div>

<div style="display: flex; align-items: center; gap: 5px;">
    <span>RPM consensuel</span>
    <select id="rpm-consensuel-droit" class="glasgow-item select" style="width: 90px;" onchange="updateSelectColor(this)">
        <option value="present" selected>Pr√©sent</option>
        <option value="absent">Absent</option>
    </select>
</div>
                </div>
            </div>
        </div>
    </div>
		
		
		<p><strong>R√©flexes ost√©otendineux :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="reflexType" id="normalReflex" checked>
        <span class="checkmark"></span>
        ROT sym√©triques non diffus√©s non polycin√©tiques et non vifs
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="reflexType" id="abnormalReflex">
        <span class="checkmark"></span>
        Anomalie des r√©flexes ost√©otendineux
    </label>
</p>

<div id="reflexDetails" style="display: none; margin-left: 20px;">
    <div class="reflex-group">
        <div class="localisation-group" style="margin-bottom: 5px;">
            <div style="display: flex; align-items: center;">
                <label class="custom-control checkbox">
                    <input type="checkbox" id="bicipital" class="localisation-checkbox">
                    <span class="checkmark"></span>
                    Bicipital
                </label>
            </div>
            
            <div class="side-options" style="display: none; margin-left: 20px;">
                <div>
                    <label class="custom-control checkbox" style="margin-right: 15px;">
                        <input type="checkbox" class="side-checkbox" data-side="droite" data-reflex="bicipital">
                        <span class="checkmark"></span>
                        Droite
                    </label>
                    <label class="custom-control checkbox">
                        <input type="checkbox" class="side-checkbox" data-side="gauche" data-reflex="bicipital">
                        <span class="checkmark"></span>
                        Gauche
                    </label>
                </div>

                <div class="sides-container" style="display: flex; gap: 10px; margin-top: 1px; flex-wrap: wrap;">
                    <!-- C√¥t√© droit -->
                    <div class="details-droite" style="display: none;">
                        <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                                    C√¥t√© droit
                                </span>
                            </div>
                        </div>

                        <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                            <div style="width: 100%;">
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-vif-droit">
                                        <span class="checkmark"></span>
                                        Vif
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-diffuse-droit">
                                        <span class="checkmark"></span>
                                        Diffus√©
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-poly-droit">
                                        <span class="checkmark"></span>
                                        Polycin√©tique
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-zone-droit">
                                        <span class="checkmark"></span>
                                        Extension zone r√©flexog√®ne
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-aboli-droit">
                                        <span class="checkmark"></span>
                                        Abolition
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- C√¥t√© gauche -->
                    <div class="details-gauche" style="display: none;">
                        <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                                    C√¥t√© gauche
                                </span>
                            </div>
                        </div>

                        <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                            <div style="width: 100%;">
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-vif-gauche">
                                        <span class="checkmark"></span>
                                        Vif
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-diffuse-gauche">
                                        <span class="checkmark"></span>
                                        Diffus√©
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-poly-gauche">
                                        <span class="checkmark"></span>
                                        Polycin√©tique
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-zone-gauche">
                                        <span class="checkmark"></span>
                                        Extension zone r√©flexog√®ne
                                    </label>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label class="custom-control checkbox">
                                        <input type="checkbox" id="bicipital-aboli-gauche">
                                        <span class="checkmark"></span>
                                        Abolition
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="reflex-group">
    <div class="localisation-group" style="margin-bottom: 5px;">
        <div style="display: flex; align-items: center;">
            <label class="custom-control checkbox">
                <input type="checkbox" id="tricipital" class="localisation-checkbox">
                <span class="checkmark"></span>
                Tricipital
            </label>
        </div>
        
        <div class="side-options" style="display: none; margin-left: 20px;">
            <div>
                <label class="custom-control checkbox" style="margin-right: 15px;">
                    <input type="checkbox" class="side-checkbox" data-side="droite" data-reflex="tricipital">
                    <span class="checkmark"></span>
                    Droite
                </label>
                <label class="custom-control checkbox">
                    <input type="checkbox" class="side-checkbox" data-side="gauche" data-reflex="tricipital">
                    <span class="checkmark"></span>
                    Gauche
                </label>
            </div>

            <div class="sides-container" style="display: flex; gap: 10px; margin-top: 1px; flex-wrap: wrap;">
                <!-- C√¥t√© droit -->
                <div class="details-droite" style="display: none;">
                    <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                                C√¥t√© droit
                            </span>
                        </div>
                    </div>

                    <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                        <div style="width: 100%;">
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-vif-droit">
                                    <span class="checkmark"></span>
                                    Vif
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-diffuse-droit">
                                    <span class="checkmark"></span>
                                    Diffus√©
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-poly-droit">
                                    <span class="checkmark"></span>
                                    Polycin√©tique
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-zone-droit">
                                    <span class="checkmark"></span>
                                    Extension zone r√©flexog√®ne
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-aboli-droit">
                                    <span class="checkmark"></span>
                                    Abolition
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- C√¥t√© gauche -->
                <div class="details-gauche" style="display: none;">
                    <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                                C√¥t√© gauche
                            </span>
                        </div>
                    </div>

                    <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                        <div style="width: 100%;">
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-vif-gauche">
                                    <span class="checkmark"></span>
                                    Vif
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-diffuse-gauche">
                                    <span class="checkmark"></span>
                                    Diffus√©
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-poly-gauche">
                                    <span class="checkmark"></span>
                                    Polycin√©tique
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-zone-gauche">
                                    <span class="checkmark"></span>
                                    Extension zone r√©flexog√®ne
                                </label>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" id="tricipital-aboli-gauche">
                                    <span class="checkmark"></span>
                                    Abolition
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="reflex-group">
   <div class="localisation-group" style="margin-bottom: 5px;">
       <div style="display: flex; align-items: center;">
           <label class="custom-control checkbox">
               <input type="checkbox" id="rotulien" class="localisation-checkbox">
               <span class="checkmark"></span>
               Rotulien
           </label>
       </div>
       
       <div class="side-options" style="display: none; margin-left: 20px;">
           <div>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" class="side-checkbox" data-side="droite" data-reflex="rotulien">
                   <span class="checkmark"></span>
                   Droite
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" class="side-checkbox" data-side="gauche" data-reflex="rotulien">
                   <span class="checkmark"></span>
                   Gauche
               </label>
           </div>

           <div class="sides-container" style="display: flex; gap: 10px; margin-top: 1px; flex-wrap: wrap;">
               <!-- C√¥t√© droit -->
               <div class="details-droite" style="display: none;">
                   <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                       <div style="display: flex; align-items: center; margin-bottom: 10px;">
                           <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                               C√¥t√© droit
                           </span>
                       </div>
                   </div>

                   <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                       <div style="width: 100%;">
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-vif-droit">
                                   <span class="checkmark"></span>
                                   Vif
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-diffuse-droit">
                                   <span class="checkmark"></span>
                                   Diffus√©
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-poly-droit">
                                   <span class="checkmark"></span>
                                   Polycin√©tique
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-zone-droit">
                                   <span class="checkmark"></span>
                                   Extension zone r√©flexog√®ne
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-aboli-droit">
                                   <span class="checkmark"></span>
                                   Abolition
                               </label>
                           </div>
                       </div>
                   </div>
               </div>

               <!-- C√¥t√© gauche -->
               <div class="details-gauche" style="display: none;">
                   <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                       <div style="display: flex; align-items: center; margin-bottom: 10px;">
                           <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                               C√¥t√© gauche
                           </span>
                       </div>
                   </div>

                   <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                       <div style="width: 100%;">
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-vif-gauche">
                                   <span class="checkmark"></span>
                                   Vif
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-diffuse-gauche">
                                   <span class="checkmark"></span>
                                   Diffus√©
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-poly-gauche">
                                   <span class="checkmark"></span>
                                   Polycin√©tique
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-zone-gauche">
                                   <span class="checkmark"></span>
                                   Extension zone r√©flexog√®ne
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="rotulien-aboli-gauche">
                                   <span class="checkmark"></span>
                                   Abolition
                               </label>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
</div>

<div class="reflex-group">
   <div class="localisation-group" style="margin-bottom: 5px;">
       <div style="display: flex; align-items: center;">
           <label class="custom-control checkbox">
               <input type="checkbox" id="achill√©en" class="localisation-checkbox">
               <span class="checkmark"></span>
               Achil√©en
           </label>
       </div>
       
       <div class="side-options" style="display: none; margin-left: 20px;">
           <div>
               <label class="custom-control checkbox" style="margin-right: 15px;">
                   <input type="checkbox" class="side-checkbox" data-side="droite" data-reflex="achill√©en">
                   <span class="checkmark"></span>
                   Droite
               </label>
               <label class="custom-control checkbox">
                   <input type="checkbox" class="side-checkbox" data-side="gauche" data-reflex="achill√©en">
                   <span class="checkmark"></span>
                   Gauche
               </label>
           </div>

           <div class="sides-container" style="display: flex; gap: 10px; margin-top: 1px; flex-wrap: wrap;">
               <!-- C√¥t√© droit -->
               <div class="details-droite" style="display: none;">
                   <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                       <div style="display: flex; align-items: center; margin-bottom: 10px;">
                           <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                               C√¥t√© droit
                           </span>
                       </div>
                   </div>

                   <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                       <div style="width: 100%;">
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-vif-droit">
                                   <span class="checkmark"></span>
                                   Vif
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-diffuse-droit">
                                   <span class="checkmark"></span>
                                   Diffus√©
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-poly-droit">
                                   <span class="checkmark"></span>
                                   Polycin√©tique
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-zone-droit">
                                   <span class="checkmark"></span>
                                   Extension zone r√©flexog√®ne
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-aboli-droit">
                                   <span class="checkmark"></span>
                                   Abolition
                               </label>
                           </div>
                       </div>
                   </div>
               </div>

               <!-- C√¥t√© gauche -->
               <div class="details-gauche" style="display: none;">
                   <div style="border-left: 4px solid #1e40af; padding-left: 10px; margin-bottom: 15px;">
                       <div style="display: flex; align-items: center; margin-bottom: 10px;">
                           <span style="color: #1e40af; font-size: 1rem; font-weight: 600;">
                               C√¥t√© gauche
                           </span>
                       </div>
                   </div>

                   <div style="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white;">
                       <div style="width: 100%;">
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-vif-gauche">
                                   <span class="checkmark"></span>
                                   Vif
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-diffuse-gauche">
                                   <span class="checkmark"></span>
                                   Diffus√©
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-poly-gauche">
                                   <span class="checkmark"></span>
                                   Polycin√©tique
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-zone-gauche">
                                   <span class="checkmark"></span>
                                   Extension zone r√©flexog√®ne
                               </label>
                           </div>
                           <div style="margin-bottom: 15px;">
                               <label class="custom-control checkbox">
                                   <input type="checkbox" id="achill√©en-aboli-gauche">
                                   <span class="checkmark"></span>
                                   Abolition
                               </label>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
</div>

				</div>
				
				
				<p><strong>R√©flexe cutan√© plantaire :</strong></p>
<div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px;">
    <!-- RCP droit -->
    <div style="display: flex; align-items: center; gap: 5px;">
        <span>Droit :</span>
        <select id="rcp-droit" class="glasgow-item select" style="width: 60px;" onchange="updateSelectColor(this)">
            <option value="flexion" selected>Flexion</option>
            <option value="indifferent">Indiff√©rent</option>
            <option value="extension">Extension</option>
        </select>
    </div>
    
    <!-- RCP gauche -->
    <div style="display: flex; align-items: center; gap: 5px;">
        <span>Gauche :</span>
        <select id="rcp-gauche" class="glasgow-item select" style="width: 60px;" onchange="updateSelectColor(this)">
            <option value="flexion" selected>Flexion</option>
            <option value="indifferent">Indiff√©rent</option>
            <option value="extension">Extension</option>
        </select>
    </div>
</div>


<p><strong>D√©ficit sensitif :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitSensitif" id="noDeficitSensitif" checked>
        <span class="checkmark"></span>
        Pas de d√©ficit sensitif
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitSensitif" id="yesDeficitSensitif">
        <span class="checkmark"></span>
        Pr√©sence d'un d√©ficit sensitif
    </label>
	<label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitSensitif" id="NEDeficitSensitif">
        <span class="checkmark"></span>
        Non √©valuable
    </label>
</p>
<div id="deficitSensitifDetails" style="display: none; margin-left: 20px;">
    <!-- Membres sup√©rieurs -->
    <div>
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="deficitMSS">
            <span class="checkmark"></span>
            D√©ficit sensitif aux membres sup√©rieurs
        </label>
    </div>
    <div id="deficitMSSDetails" style="display: none; margin-left: 20px;">
        <input type="text" id="deficitMSSDescription" placeholder="Pr√©cisez la localisation et le type" style="width: 300px;">
    </div>
    <!-- Membres inf√©rieurs -->
    <div>
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="deficitMIS">
            <span class="checkmark"></span>
            D√©ficit sensitif aux membres inf√©rieurs
        </label>
    </div>
    <div id="deficitMISDetails" style="display: none; margin-left: 20px;">
        <input type="text" id="deficitMISDescription" placeholder="Pr√©cisez la localisation et le type" style="width: 300px;">
    </div>
</div>
	

<p><strong>D√©ficit moteur :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitMoteur" id="noDeficitMoteur" checked>
        <span class="checkmark"></span> Pas de d√©ficit moteur
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitMoteur" id="yesDeficitMoteur">
        <span class="checkmark"></span> Pr√©sence d'un d√©ficit moteur
    </label>
	<label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="deficitMoteur" id="NEDeficitMoteur">
        <span class="checkmark"></span> Non √©valuable
    </label>
</p>

<div id="deficitMoteurDetails" style="display: none; margin-left: 20px;">

<!-- Membres sup√©rieurs -->
<div class="membres-superieurs">
    <p><strong>Testing des membres sup√©rieurs</strong></p>
    <div>
        <label class="custom-control checkbox">
            <input type="checkbox" id="deficitMS">
            <span class="checkmark"></span>
            Pr√©sence d'un d√©ficit moteur aux membres sup√©rieurs
        </label>
    </div>
    <div id="msDetails" style="display: none; margin-left: 20px;">
        <!-- Delto√Øde -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="deltoide">
        <span class="checkmark"></span>
        Delto√Øde : Abduction d'√©paule > 90¬∞
    </label>
    
    <!-- Nouveau s√©lecteur pour le c√¥t√© droit -->
    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <!-- Nouveau s√©lecteur pour le c√¥t√© gauche -->
    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>




        <!-- Biceps brachial -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="biceps">
        <span class="checkmark"></span>
        Biceps brachial : Flexion de coude en supination
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>



<!-- Triceps -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="triceps">
        <span class="checkmark"></span>
        Triceps : Extension de coude
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>


<!-- Extenseurs radiaux -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="extenseursradiaux">
        <span class="checkmark"></span>
        Extenseurs radiaux : Extension du poignet
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>

<!-- Fl√©chisseurs du carpe -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="flechisseurscarpe">
        <span class="checkmark"></span>
        Fl√©chisseurs du carpe : Flexion du poignet
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>
       
		
    </div>
</div>

<div class="membres-inferieurs">
    <p><strong>Testing des membres inf√©rieurs</strong></p>
    <div>
        <label class="custom-control checkbox">
            <input type="checkbox" id="deficitMI">
            <span class="checkmark"></span>
            Pr√©sence d'un d√©ficit moteur aux membres inf√©rieurs
        </label>
    </div>
    <div id="miDetails" style="display: none; margin-left: 20px;">
        <!-- Psoas iliaque -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="psoas">
        <span class="checkmark"></span>
        Psoas iliaque : Flexion de hanche
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>



<!-- Quadriceps -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="quadriceps">
        <span class="checkmark"></span>
        Quadriceps : Extension de genoux
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>


<!-- Ischiojambiers -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="ischiojambiers">
        <span class="checkmark"></span>
        Ischiojambiers : Flexion de genoux
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>

<!-- Adducteurs -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="adducteurs">
        <span class="checkmark"></span>
        Adducteurs : Adduction de hanche
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>

<!-- Tibial ant√©rieur -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="tibialant">
        <span class="checkmark"></span>
        Tibial ant√©rieur : Dorsiflexion de cheville
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>



<!-- Triceps sural -->
<div class="muscle-group">
    <label class="custom-control checkbox" style="margin-right: 10px; display: inline-flex; align-items: center;">
        <input type="checkbox" id="tricepssural">
        <span class="checkmark"></span>
        Triceps sural : Extension de cheville
    </label>

    <div class="force-selector right" style="display: none; margin: 0 10px;">
        <span>D</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>

    <div class="force-selector left" style="display: none; margin-left: 10px;">
        <span>G</span>
        <button type="button" class="force-select-button" onclick="toggleForceSelect(this)">
            <span class="force-value" data-value="5">5/5</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="force-dropdown">
            <div class="force-option" data-value="5" onclick="selectForce(this)">5/5</div>
            <div class="force-option" data-value="4" onclick="selectForce(this)">4/5</div>
            <div class="force-option" data-value="3" onclick="selectForce(this)">3/5</div>
            <div class="force-option" data-value="2" onclick="selectForce(this)">2/5</div>
            <div class="force-option" data-value="1" onclick="selectForce(this)">1/5</div>
            <div class="force-option" data-value="0" onclick="selectForce(this)">0/5</div>
        </div>
    </div>
</div>

						</div>
					</div>			
				</div>	
				

<p><strong>Syndrome m√©ning√© :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="syndromeninge" id="noSyndromeMening√©" checked>
        <span class="checkmark"></span>
        Pas de syndrome m√©ning√©
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="syndromeninge" id="yesSyndromeMening√©">
        <span class="checkmark"></span>
        Pr√©sence d'un syndrome m√©ning√©
    </label>
	    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="syndromeninge" id="NESyndromeMening√©">
        <span class="checkmark"></span>
        Non √©valuable
    </label>
</p>
<div id="syndromeMeningeDetails" style="display: none; margin-left: 20px;">
    <div style="margin-left: 20px; display: flex; flex-direction: column; gap: 4px;">
        <div>
            <label class="custom-control checkbox" style="margin-right: 10px;">
                <input type="checkbox" id="kernig">
                <span class="checkmark"></span>
                Signe de Kernig
            </label>
        </div>
        <div>
            <label class="custom-control checkbox" style="margin-right: 10px;">
                <input type="checkbox" id="brudzinski">
                <span class="checkmark"></span>
                Signe de Brudzinski
            </label>
        </div>
        <div>
            <label class="custom-control checkbox" style="margin-right: 10px;">
                <input type="checkbox" id="photophonophobie">
                <span class="checkmark"></span>
                Photophonophobie
            </label>
        </div>
        <div>
            <label class="custom-control checkbox" style="margin-right: 10px;">
                <input type="checkbox" id="raideurNucale">
                <span class="checkmark"></span>
                Raideur nucale
            </label>
        </div>
        <div>
            <label class="custom-control checkbox" style="margin-right: 10px;">
                <input type="checkbox" id="purpura">
                <span class="checkmark"></span>
                Purpura
            </label>
        </div>
        <div>
            <p>Pr√©cisions :
            <input type="text" id="meningePrecisions" placeholder="Pr√©cisions √©ventuelles" style="width: 300px;"></p>
        </div>
    </div>
</div>



<p><strong>Nerf facial :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="nerf_facial" id="no_paralysie_faciale" checked>
        <span class="checkmark"></span>
        Pas de paralysie faciale
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="nerf_facial" id="yes_paralysie_faciale">
        <span class="checkmark"></span>
        Paralysie faciale
    </label>
    
    <!-- Menu d'intensit√© s√©par√© du label pour √©viter les probl√®mes d'affichage -->
    <div id="facial_intensity_selector" class="custom-select" style="display: none; margin-left: 10px; vertical-align: middle;">
        <button type="button" class="select-button" onclick="toggleSelect(this)">
            <span class="intensity-dot light"></span>
            <span class="selected-text">L√©g√®re</span>
            <span class="select-arrow">‚ñº</span>
        </button>
        <div class="select-dropdown">
            <div class="select-option" data-value="l√©g√®re" onclick="selectIntensity(this)">
                <span class="intensity-dot light"></span>L√©g√®re
            </div>
            <div class="select-option" data-value="mod√©r√©e" onclick="selectIntensity(this)">
                <span class="intensity-dot medium"></span>Mod√©r√©e
            </div>
            <div class="select-option" data-value="s√©v√®re" onclick="selectIntensity(this)">
                <span class="intensity-dot severe"></span>S√©v√®re
            </div>
        </div>
        <select id="facial_paralysis_intensity" style="display: none;">
            <option value="l√©g√®re">L√©g√®re</option>
            <option value="mod√©r√©e">Mod√©r√©e</option>
            <option value="s√©v√®re">S√©v√®re</option>
        </select>
    </div>
</p>

<div id="paralysie_faciale_details" style="display: none; margin-left: 20px;">
    <div style="margin-top: 10px;">
        <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="type_paralysie_faciale" value="centrale" checked>
            <span class="checkmark"></span>
            Centrale
        </label>
        <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="type_paralysie_faciale" value="peripherique">
            <span class="checkmark"></span>
            P√©riph√©rique
        </label>
    </div>
</div>
		
	
	</div>					
			<script>
			
// Fonction pour mettre √† jour le score total de Glasgow
function updateGlasgowTotal() {
    const yeux = parseInt(document.getElementById('yeux-score').value);
    const verbal = parseInt(document.getElementById('verbal-score').value);
    const moteur = parseInt(document.getElementById('moteur-score').value);
    
    const total = yeux + verbal + moteur;
    document.getElementById('glasgow-total').value = total;
    
    // Appliquer une couleur selon le score
    const glasgowInput = document.getElementById('glasgow-total');
    if (total >= 13) {
        glasgowInput.style.backgroundColor = '#dcfce7'; // Vert clair
        glasgowInput.style.color = '#166534'; // Vert fonc√©
    } else if (total >= 9) {
        glasgowInput.style.backgroundColor = '#fef9c3'; // Jaune clair
        glasgowInput.style.color = '#854d0e'; // Brun
    } else {
        glasgowInput.style.backgroundColor = '#fee2e2'; // Rouge clair
        glasgowInput.style.color = '#b91c1c'; // Rouge fonc√©
    }
    
    // Mettre √† jour √©galement le score de Glasgow-Li√®ge si activ√©
    if (document.getElementById('calculate-liege') && document.getElementById('calculate-liege').checked) {
        updateLiegeTotal();
    }
}

// Appliquer les couleurs initiales au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    updateGlasgowTotal();
});

// Fonction pour afficher/masquer le champ du score ant√©rieur selon l'√©tat de s√©dation
function toggleSedationField() {
    const sedateField = document.getElementById('sedation-field');
    const isSedate = document.getElementById('sedate').checked;
    
    if (isSedate) {
        sedateField.style.display = 'block';
    } else {
        sedateField.style.display = 'none';
    }
}


function updateSelectColor(selectElement) {
    if (selectElement.value === 'present') {
        selectElement.style.backgroundColor = '#dcfce7'; // Vert clair
        selectElement.style.color = '#166534'; // Vert fonc√©
        selectElement.style.borderColor = '#86efac'; // Bordure verte
    } else {
        selectElement.style.backgroundColor = '#fee2e2'; // Rouge clair
        selectElement.style.color = '#b91c1c'; // Rouge fonc√©
        selectElement.style.borderColor = '#fca5a5'; // Bordure rouge
    }
}

// Initialiser les couleurs au chargement
document.addEventListener('DOMContentLoaded', function() {
    const rpmSelects = document.querySelectorAll('select[id^="rpm-"]');
    rpmSelects.forEach(updateSelectColor);
});




// ROT 
document.addEventListener('DOMContentLoaded', function() {
    // Gestion de l'affichage initial des r√©flexes
    document.querySelectorAll('input[name="reflexType"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const reflexDetails = document.getElementById('reflexDetails');
            reflexDetails.style.display = 
                document.getElementById('abnormalReflex').checked ? 'block' : 'none';
            
            if (!this.checked) {
                document.querySelectorAll('.localisation-checkbox').forEach(cb => {
                    cb.checked = false;
                    const sideOptions = cb.closest('.localisation-group').querySelector('.side-options');
                    if (sideOptions) sideOptions.style.display = 'none';
                });
            }
        });
    });

    // Gestion des localisations
    document.querySelectorAll('.localisation-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const sideOptions = this.closest('.localisation-group').querySelector('.side-options');
            if (sideOptions) {
                sideOptions.style.display = this.checked ? 'block' : 'none';
                
                if (!this.checked) {
                    sideOptions.querySelectorAll('.side-checkbox').forEach(cb => {
                        cb.checked = false;
                        const side = cb.getAttribute('data-side');
                        const detailsDiv = sideOptions.querySelector(`.details-${side}`);
                        if (detailsDiv) detailsDiv.style.display = 'none';
                    });
                }
            }
        });
    });

    // Gestion des c√¥t√©s
    document.querySelectorAll('.side-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const side = this.getAttribute('data-side');
            const detailsDiv = this.closest('.side-options').querySelector(`.details-${side}`);
            if (detailsDiv) {
                detailsDiv.style.display = this.checked ? 'block' : 'none';
                
                if (!this.checked) {
                    detailsDiv.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                        cb.checked = false;
                    });
                }
            }
        });
    });
});


// Mise √† jour des couleurs des s√©lecteurs de RCP
document.addEventListener('DOMContentLoaded', function() {
    const rcpSelects = document.querySelectorAll('#rcp-droit, #rcp-gauche');
    rcpSelects.forEach(select => {
        select.addEventListener('change', function() {
            if (this.value === 'extension') {
                this.style.backgroundColor = '#fee2e2'; // Rouge clair
                this.style.color = '#b91c1c'; // Rouge fonc√©
                this.style.borderColor = '#fca5a5'; // Bordure rouge
            } else if (this.value === 'indifferent') {
                this.style.backgroundColor = '#fef9c3'; // Jaune clair
                this.style.color = '#854d0e'; // Brun
                this.style.borderColor = '#fcd34d'; // Bordure jaune
            } else {
                this.style.backgroundColor = '#dcfce7'; // Vert clair
                this.style.color = '#166534'; // Vert fonc√©
                this.style.borderColor = '#86efac'; // Bordure verte
            }
        });
        
        // Initialiser les couleurs
        if (select.value === 'extension') {
            select.style.backgroundColor = '#fee2e2';
            select.style.color = '#b91c1c';
            select.style.borderColor = '#fca5a5';
        } else if (select.value === 'indifferent') {
            select.style.backgroundColor = '#fef9c3';
            select.style.color = '#854d0e';
            select.style.borderColor = '#fcd34d';
        } else {
            select.style.backgroundColor = '#dcfce7';
            select.style.color = '#166534';
            select.style.borderColor = '#86efac';
        }
    });
});

//sensitif

document.addEventListener('DOMContentLoaded', function() {
    // R√©cup√©ration des √©l√©ments radio
    const noDeficitSensitif = document.getElementById('noDeficitSensitif');
    const yesDeficitSensitif = document.getElementById('yesDeficitSensitif');
    const NEDeficitSensitif = document.getElementById('NEDeficitSensitif');
    const deficitSensitifDetails = document.getElementById('deficitSensitifDetails');
    
    // Fonctions pour g√©rer l'affichage du menu d√©taill√©
    function updateDetailsVisibility() {
        if (yesDeficitSensitif.checked) {
            deficitSensitifDetails.style.display = 'block';
        } else {
            deficitSensitifDetails.style.display = 'none';
            
            // R√©initialiser les checkboxes et les champs texte
            document.getElementById('deficitMSS').checked = false;
            document.getElementById('deficitMIS').checked = false;
            document.getElementById('deficitMSSDetails').style.display = 'none';
            document.getElementById('deficitMISDetails').style.display = 'none';
            document.getElementById('deficitMSSDescription').value = '';
            document.getElementById('deficitMISDescription').value = '';
        }
    }
    
    // Ajout des √©couteurs d'√©v√©nements
    noDeficitSensitif.addEventListener('change', updateDetailsVisibility);
    yesDeficitSensitif.addEventListener('change', updateDetailsVisibility);
    NEDeficitSensitif.addEventListener('change', updateDetailsVisibility);
    
    // Gestion des d√©tails suppl√©mentaires pour les membres sup√©rieurs et inf√©rieurs
    document.getElementById('deficitMSS').addEventListener('change', function() {
        document.getElementById('deficitMSSDetails').style.display = this.checked ? 'block' : 'none';
    });
    
    document.getElementById('deficitMIS').addEventListener('change', function() {
        document.getElementById('deficitMISDetails').style.display = this.checked ? 'block' : 'none';
    });
    
    // Initialisation de l'√©tat √† l'ouverture de la page
    updateDetailsVisibility();
});

	
	// Gestion des groupes musculaires
document.addEventListener('DOMContentLoaded', function() {
    // Pour chaque groupe musculaire
    document.querySelectorAll('.muscle-group').forEach(group => {
        const mainCheckbox = group.querySelector('input[type="checkbox"]');
        const forceRight = group.querySelector('.force-right');
        const forceLeft = group.querySelector('.force-left');

        mainCheckbox.addEventListener('change', function() {
            // Afficher/masquer les options de force droite et gauche
            if (forceRight) forceRight.style.display = this.checked ? 'inline-block' : 'none';
            if (forceLeft) forceLeft.style.display = this.checked ? 'inline-block' : 'none';
            
            // Si on d√©coche, r√©initialiser les valeurs des selecteurs
            if (!this.checked) {
                const selects = group.querySelectorAll('select.force-value');
                selects.forEach(select => select.value = "5");
            }
        });
    });
});

// Gestion des groupes musculaires
document.addEventListener('DOMContentLoaded', function() {
    // Pour chaque groupe musculaire
    document.querySelectorAll('.muscle-group').forEach(group => {
        const mainCheckbox = group.querySelector('input[type="checkbox"]');
        const forceSelectorRight = group.querySelector('.force-selector.right');
        const forceSelectorLeft = group.querySelector('.force-selector.left');

        mainCheckbox.addEventListener('change', function() {
            // Afficher/masquer les s√©lecteurs de force droite et gauche
            if (forceSelectorRight) forceSelectorRight.style.display = this.checked ? 'inline-flex' : 'none';
            if (forceSelectorLeft) forceSelectorLeft.style.display = this.checked ? 'inline-flex' : 'none';
            
            // Si on d√©coche, r√©initialiser les valeurs
            if (!this.checked) {
                if (forceSelectorRight) {
                    const valueSpanRight = forceSelectorRight.querySelector('.force-value');
                    valueSpanRight.textContent = '5/5';
                    valueSpanRight.setAttribute('data-value', '5');
                }
                if (forceSelectorLeft) {
                    const valueSpanLeft = forceSelectorLeft.querySelector('.force-value');
                    valueSpanLeft.textContent = '5/5';
                    valueSpanLeft.setAttribute('data-value', '5');
                }
            }
        });
    });
});

// Fonctions pour g√©rer les s√©lecteurs de force
function toggleForceSelect(button) {
    const selector = button.closest('.force-selector');
    
    // Fermer tous les autres s√©lecteurs ouverts
    document.querySelectorAll('.force-selector.open').forEach(sel => {
        if (sel !== selector) sel.classList.remove('open');
    });
    
    selector.classList.toggle('open');
    
    // Fermer au clic en dehors
    document.addEventListener('click', function closeForceSelect(e) {
        if (!selector.contains(e.target)) {
            selector.classList.remove('open');
            document.removeEventListener('click', closeForceSelect);
        }
    });
}

function selectForce(option) {
    const selector = option.closest('.force-selector');
    const button = selector.querySelector('.force-select-button');
    const valueSpan = button.querySelector('.force-value');
    const value = option.dataset.value;
    
    valueSpan.textContent = value + '/5';
    valueSpan.setAttribute('data-value', value);
    
    // Fermer le dropdown
    selector.classList.remove('open');
}


			// TESTING MOTEUR ZBI
			
			
// Gestion du d√©ficit moteur principal
document.getElementById('yesDeficitMoteur').addEventListener('change', function() {
    document.getElementById('deficitMoteurDetails').style.display = this.checked ? 'block' : 'none';
});

document.getElementById('noDeficitMoteur').addEventListener('change', function() {
    document.getElementById('deficitMoteurDetails').style.display = 'none';
});

// Ajoutez cet √©couteur pour l'option "Non √©valuable"
document.getElementById('NEDeficitMoteur').addEventListener('change', function() {
    document.getElementById('deficitMoteurDetails').style.display = 'none';
});

// Gestion des membres sup√©rieurs
document.getElementById('deficitMS').addEventListener('change', function() {
    document.getElementById('msDetails').style.display = this.checked ? 'block' : 'none';
});

// Gestion des membres inf√©rieurs
document.getElementById('deficitMI').addEventListener('change', function() {
    document.getElementById('miDetails').style.display = this.checked ? 'block' : 'none';
});

// Gestion de chaque groupe musculaire
document.querySelectorAll('.muscle-group input[type="checkbox"]').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const forceRight = this.parentElement.querySelector('.force-right');
        const forceLeft = this.parentElement.querySelector('.force-left');
        
        if (this.checked) {
            forceRight.style.display = 'inline-block';
            forceLeft.style.display = 'inline-block';
        } else {
            forceRight.style.display = 'none';
            forceLeft.style.display = 'none';
            // R√©initialiser les valeurs
            forceRight.querySelector('select').selectedIndex = 0;
            forceLeft.querySelector('select').selectedIndex = 0;
        }
    });
});


document.addEventListener('DOMContentLoaded', function() {
    const sedate = document.getElementById('sedate');
    const nonSedate = document.getElementById('non-sedate');
    
    // Fonction pour mettre √† jour les champs neurologiques en fonction de l'√©tat de s√©dation
    function updateNeurologicalFields() {
        // V√©rifier si le patient est s√©dat√©
        const isSedate = sedate && sedate.checked;
        
        if (isSedate) {
            // D√©ficit moteur
            const NEDeficitMoteur = document.getElementById('NEDeficitMoteur');
            if (NEDeficitMoteur) {
                NEDeficitMoteur.checked = true;
                const deficitMoteurDetails = document.getElementById('deficitMoteurDetails');
                if (deficitMoteurDetails) deficitMoteurDetails.style.display = 'none';
            }
            
            // D√©ficit sensitif
            const NEDeficitSensitif = document.getElementById('NEDeficitSensitif');
            if (NEDeficitSensitif) {
                NEDeficitSensitif.checked = true;
                const deficitSensitifDetails = document.getElementById('deficitSensitifDetails');
                if (deficitSensitifDetails) deficitSensitifDetails.style.display = 'none';
            }
            
            // Syndrome m√©ning√©
            const NESyndromeMening√© = document.getElementById('NESyndromeMening√©');
            if (NESyndromeMening√©) {
                NESyndromeMening√©.checked = true;
                const syndromeMeningeDetails = document.getElementById('syndromeMeningeDetails');
                if (syndromeMeningeDetails) syndromeMeningeDetails.style.display = 'none';
            }
            
            // Douleurs lombaires - ajout important
            const NEdig8 = document.getElementById('NEdig8');
            if (NEdig8) {
                NEdig8.checked = true;
                const dig8d1 = document.getElementById('dig8d1');
                const dig8d2 = document.getElementById('dig8d2');
                if (dig8d1) dig8d1.style.display = 'none';
                if (dig8d2) dig8d2.style.display = 'none';
                
                // D√©cocher les checkboxes de lat√©ralit√©
                const dig8d1Input = document.getElementById('dig8d1Input');
                const dig8d2Input = document.getElementById('dig8d2Input');
                if (dig8d1Input) dig8d1Input.checked = false;
                if (dig8d2Input) dig8d2Input.checked = false;
            }
            
            // D√©clencher les √©v√©nements change pour appliquer les effets visuels
            const event = new Event('change', { bubbles: true });
            if (NEDeficitMoteur) NEDeficitMoteur.dispatchEvent(event);
            if (NEDeficitSensitif) NEDeficitSensitif.dispatchEvent(event);
            if (NESyndromeMening√©) NESyndromeMening√©.dispatchEvent(event);
            if (NEdig8) NEdig8.dispatchEvent(event);
        }
    }
    
    // Gestion du retour √† l'√©tat non s√©dat√©
    function resetNeurologicalFields() {
        // D√©ficit moteur
        const noDeficitMoteur = document.getElementById('noDeficitMoteur');
        if (noDeficitMoteur) {
            noDeficitMoteur.checked = true;
            const event = new Event('change', { bubbles: true });
            noDeficitMoteur.dispatchEvent(event);
        }
        
        // D√©ficit sensitif
        const noDeficitSensitif = document.getElementById('noDeficitSensitif');
        if (noDeficitSensitif) {
            noDeficitSensitif.checked = true;
            const event = new Event('change', { bubbles: true });
            noDeficitSensitif.dispatchEvent(event);
        }
        
        // Syndrome m√©ning√©
        const noSyndromeMening√© = document.getElementById('noSyndromeMening√©');
        if (noSyndromeMening√©) {
            noSyndromeMening√©.checked = true;
            const event = new Event('change', { bubbles: true });
            noSyndromeMening√©.dispatchEvent(event);
        }
        
        // Douleurs lombaires
        const nodig8 = document.getElementById('nodig8');
        if (nodig8) {
            nodig8.checked = true;
            const event = new Event('change', { bubbles: true });
            nodig8.dispatchEvent(event);
        }
    }
    
    // Ajouter des √©couteurs d'√©v√©nements
    if (sedate) sedate.addEventListener('change', updateNeurologicalFields);
    if (nonSedate) nonSedate.addEventListener('change', resetNeurologicalFields);
    
    // V√©rifier l'√©tat initial au chargement
    if (sedate && sedate.checked) {
        updateNeurologicalFields();
    } else if (nonSedate && nonSedate.checked) {
        resetNeurologicalFields();
    }
});



// Gestion de l'affichage des d√©tails de la paralysie faciale
document.getElementById('yes_paralysie_faciale').addEventListener('change', function() {
    // Afficher les d√©tails du type de paralysie
    document.getElementById('paralysie_faciale_details').style.display = 'block';
    
    // Afficher le s√©lecteur d'intensit√©
    document.getElementById('facial_intensity_selector').style.display = 'inline-block';
});

document.getElementById('no_paralysie_faciale').addEventListener('change', function() {
    // Masquer les d√©tails du type de paralysie
    document.getElementById('paralysie_faciale_details').style.display = 'none';
    
    // Masquer le s√©lecteur d'intensit√©
    document.getElementById('facial_intensity_selector').style.display = 'none';
});



// Ajoutez aussi cette initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    // S'assurer que le menu est cach√© au d√©marrage
    document.getElementById('facial_intensity_selector').style.display = 'none';
});
			
			</script>
			

<style>
.glasgow-section {
    margin-bottom: 20px;
}

.glasgow-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.glasgow-total {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-left: 10px;
}

/* Style pour les selects */
.glasgow-item select, select[id^="pupille-"], select[id^="rpm-"], select[id^="rcp-"]  {
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    background-color: white;
    font-size: 0.9rem;
    min-width: 125px;
    transition: all 0.2s ease;
}

.glasgow-item select:hover, select[id^="pupille-"]:hover, select[id^="rpm-"]:hover, select[id^="rcp-"]:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.2);
}

.glasgow-item select:focus, select[id^="pupille-"]:focus, select[id^="rpm-"]:focus, select[id^="rcp-"]:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
}



/* Style pour les s√©lecteurs de force */
.force-selector {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    position: relative;
}

.force-selector span {
    font-weight: 500;
    color: #1e293b;
}

.force-select-button {
    display: inline-flex;
    align-items: center;
    padding: 4px 8px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    cursor: pointer;
    min-width: 60px;
    font-size: 14px;
    color: #1e293b;
    transition: all 0.2s ease;
}

.force-select-button:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.force-value {
    flex-grow: 1;
    text-align: left;
	    color: #22c55e; /* Couleur verte par d√©faut pour 5/5 */

}

.select-arrow {
    margin-left: 4px;
    font-size: 10px;
    transition: transform 0.2s ease;
}

.force-dropdown {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    min-width: 100%;
    margin-top: 4px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.force-option {
    padding: 6px 12px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    color: #1e293b;
}

.force-option:hover {
    background-color: #f8fafc;
}

/* Classe pour le dropdown ouvert */
.force-selector.open .force-dropdown {
    display: block;
}

.force-selector.open .select-arrow {
    transform: rotate(180deg);
}

/* Style des valeurs de force */
.force-value[data-value="5"] { color: #22c55e; }
.force-value[data-value="4"] { color: #84cc16; }
.force-value[data-value="3"] { color: #eab308; }
.force-value[data-value="2"] { color: #f97316; }
.force-value[data-value="1"] { color: #ef4444; }
.force-value[data-value="0"] { color: #dc2626; }




</style>
						
						<div class="subsection">
						<h4>Sur le plan abdominal</h4>
							

<p><strong>Signes d'hypertension portale :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig6" id="nodig6" checked>
        <span class="checkmark"></span> Pas de signe
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig6" id="yesdig6">
        <span class="checkmark"></span> Signes cliniques
    </label>
</p>
<div style="margin-left: 20px;">
    <div class="dig6d1" id="dig6d1">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig6d1Input">
            <span class="checkmark"></span> Circulation veineuse collat√©rale
        </label>
    </div>
    <div class="dig6d2" id="dig6d2">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig6d2Input">
            <span class="checkmark"></span> Ascite
        </label>
    </div>
    <div class="dig6d3" id="dig6d3">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig6d3Input">
            <span class="checkmark"></span> Spl√©nom√©galie
        </label>
    </div>
</div>
			
<p><strong>Signes d'insuffisance h√©patocellulaire :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig7" id="nodig7" checked>
        <span class="checkmark"></span> Pas de signe
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig7" id="yesdig7">
        <span class="checkmark"></span> Signes cliniques
    </label>
</p>
<div style="margin-left: 20px;">
    <div class="dig7d1" id="dig7d1">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig7d1Input">
            <span class="checkmark"></span> Angiomes stellaires
        </label>
    </div>
    <div class="dig7d2" id="dig7d2">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig7d2Input">
            <span class="checkmark"></span> Ast√©rixis
        </label>
    </div>
    <div class="dig7d3" id="dig7d3">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig7d3Input">
            <span class="checkmark"></span> Ict√®re
        </label>
    </div>
    <div class="dig7d4" id="dig7d4">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig7d4Input">
            <span class="checkmark"></span> Enc√©phalopathie
        </label>
    </div>
</div>

<p><strong>Organom√©galie :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig9" id="nodig9" checked>
        <span class="checkmark"></span> Pas d'organom√©galie
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig9" id="yesdig9">
        <span class="checkmark"></span> Organom√©galie
    </label>
    <input type="text" id="dig9d" placeholder="Pr√©cisez" style="display: none; margin-left: 10px; width: 300px;">
</p>

<p><strong>Douleur √† l'√©branlement des fosses lombaires :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig8" id="nodig8" checked>
        <span class="checkmark"></span> Pas de douleur
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig8" id="yesdig8">
        <span class="checkmark"></span> Douleurs
    </label>
	<label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig8" id="NEdig8">
        <span class="checkmark"></span> Non √©valuable
    </label>
</p>

<div style="margin-left: 20px;">
    <div class="dig8d1" id="dig8d1">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig8d1Input">
            <span class="checkmark"></span> Droite
        </label>
    </div>
    <div class="dig8d2" id="dig8d2">
        <label class="custom-control checkbox" style="margin-right: 10px;">
            <input type="checkbox" id="dig8d2Input">
            <span class="checkmark"></span> Gauche
        </label>
    </div>
</div>

<p><strong>Globe v√©sical :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig10" id="nodig10" checked>
        <span class="checkmark"></span> Pas de globe v√©sical
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig10" id="yesdig10">
        <span class="checkmark"></span> Globe v√©sical
    </label>
</p>

<p><strong>Abdomen :</strong>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig11" id="nodig11" checked>
        <span class="checkmark"></span> Abdomen souple d√©pressible et indolore
    </label>
    <label class="custom-control radio" style="margin-right: 10px;">
        <input type="radio" name="dig11" id="yesdig11">
        <span class="checkmark"></span> Anomalie √† la palpation
    </label>
    <input type="text" id="dig11d" placeholder="Pr√©cisez" style="display: none; margin-left: 10px; width: 300px;">
</p>

							
						</div>
						
						
						<script>
						
						// Affichage des signes d'hypertension portale
document.getElementById('yesdig6').addEventListener('change', function() {
    document.getElementById('dig6d1').style.display = this.checked ? 'inline' : 'none';
    document.getElementById('dig6d2').style.display = this.checked ? 'inline' : 'none';
    document.getElementById('dig6d3').style.display = this.checked ? 'inline' : 'none';
});

document.getElementById('nodig6').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('dig6d1').style.display = 'none';
        document.getElementById('dig6d2').style.display = 'none';
        document.getElementById('dig6d3').style.display = 'none';
    }
});

// Affichage des signes d'insuffisance h√©patocellulaire
document.getElementById('yesdig7').addEventListener('change', function() {
    document.getElementById('dig7d1').style.display = this.checked ? 'inline' : 'none';
    document.getElementById('dig7d2').style.display = this.checked ? 'inline' : 'none';
    document.getElementById('dig7d3').style.display = this.checked ? 'inline' : 'none';
    document.getElementById('dig7d4').style.display = this.checked ? 'inline' : 'none';
});

document.getElementById('nodig7').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('dig7d1').style.display = 'none';
        document.getElementById('dig7d2').style.display = 'none';
        document.getElementById('dig7d3').style.display = 'none';
        document.getElementById('dig7d4').style.display = 'none';
    }
});

// Script corrig√© pour g√©rer correctement les douleurs lombaires
document.addEventListener('DOMContentLoaded', function() {
    // Assurons-nous d'avoir tous les √©l√©ments n√©cessaires
    const nodig8 = document.getElementById('nodig8'); // Pas de douleur
    const yesdig8 = document.getElementById('yesdig8'); // Douleurs
    const NEdig8 = document.getElementById('NEdig8'); // Non √©valuable
    
    const dig8d1 = document.getElementById('dig8d1'); // Checkbox droite
    const dig8d2 = document.getElementById('dig8d2'); // Checkbox gauche
    
    // S√©curit√©: s'assurer que les √©l√©ments existent
    if (!nodig8 || !yesdig8 || !NEdig8 || !dig8d1 || !dig8d2) {
        console.error("√âl√©ments manquants pour la gestion des douleurs lombaires");
        return;
    }
    
    // Fonction pour mettre √† jour l'affichage des options de lat√©ralit√©
    function updateFossesLombairesDisplay() {
        if (yesdig8.checked) {
            // Si "Douleurs" est s√©lectionn√©, afficher les options de lat√©ralit√©
            dig8d1.style.display = 'block';
            dig8d2.style.display = 'block';
        } else {
            // Si "Pas de douleur" ou "Non √©valuable" est s√©lectionn√©, masquer les options
            dig8d1.style.display = 'none';
            dig8d2.style.display = 'none';
            
            // D√©cocher les checkboxes de lat√©ralit√©
            const dig8d1Input = document.getElementById('dig8d1Input');
            const dig8d2Input = document.getElementById('dig8d2Input');
            
            if (dig8d1Input) dig8d1Input.checked = false;
            if (dig8d2Input) dig8d2Input.checked = false;
        }
    }
    
    // Ajouter des √©couteurs d'√©v√©nements √† tous les boutons radio
    nodig8.addEventListener('change', updateFossesLombairesDisplay);
    yesdig8.addEventListener('change', updateFossesLombairesDisplay);
    NEdig8.addEventListener('change', updateFossesLombairesDisplay);
    
    // Ex√©cuter la fonction au chargement initial pour s'assurer du bon √©tat
    updateFossesLombairesDisplay();
});
// Affichage organom√©galie
document.getElementById('yesdig9').addEventListener('change', function() {
    document.getElementById('dig9d').style.display = this.checked ? 'inline' : 'none';
});

document.getElementById('nodig9').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('dig9d').style.display = 'none';
    }
});

// Affichage palpation abdominale
document.getElementById('yesdig11').addEventListener('change', function() {
    document.getElementById('dig11d').style.display = this.checked ? 'inline' : 'none';
});

document.getElementById('nodig11').addEventListener('change', function() {
    if (this.checked) {
        document.getElementById('dig11d').style.display = 'none';
    }
});

// Masquer les sous-sections digestives √† l'initialisation de la page
document.addEventListener('DOMContentLoaded', function() {
    // Hypertension portale
    document.getElementById('dig6d1').style.display = 'none';
    document.getElementById('dig6d2').style.display = 'none';
    document.getElementById('dig6d3').style.display = 'none';
    
    // Insuffisance h√©patocellulaire
    document.getElementById('dig7d1').style.display = 'none';
    document.getElementById('dig7d2').style.display = 'none';
    document.getElementById('dig7d3').style.display = 'none';
    document.getElementById('dig7d4').style.display = 'none';
    
    // Douleur √† l'√©branlement des fosses lombaires
    document.getElementById('dig8d1').style.display = 'none';
    document.getElementById('dig8d2').style.display = 'none';
    
    // Organom√©galie et palpation abdominale
    document.getElementById('dig9d').style.display = 'none';
    document.getElementById('dig11d').style.display = 'none';
});


</script>
						
						<div class="subsection">
						<h4>Autrement</h4>
	
  <!-- Temp√©rature -->
  <div style="display: flex; align-items: center; margin-bottom: 15px;">
    <p style="margin: 0; margin-right: 15px;"><strong>Temp√©rature (¬∞C) :</strong></p>
    <input type="number" id="temperature" placeholder="¬∞C" step="0.1" style="padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; width: 70px;">
    <span id="temperature-status" style="margin-left: 10px; font-weight: bold;"></span>
  </div>

  <!-- Glyc√©mie -->
  <div style="display: flex; align-items: center; margin-bottom: 15px;">
    <p style="margin: 0; margin-right: 15px;"><strong>Glyc√©mie (g/L) :</strong></p>
    <input type="number" id="glycemie" placeholder="g/L" step="0.01" style="padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; width: 70px;">
    <span id="glycemie-status" style="margin-left: 10px; font-weight: bold;"></span>
  </div>
  
 
  
                <textarea id="CliniqueAutre" class="form-textarea" style="width: 90%; min-height: 50px;"
                    placeholder="D√©crivez le reste de l'examen clinique..."></textarea>


<!-- Cath√©ters -->
<div style="margin-top: 15px; margin-bottom: 15px;">
  <p style="margin: 0; margin-right: 15px;"><strong>Cath√©ters :</strong></p>
  <div style="margin-left: 20px; margin-top: 5px;">
    <label class="custom-control radio" style="margin-right: 15px;">
      <input type="radio" name="catheters" id="noCatheters" checked>
      <span class="checkmark"></span>
      Pas de KT
    </label>
    <label class="custom-control radio">
      <input type="radio" name="catheters" id="yesCatheters">
      <span class="checkmark"></span>
      Pr√©sence d'un KT
    </label>
  </div>
  
  <!-- Section d√©tails cath√©ters - masqu√©e par d√©faut -->
  <div id="cathetersDetails" style="display: none; margin-left: 30px; margin-top: 10px;">
    <!-- KTA -->
    <div style="margin-bottom: 10px;">
      <label class="custom-control checkbox">
        <input type="checkbox" id="kta">
        <span class="checkmark"></span>
        KTA
      </label>
      
<!-- D√©tails KTA - masqu√©s par d√©faut -->
<div id="ktaDetails" style="display: none; margin-left: 25px; margin-top: 5px;">
  <div style="margin-bottom: 8px;">
    <span style="display: inline-block; width: 60px;">C√¥t√© :</span>
    <label class="custom-control radio" style="margin-right: 15px;">
      <input type="radio" name="ktaSide" value="droit" checked>
      <span class="checkmark"></span>
      Droit
    </label>
    <label class="custom-control radio">
      <input type="radio" name="ktaSide" value="gauche">
      <span class="checkmark"></span>
      Gauche
    </label>
  </div>
  <div style="margin-bottom: 8px;">
    <span style="display: inline-block; width: 60px;">Statut :</span>
    <label class="custom-control radio" style="margin-right: 15px;">
      <input type="radio" name="ktaStatus" value="propre" checked>
      <span class="checkmark"></span>
      Propre
    </label>
    <label class="custom-control radio">
      <input type="radio" name="ktaStatus" value="sale">
      <span class="checkmark"></span>
      Sale
    </label>
  </div>
  <div>
    <span style="display: inline-block; width: 100px;">Localisation :</span>
    <label class="custom-control radio" style="margin-right: 15px;">
      <input type="radio" name="ktaLocation" value="radial" checked>
      <span class="checkmark"></span>
      Radial
    </label>
    <label class="custom-control radio">
      <input type="radio" name="ktaLocation" value="f√©moral">
      <span class="checkmark"></span>
      F√©moral
    </label>
  </div>
</div>
    </div>
    
    <!-- KT central -->
    <div style="margin-bottom: 10px;">
      <label class="custom-control checkbox">
        <input type="checkbox" id="ktc">
        <span class="checkmark"></span>
        KT central
      </label>
      
      <!-- D√©tails KTC - masqu√©s par d√©faut -->
      <div id="ktcDetails" style="display: none; margin-left: 25px; margin-top: 5px;">
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 100px;">C√¥t√© :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="ktcSide" value="droit" checked>
            <span class="checkmark"></span>
            Droit
          </label>
          <label class="custom-control radio">
            <input type="radio" name="ktcSide" value="gauche">
            <span class="checkmark"></span>
            Gauche
          </label>
        </div>
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 100px;">Localisation :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="ktcLocation" value="femoral" checked>
            <span class="checkmark"></span>
            F√©moral
          </label>
          <label class="custom-control radio">
            <input type="radio" name="ktcLocation" value="jugulaire">
            <span class="checkmark"></span>
            Jugulaire
          </label>
          <label class="custom-control radio">
            <input type="radio" name="ktcLocation" value="sous-clavier">
            <span class="checkmark"></span>
            Sous-clavier
          </label>
        </div>
        <div>
          <span style="display: inline-block; width: 100px;">Statut :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="ktcStatus" value="propre" checked>
            <span class="checkmark"></span>
            Propre
          </label>
          <label class="custom-control radio">
            <input type="radio" name="ktcStatus" value="sale">
            <span class="checkmark"></span>
            Sale
          </label>
        </div>
      </div>
    </div>
    
    <!-- PICC LINE -->
    <div style="margin-bottom: 10px;">
      <label class="custom-control checkbox">
        <input type="checkbox" id="piccline">
        <span class="checkmark"></span>
        KT central (PICC LINE)
      </label>
      
      <!-- D√©tails PICC LINE - masqu√©s par d√©faut -->
      <div id="picclineDetails" style="display: none; margin-left: 25px; margin-top: 5px;">
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 60px;">C√¥t√© :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="picclineSide" value="droit" checked>
            <span class="checkmark"></span>
            Droit
          </label>
          <label class="custom-control radio">
            <input type="radio" name="picclineSide" value="gauche">
            <span class="checkmark"></span>
            Gauche
          </label>
        </div>
        <div>
          <span style="display: inline-block; width: 60px;">Statut :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="picclineStatus" value="propre" checked>
            <span class="checkmark"></span>
            Propre
          </label>
          <label class="custom-control radio">
            <input type="radio" name="picclineStatus" value="sale">
            <span class="checkmark"></span>
            Sale
          </label>
        </div>
      </div>
    </div>
    
    <!-- VVP -->
    <div style="margin-bottom: 10px;">
      <label class="custom-control checkbox">
        <input type="checkbox" id="vvp">
        <span class="checkmark"></span>
        KT p√©riph√©rique (VVP)
      </label>
      
      <!-- D√©tails VVP - masqu√©s par d√©faut -->
      <div id="vvpDetails" style="display: none; margin-left: 25px; margin-top: 5px;">
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 100px;">C√¥t√© :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="vvpSide" value="droite" checked>
            <span class="checkmark"></span>
            Droite
          </label>
          <label class="custom-control radio">
            <input type="radio" name="vvpSide" value="gauche">
            <span class="checkmark"></span>
            Gauche
          </label>
        </div>
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 100px;">Localisation :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="vvpLocation" value="membre_superieur" checked>
            <span class="checkmark"></span>
            Membre sup√©rieur
          </label>
          <label class="custom-control radio">
            <input type="radio" name="vvpLocation" value="membre_inferieur">
            <span class="checkmark"></span>
            Membre inf√©rieur
          </label>
        </div>
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 100px;">Statut :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="vvpStatus" value="propre" checked>
            <span class="checkmark"></span>
            Propre
          </label>
          <label class="custom-control radio">
            <input type="radio" name="vvpStatus" value="sale">
            <span class="checkmark"></span>
            Sale
          </label>
        </div>
        <div>
          <span style="display: inline-block; width: 120px;">Autre(s) VVP :</span>
          <input type="text" id="autresVVP" placeholder="Pr√©cisez" style="width: 250px;">
        </div>
      </div>
    </div>
    
    <!-- MIDLINE -->
    <div style="margin-bottom: 10px;">
      <label class="custom-control checkbox">
        <input type="checkbox" id="midline">
        <span class="checkmark"></span>
        KT p√©riph√©rique (MIDLINE)
      </label>
      
      <!-- D√©tails MIDLINE - masqu√©s par d√©faut -->
      <div id="midlineDetails" style="display: none; margin-left: 25px; margin-top: 5px;">
        <div style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 60px;">C√¥t√© :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="midlineSide" value="droit" checked>
            <span class="checkmark"></span>
            Droit
          </label>
          <label class="custom-control radio">
            <input type="radio" name="midlineSide" value="gauche">
            <span class="checkmark"></span>
            Gauche
          </label>
        </div>
        <div>
          <span style="display: inline-block; width: 60px;">Statut :</span>
          <label class="custom-control radio" style="margin-right: 15px;">
            <input type="radio" name="midlineStatus" value="propre" checked>
            <span class="checkmark"></span>
            Propre
          </label>
          <label class="custom-control radio">
            <input type="radio" name="midlineStatus" value="sale">
            <span class="checkmark"></span>
            Sale
          </label>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Sonde urinaire -->
<div style="margin-top: 15px; margin-bottom: 15px;">
  <p style="margin: 0; margin-right: 15px;"><strong>Sonde urinaire :</strong></p>
  <div style="margin-left: 20px; margin-top: 5px;">
    <label class="custom-control radio" style="margin-right: 15px;">
      <input type="radio" name="sondeUrinaire" id="noSondeUrinaire" checked>
      <span class="checkmark"></span>
      Pas de sonde urinaire
    </label>
    <label class="custom-control radio">
      <input type="radio" name="sondeUrinaire" id="yesSondeUrinaire">
      <span class="checkmark"></span>
      Sonde urinaire
    </label>
  </div>
  
  <!-- Section d√©tails sonde urinaire - masqu√©e par d√©faut -->
  <div id="sondeUrinaireDetails" style="display: none; margin-left: 30px; margin-top: 10px;">
    <div>
      <span style="display: inline-block; width: 60px;">Aspect :</span>
      <label class="custom-control radio" style="margin-right: 15px;">
        <input type="radio" name="aspectUrines" id="urinesNormales" value="claires" checked>
        <span class="checkmark"></span>
        Claires et translucides
      </label>
      <label class="custom-control radio">
        <input type="radio" name="aspectUrines" id="urinesAnormales" value="anormales">
        <span class="checkmark"></span>
        Anormales
      </label>
    </div>
    
    <!-- D√©tails des urines anormales - masqu√©s par d√©faut -->
    <div id="urinesAnormalesDetails" style="display: none; margin-left: 120px; margin-top: 8px;">
      <input type="text" id="descriptionUrines" placeholder="Pr√©cisez l'aspect des urines" style="width: 300px;">
    </div>
  </div>
</div>


<script>

// Gestion des cath√©ters
document.addEventListener('DOMContentLoaded', function() {
    // √âcouteurs d'√©v√©nements pour la pr√©sence de cath√©ters
    const noCatheters = document.getElementById('noCatheters');
    const yesCatheters = document.getElementById('yesCatheters');
    const cathetersDetails = document.getElementById('cathetersDetails');
    
    if (noCatheters && yesCatheters && cathetersDetails) {
        yesCatheters.addEventListener('change', function() {
            cathetersDetails.style.display = this.checked ? 'block' : 'none';
        });
        
        noCatheters.addEventListener('change', function() {
            cathetersDetails.style.display = 'none';
        });
    }
    
    // √âcouteurs pour KTA
    const kta = document.getElementById('kta');
    const ktaDetails = document.getElementById('ktaDetails');
    
    if (kta && ktaDetails) {
        kta.addEventListener('change', function() {
            ktaDetails.style.display = this.checked ? 'block' : 'none';
        });
    }
    
    // √âcouteurs pour KTC
    const ktc = document.getElementById('ktc');
    const ktcDetails = document.getElementById('ktcDetails');
    
    if (ktc && ktcDetails) {
        ktc.addEventListener('change', function() {
            ktcDetails.style.display = this.checked ? 'block' : 'none';
        });
    }
    
    // √âcouteurs pour PICC LINE
    const piccline = document.getElementById('piccline');
    const picclineDetails = document.getElementById('picclineDetails');
    
    if (piccline && picclineDetails) {
        piccline.addEventListener('change', function() {
            picclineDetails.style.display = this.checked ? 'block' : 'none';
        });
    }
    
    // √âcouteurs pour VVP
    const vvp = document.getElementById('vvp');
    const vvpDetails = document.getElementById('vvpDetails');
    
    if (vvp && vvpDetails) {
        vvp.addEventListener('change', function() {
            vvpDetails.style.display = this.checked ? 'block' : 'none';
        });
    }
    
    // √âcouteurs pour MIDLINE
    const midline = document.getElementById('midline');
    const midlineDetails = document.getElementById('midlineDetails');
    
    if (midline && midlineDetails) {
        midline.addEventListener('change', function() {
            midlineDetails.style.display = this.checked ? 'block' : 'none';
        });
    }
    
    // √âcouteurs pour la sonde urinaire
    const noSondeUrinaire = document.getElementById('noSondeUrinaire');
    const yesSondeUrinaire = document.getElementById('yesSondeUrinaire');
    const sondeUrinaireDetails = document.getElementById('sondeUrinaireDetails');
    
    if (noSondeUrinaire && yesSondeUrinaire && sondeUrinaireDetails) {
        yesSondeUrinaire.addEventListener('change', function() {
            sondeUrinaireDetails.style.display = this.checked ? 'block' : 'none';
        });
        
        noSondeUrinaire.addEventListener('change', function() {
            sondeUrinaireDetails.style.display = 'none';
        });
    }
    
    // √âcouteurs pour l'aspect des urines
    const urinesNormales = document.getElementById('urinesNormales');
    const urinesAnormales = document.getElementById('urinesAnormales');
    const urinesAnormalesDetails = document.getElementById('urinesAnormalesDetails');
    
    if (urinesNormales && urinesAnormales && urinesAnormalesDetails) {
        urinesAnormales.addEventListener('change', function() {
            urinesAnormalesDetails.style.display = this.checked ? 'block' : 'none';
        });
        
        urinesNormales.addEventListener('change', function() {
            urinesAnormalesDetails.style.display = 'none';
        });
    }
});

</script>

  <!-- Information aux proches avec menu d√©roulant -->
  <div style="display: flex; align-items: center; margin-bottom: 15px;">
    <p style="margin: 0; margin-right: 15px;"><strong>Info. aux proches :</strong></p>
    <select id="infoProches" style="padding: 0.5rem 1rem; border-radius: 6px; border: 1px solid #e2e8f0; width: 200px; font-size: 0.95rem;">
      <option value="informes" style="background-color: #dcfce7; color: #166534;">Proches inform√©s</option>
      <option value="noninformes" style="background-color: #fee2e2; color: #b91c1c;">Proches non inform√©s</option>
    </select>
  </div>

  <!-- Personne de confiance d√©sign√©e -->
  <div style="display: flex; align-items: center; margin-bottom: 15px;">
    <p style="margin: 0; margin-right: 15px;"><strong>Personne de confiance :</strong></p>
    <select id="personneConfiance" style="padding: 0.5rem 1rem; border-radius: 6px; border: 1px solid #e2e8f0; width: 200px; font-size: 0.95rem;">
      <option value="nonconnue" style="background-color: #fee2e2; color: #b91c1c;">Non connue</option>
      <option value="oralement" style="background-color: #dcfce7; color: #166534;">Oui (oralement)</option>
      <option value="ecrit" style="background-color: #dcfce7; color: #166534;">Oui (par √©crit)</option>
      <option value="impossible" style="background-color: #fef9c3; color: #854d0e;">Recueil impossible</option>
    </select>
    
	  </div>
<div style="display: flex; align-items: center; margin-bottom: 15px;">
    <!-- Champ pour le nom de la personne de confiance -->
    <div id="personneConfianceNom" style="display: none; margin-left: 15px;">
      <label style="margin-right: 10px;">Nom/statut/coordon√©es :</label>
      <input type="text" id="nomPersonneConfiance" style="padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; width: 200px;">
    </div>
  </div>

  <!-- Directives anticip√©es -->
  <div style="display: flex; align-items: center; margin-bottom: 15px;">
    <p style="margin: 0; margin-right: 15px;"><strong>Directives anticip√©es :</strong></p>
    <select id="directivesAnticipees" style="padding: 0.5rem 1rem; border-radius: 6px; border: 1px solid #e2e8f0; width: 200px; font-size: 0.95rem;">
      <option value="nonconnue" style="background-color: #fee2e2; color: #b91c1c;">Non connue</option>
      <option value="oralement" style="background-color: #dcfce7; color: #166534;">Oui (oralement)</option>
      <option value="ecrit" style="background-color: #dcfce7; color: #166534;">Oui (par √©crit)</option>
      <option value="impossible" style="background-color: #fef9c3; color: #854d0e;">Recueil impossible</option>
    </select>
  </div>
							
						</div>
						
		<script>


// Script pour g√©rer l'√©valuation de la temp√©rature et de la glyc√©mie
document.addEventListener('DOMContentLoaded', function() {
  // √âvaluation de la temp√©rature
  const temperatureInput = document.getElementById('temperature');
  const temperatureStatus = document.getElementById('temperature-status');
  
  temperatureInput.addEventListener('input', function() {
    const temp = parseFloat(this.value);
    if (!isNaN(temp)) {
      if (temp < 36) {
        temperatureStatus.textContent = 'Hypothermie';
        temperatureStatus.style.color = '#1d4ed8'; // Bleu pour l'hypothermie
      } else if (temp >= 38) {
        temperatureStatus.textContent = 'Hyperthermie';
        temperatureStatus.style.color = '#dc2626'; // Rouge pour l'hyperthermie
      } else {
        temperatureStatus.textContent = 'Normothermie';
        temperatureStatus.style.color = '#16a34a'; // Vert pour la normale
      }
    } else {
      temperatureStatus.textContent = '';
    }
  });
  
  // √âvaluation de la glyc√©mie
  const glycemieInput = document.getElementById('glycemie');
  const glycemieStatus = document.getElementById('glycemie-status');
  
  glycemieInput.addEventListener('input', function() {
    const glyc = parseFloat(this.value);
    if (!isNaN(glyc)) {
      if (glyc < 0.7) {
        glycemieStatus.textContent = 'Hypoglyc√©mie';
        glycemieStatus.style.color = '#dc2626'; // Rouge pour l'hypoglyc√©mie
      } else if (glyc > 1.4) {
        glycemieStatus.textContent = 'Hyperglyc√©mie';
        glycemieStatus.style.color = '#dc2626'; // Rouge pour l'hyperglyc√©mie
      } else {
        glycemieStatus.textContent = 'Normale';
        glycemieStatus.style.color = '#16a34a'; // Vert pour la normale
      }
    } else {
      glycemieStatus.textContent = '';
    }
  });
});


// Script pour g√©rer les couleurs du s√©lecteur d'information aux proches
document.addEventListener('DOMContentLoaded', function() {
  const infoProchesSelect = document.getElementById('infoProches');
  
  function updateSelectColor() {
    if (infoProchesSelect.value === 'informes') {
      infoProchesSelect.style.backgroundColor = '#dcfce7';
      infoProchesSelect.style.color = '#166534';
      infoProchesSelect.style.borderColor = '#86efac';
    } else {
      infoProchesSelect.style.backgroundColor = '#fee2e2';
      infoProchesSelect.style.color = '#b91c1c';
      infoProchesSelect.style.borderColor = '#fca5a5';
    }
  }
  
  // Appliquer les couleurs initiales
  updateSelectColor();
  
  // Mettre √† jour les couleurs √† chaque changement
  infoProchesSelect.addEventListener('change', updateSelectColor);
});


// Script pour g√©rer les couleurs et affichages conditionnels des s√©lecteurs
document.addEventListener('DOMContentLoaded', function() {
  // S√©lecteur d'information aux proches
  const infoProchesSelect = document.getElementById('infoProches');
  
  function updateInfoProchesColor() {
    if (infoProchesSelect.value === 'informes') {
      infoProchesSelect.style.backgroundColor = '#dcfce7';
      infoProchesSelect.style.color = '#166534';
      infoProchesSelect.style.borderColor = '#86efac';
    } else {
      infoProchesSelect.style.backgroundColor = '#fee2e2';
      infoProchesSelect.style.color = '#b91c1c';
      infoProchesSelect.style.borderColor = '#fca5a5';
    }
  }
  
  // Personne de confiance
  const personneConfianceSelect = document.getElementById('personneConfiance');
  const personneConfianceNom = document.getElementById('personneConfianceNom');
  
  function updatePersonneConfianceColor() {
    if (personneConfianceSelect.value === 'nonconnue') {
      personneConfianceSelect.style.backgroundColor = '#fee2e2';
      personneConfianceSelect.style.color = '#b91c1c';
      personneConfianceSelect.style.borderColor = '#fca5a5';
      personneConfianceNom.style.display = 'none';
    } else if (personneConfianceSelect.value === 'impossible') {
      personneConfianceSelect.style.backgroundColor = '#fef9c3';
      personneConfianceSelect.style.color = '#854d0e';
      personneConfianceSelect.style.borderColor = '#fcd34d';
      personneConfianceNom.style.display = 'none';
    } else {
      personneConfianceSelect.style.backgroundColor = '#dcfce7';
      personneConfianceSelect.style.color = '#166534';
      personneConfianceSelect.style.borderColor = '#86efac';
      personneConfianceNom.style.display = 'flex';
    }
  }
  
  // Directives anticip√©es
  const directivesAntSelect = document.getElementById('directivesAnticipees');
  
  function updateDirectivesAntColor() {
    if (directivesAntSelect.value === 'nonconnue') {
      directivesAntSelect.style.backgroundColor = '#fee2e2';
      directivesAntSelect.style.color = '#b91c1c';
      directivesAntSelect.style.borderColor = '#fca5a5';
    } else if (directivesAntSelect.value === 'impossible') {
      directivesAntSelect.style.backgroundColor = '#fef9c3';
      directivesAntSelect.style.color = '#854d0e';
      directivesAntSelect.style.borderColor = '#fcd34d';
    } else {
      directivesAntSelect.style.backgroundColor = '#dcfce7';
      directivesAntSelect.style.color = '#166534';
      directivesAntSelect.style.borderColor = '#86efac';
    }
  }
  
  // Appliquer les couleurs initiales
  updateInfoProchesColor();
  updatePersonneConfianceColor();
  updateDirectivesAntColor();
  
  // Mettre √† jour les couleurs √† chaque changement
  infoProchesSelect.addEventListener('change', updateInfoProchesColor);
  personneConfianceSelect.addEventListener('change', updatePersonneConfianceColor);
  directivesAntSelect.addEventListener('change', updateDirectivesAntColor);
});

</script>		
						
						
						</div>
						
						
						</div>
				</div>
				</div>
	

<style>
/* Styles pour les textarea */
.form-textarea {
    width: 90%; /* R√©duit la largeur */
    height: 25px; /* Hauteur fixe */
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    padding: 0.75rem;
    font-family: inherit;
    resize: none; /* Supprime le bouton de redimensionnement */
    transition: all 0.3s ease;
    display: block;
    margin: 0.5rem 0;
}

/* Exception pour l'histoire de la maladie */
#CliniqueAutre {
    width: 100%;
    height: 200px;
}

/* Responsive */
@media (max-width: 768px) {
    .form-textarea {
        width: 100%;
    }
}
.form-textarea:hover {
    border-color: #93c5fd;
}

.form-textarea:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Style responsive pour les textarea */
@media (max-width: 768px) {
    .form-textarea {
        min-height: 10px;
    }
}


</style>




			 <section id="ETT">
 </section>
 

<!-- HTML pour la section √âchographie transthoracique -->
<div class="container rea-section">
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">üíì</span>√âchographie transthoracique en r√©animation</h3>
            <div class="button-group">
                <button class="toggle-button" onclick="resetETTInputs()">R√©initialiser</button>
                <button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
            </div>
        </div>
        <div class="section-content">
		

            <!-- Caract√©ristiques du patient -->
            <div class="subsection">
					                <h4>Conditions d'examen</h4>


                <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <label style="min-width: 60px;"><strong>Sexe :</strong></label>
                        <div style="display: flex; gap: 15px;">
                            <label class="custom-control radio">
                                <input type="radio" name="sexe" value="homme" checked>
                                <span class="checkmark"></span>
                                Homme
                            </label>
                            <label class="custom-control radio">
                                <input type="radio" name="sexe" value="femme">
                                <span class="checkmark"></span>
                                Femme
                            </label>
                        </div>
                    </div>
                </div>
				
				<div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 15px;">
					<div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; width: 100%;">
						<label style="min-width: 120px;"><strong>Mensurations :</strong></label>
						<div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
							<label style="white-space: nowrap;">Taille (cm)</label>
							<input type="number" id="taille" step="1" style="width: 60px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" oninput="calculerSurfaceCorporelle()">
							
							<label style="margin-left: 10px; white-space: nowrap;">Poids (kg)</label>
							<input type="number" id="poids" step="0.1" style="width: 60px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" oninput="calculerSurfaceCorporelle()">
							
							<label style="margin-left: 10px; white-space: nowrap;">SC (Formule de Dubois) (m¬≤)</label>
							<input type="number" id="surface_corporelle" readonly step="0.01" style="width: 60px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;">
						</div>
					</div>
				</div>
				
				<script>
function calculerSurfaceCorporelle() {
    const taille = parseFloat(document.getElementById('taille').value);
    const poids = parseFloat(document.getElementById('poids').value);
    const surfaceCorporelle = document.getElementById('surface_corporelle');
    const debitIndexe = document.getElementById('debit_indexe');
    const debitIndexeStatus = document.getElementById('debit-indexe-status');
    
    if (!isNaN(taille) && !isNaN(poids) && taille > 0 && poids > 0) {
        // Formule de Dubois
        const sc = 0.007184 * Math.pow(taille, 0.725) * Math.pow(poids, 0.425);
        surfaceCorporelle.value = sc.toFixed(2);
        
        // Mettre √† jour le d√©bit index√© si n√©cessaire
        if (typeof updateDebitCardiaque === 'function') {
            updateDebitCardiaque();
        }
    } else {
        // R√©initialisation si la surface corporelle ne peut pas √™tre calcul√©e
        surfaceCorporelle.value = '';
        
        // R√©initialiser √©galement le d√©bit index√© et son statut
        if (debitIndexe) debitIndexe.value = '';
        if (debitIndexeStatus) debitIndexeStatus.textContent = '';
    }
}
					
					
					</script>



						
						<div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 15px;">
				<div style="display: flex; align-items: center; gap: 10px;">
					<label style="min-width: 120px;"><strong>√âchog√©nicit√© :</strong></label>
					<div style="display: flex; gap: 15px;">
						<label class="custom-control radio">
							<input type="radio" name="echogenicite" value="mauvaise">
							<span class="checkmark"></span>
							Mauvaise
						</label>
						<label class="custom-control radio">
							<input type="radio" name="echogenicite" value="moyenne" checked>
							<span class="checkmark"></span>
							Moyenne
						</label>
						<label class="custom-control radio">
							<input type="radio" name="echogenicite" value="bonne">
							<span class="checkmark"></span>
							Bonne
						</label>
					</div>
				</div>
				</div>
				
				                <!-- Fr√©quence cardiaque -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Fr√©quence cardiaque (bpm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="1" style="width: 40px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="FC">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Normes: 60-100 bpm</span>
                        <span id="FC-status" style="font-weight: bold;"></span>
                    </div>
                </div>
				
				
<!-- Options de ventilation - Adaptatif -->
<div style="margin-top: 15px; margin-bottom: 15px;">
    <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 10px;">
        <p style="margin: 0; min-width: 120px;"><strong>Ventilation :</strong></p>
        <div style="display: flex; flex-wrap: wrap; gap: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="ventilation_ett" id="ventSpont_ett" checked>
                <span class="checkmark"></span>
                Spontan√©e
            </label>
            <label class="custom-control radio">
                <input type="radio" name="ventilation_ett" id="ventNI_ett">
                <span class="checkmark"></span>
                Non invasive
            </label>
            <label class="custom-control radio">
                <input type="radio" name="ventilation_ett" id="ventInv_ett">
                <span class="checkmark"></span>
                Invasive
            </label>
        </div>
    </div>
</div>

<!-- Options d'amines - Adaptatif -->
<div style="margin-top: 15px; margin-bottom: 15px;">
    <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 10px;">
        <p style="margin: 0; min-width: 120px;"><strong>Amines :</strong></p>
        <div style="display: flex; flex-wrap: wrap; gap: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="amines_ett" id="noAmines_ett" checked>
                <span class="checkmark"></span>
                Pas d'amine
            </label>
            <label class="custom-control radio">
                <input type="radio" name="amines_ett" id="yesAmines_ett">
                <span class="checkmark"></span>
                Amines
            </label>
        </div>
    </div>
    
    <!-- Section d√©tails amines - masqu√©e par d√©faut -->
    <div id="amines_details_ett" style="display: none; margin-left: 20px; margin-top: 10px; padding-left: 10px; border-left: 2px solid #3b82f6;">
        <div style="margin-bottom: 12px;">
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <label class="custom-control checkbox">
                    <input type="checkbox" id="noradrenaline_ett">
                    <span class="checkmark"></span>
                    Noradr√©naline
                </label>
                <div style="display: flex; align-items: center; flex-wrap: nowrap;">
                    <input type="text" id="noradrenaline_dose_ett" placeholder="Posologie" style="display: none; width: 100px; margin-right: 5px;">
                    <span id="noradrenaline_unit_ett" style="display: none; color: #64748b; font-size: 0.9rem;">mg/h</span>
                </div>
            </div>
        </div>
        
        <div style="margin-bottom: 12px;">
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <label class="custom-control checkbox">
                    <input type="checkbox" id="dobutamine_ett">
                    <span class="checkmark"></span>
                    Dobutamine
                </label>
                <div style="display: flex; align-items: center; flex-wrap: nowrap;">
                    <input type="text" id="dobutamine_dose_ett" placeholder="Posologie" style="display: none; width: 100px; margin-right: 5px;">
                    <span id="dobutamine_unit_ett" style="display: none; color: #64748b; font-size: 0.9rem;">¬µg/kg/min</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Script pour afficher/masquer les unit√©s en m√™me temps que les champs de saisie -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mise √† jour des champs de posologie pour noradr√©naline
    const noradrenalineCheckbox = document.getElementById('noradrenaline_ett');
    if (noradrenalineCheckbox) {
        noradrenalineCheckbox.addEventListener('change', function() {
            const doseField = document.getElementById('noradrenaline_dose_ett');
            const unitField = document.getElementById('noradrenaline_unit_ett');
            if (doseField && unitField) {
                doseField.style.display = this.checked ? 'inline-block' : 'none';
                unitField.style.display = this.checked ? 'inline-block' : 'none';
                if (!this.checked) doseField.value = '';
            }
        });
    }
    
    // Mise √† jour des champs de posologie pour dobutamine
    const dobutamineCheckbox = document.getElementById('dobutamine_ett');
    if (dobutamineCheckbox) {
        dobutamineCheckbox.addEventListener('change', function() {
            const doseField = document.getElementById('dobutamine_dose_ett');
            const unitField = document.getElementById('dobutamine_unit_ett');
            if (doseField && unitField) {
                doseField.style.display = this.checked ? 'inline-block' : 'none';
                unitField.style.display = this.checked ? 'inline-block' : 'none';
                if (!this.checked) doseField.value = '';
            }
        });
    }
});
</script>


<div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 15px;">
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; width: 100%;">
        <label style="min-width: 120px;"><strong>Pr√©cisions :</strong></label>
        <input type="text" id="precisions_examen" placeholder="Pr√©cisions sur l'examen" style="width: calc(80% - 200px); min-width: 200px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;">
    </div>
</div>


				    <!-- Ligne pour le nom de l'op√©rateur et son statut -->
    <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 15px;">
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; width: 100%;">
            <label style="min-width: 120px;"><strong>Op√©rateur :</strong></label>
            <input type="text" id="nom_operateur" placeholder="Nom de l'op√©rateur" style="width: 200px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;">
            <div style="display: flex; gap: 15px; margin-left: 10px;">
                <label class="custom-control radio">
                    <input type="radio" name="statut_operateur" value="interne" checked>
                    <span class="checkmark"></span>
                    Interne
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="statut_operateur" value="externe">
                    <span class="checkmark"></span>
                    Externe
                </label>
            </div>
        </div>
    </div>
	
	
	
	

		
            </div>
			
			<script>
			
			// Gestion des options d'amines dans la partie ETT
document.addEventListener('DOMContentLoaded', function() {
    // Afficher/masquer les d√©tails des amines
    const yesAmines = document.getElementById('yesAmines_ett');
    const noAmines = document.getElementById('noAmines_ett');
    const aminesDetails = document.getElementById('amines_details_ett');
    
    if (yesAmines && noAmines && aminesDetails) {
        yesAmines.addEventListener('change', function() {
            if (this.checked) {
                aminesDetails.style.display = 'block';
            }
        });
        
        noAmines.addEventListener('change', function() {
            if (this.checked) {
                aminesDetails.style.display = 'none';
                // R√©initialiser les checkboxes
                document.getElementById('noradrenaline_ett').checked = false;
                document.getElementById('dobutamine_ett').checked = false;
                // Masquer et r√©initialiser les champs de posologie
                document.getElementById('noradrenaline_dose_ett').style.display = 'none';
                document.getElementById('noradrenaline_dose_ett').value = '';
                document.getElementById('dobutamine_dose_ett').style.display = 'none';
                document.getElementById('dobutamine_dose_ett').value = '';
            }
        });
    }
    
    // Afficher/masquer les champs de posologie pour chaque amine
    const noradrenalineCheckbox = document.getElementById('noradrenaline_ett');
    const dobutamineCheckbox = document.getElementById('dobutamine_ett');
    
    if (noradrenalineCheckbox) {
        noradrenalineCheckbox.addEventListener('change', function() {
            const doseField = document.getElementById('noradrenaline_dose_ett');
            if (doseField) {
                doseField.style.display = this.checked ? 'inline' : 'none';
                if (!this.checked) doseField.value = '';
            }
        });
    }
    
    if (dobutamineCheckbox) {
        dobutamineCheckbox.addEventListener('change', function() {
            const doseField = document.getElementById('dobutamine_dose_ett');
            if (doseField) {
                doseField.style.display = this.checked ? 'inline' : 'none';
                if (!this.checked) doseField.value = '';
            }
        });
    }
    
    // Ajout √† la fonction de r√©initialisation
    const originalResetETTInputs = window.resetETTInputs || function() {};
    window.resetETTInputs = function() {
        // Appeler la fonction originale
        originalResetETTInputs();
        
        // R√©initialiser les options de ventilation
        if (document.getElementById('ventSpont_ett')) {
            document.getElementById('ventSpont_ett').checked = true;
        }
        
        // R√©initialiser les options d'amines
        if (document.getElementById('noAmines_ett')) {
            document.getElementById('noAmines_ett').checked = true;
        }
        
        // R√©initialiser les d√©tails des amines
        if (document.getElementById('amines_details_ett')) {
            document.getElementById('amines_details_ett').style.display = 'none';
        }
        
        // D√©cocher et r√©initialiser les champs d'amines
        if (document.getElementById('noradrenaline_ett')) {
            document.getElementById('noradrenaline_ett').checked = false;
            document.getElementById('noradrenaline_dose_ett').style.display = 'none';
            document.getElementById('noradrenaline_dose_ett').value = '';
        }
        
        if (document.getElementById('dobutamine_ett')) {
            document.getElementById('dobutamine_ett').checked = false;
            document.getElementById('dobutamine_dose_ett').style.display = 'none';
            document.getElementById('dobutamine_dose_ett').value = '';
        }
    };
});

</script>

			
			

            <!-- Cavit√©s gauches -->
            <div class="subsection">
                <h4>Cavit√©s gauches</h4>
                
                <!-- Surface oreillette gauche -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Surface oreillette gauche (cm¬≤) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="surface_OG">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">< 20 cm¬≤</span>
                        <span id="surface-OG-status" style="font-weight: bold;"></span>
                    </div>
                </div>
		
<!-- Calcul du volume de l'OG (m√©thode ellipso√Øde) -->
<h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Volume de l'oreillette gauche</h5>

		
<!-- Calcul du volume de l'OG (m√©thode ellipso√Øde) -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Longueur OG (L) (cm) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="longueur_OG">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Longueur de l'OG entre anneau mitral et fond OG (4 cav)</span>
    </div>
</div>

<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre OG longitudinal (D) (cm) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_long_OG">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Diam√®tre parasternal gauche grand axe</span>
    </div>
</div>

<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre OG transversal (d) (cm) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_trans_OG">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Diam√®tre parasternal gauche petit axe</span>
    </div>
</div>

<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px; display: flex; align-items: center;">
        <strong>Vol. OG (m. ellipso√Øde) :</strong>
        <span id="evaluation-ellipsoide" style="margin-left: 10px; font-weight: bold;"></span>
    </label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="text" readonly style="width: 80px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" id="volume_OG_calcule">
        <span id="volume-ellipsoide-unite" style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">mL</span>
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">
            <span class="norme-info">H: Normal ‚â§58mL, Mod√©r√©e 59-68mL, Moyenne 69-78mL, Importante ‚â•79mL</span>
            <span class="norme-info-indexed" style="display: none;">H: OK ‚â§28mL/m¬≤, + 29-33mL/m¬≤, ++ 34-39mL/m¬≤, +++ ‚â•40mL/m¬≤</span>
        </span>
    </div>
</div>

<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px; display: flex; align-items: center;">
        <strong>Vol. OG (m. cubique) :</strong>
        <span id="evaluation-cubique" style="margin-left: 10px; font-weight: bold;"></span>
    </label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="text" readonly style="width: 80px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" id="volume_OG_cubique">
        <span id="volume-cubique-unite" style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">mL</span>
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">
            <span class="norme-info">H: Normal ‚â§58mL, Mod√©r√©e 59-68mL, Moyenne 69-78mL, Importante ‚â•79mL</span>
            <span class="norme-info-indexed" style="display: none;">H: OK ‚â§28mL/m¬≤, + 29-33mL/m¬≤, ++ 34-39mL/m¬≤, +++ ‚â•40mL/m¬≤</span>
        </span>
    </div>
</div>

<style>
/* Style pour l'affichage des normes */
@media (max-width: 768px) {
    .input-group {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .norme-info, .norme-info-indexed {
        display: block;
        margin-top: 5px;
        margin-left: 0;
        font-size: 0.8rem;
    }
}

/* Style pour les champs de volume */
#volume_OG_calcule, #volume_OG_cubique {
    transition: all 0.3s ease;
}

/* Gestion de l'affichage des normes selon la surface corporelle */

/* Styles pour l'affichage des r√©sultats d'√©valuation du volume OG */

/* Styles pour les √©valuations de volume */
#evaluation-ellipsoide, #evaluation-cubique {
    transition: all 0.3s ease;
    font-weight: bold;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
    white-space: nowrap;
    background-color: rgba(0, 0, 0, 0.05);
}

/* Couleurs selon l'√©valuation */
.evaluation-normal {
    color: #22c55e !important; /* Vert */
}

.evaluation-moderee {
    color: #eab308 !important; /* Jaune */
}

.evaluation-moyenne {
    color: #f97316 !important; /* Orange */
}

.evaluation-importante {
    color: #ef4444 !important; /* Rouge */
}

/* Style des bordures de champs lorsqu'une √©valuation est faite */
.input-normal {
    border-color: #86efac !important; /* Vert clair */
    background-color: rgba(34, 197, 94, 0.05) !important;
}

.input-moderee {
    border-color: #fcd34d !important; /* Jaune clair */
    background-color: rgba(234, 179, 8, 0.05) !important;
}

.input-moyenne {
    border-color: #fdba74 !important; /* Orange clair */
    background-color: rgba(249, 115, 22, 0.05) !important;
}

.input-importante {
    border-color: #fca5a5 !important; /* Rouge clair */
    background-color: rgba(239, 68, 68, 0.05) !important;
}

/* Styles responsifs pour les √©crans plus petits */
@media (max-width: 768px) {
    .input-group {
        margin-bottom: 20px;
    }
    
    #evaluation-ellipsoide, #evaluation-cubique {
        display: block;
        margin: 5px 0 0 0;
        font-size: 0.8rem;
        text-align: center;
        width: fit-content;
    }
    
    /* Pour les normes et les unit√©s */
    #volume-ellipsoide-unite, #volume-cubique-unite {
        margin-right: 10px;
    }
    
    .norme-info, .norme-info-indexed {
        width: 100%;
        margin-top: 5px;
        font-size: 0.75rem;
        line-height: 1.2;
    }
}

/* Style pour le mode sombre */
[data-theme="dark"] #evaluation-ellipsoide, 
[data-theme="dark"] #evaluation-cubique {
    background-color: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .input-normal {
    border-color: #4ade80 !important;
    background-color: rgba(22, 163, 74, 0.05) !important;
}

[data-theme="dark"] .input-moderee {
    border-color: #facc15 !important;
    background-color: rgba(202, 138, 4, 0.05) !important;
}

[data-theme="dark"] .input-moyenne {
    border-color: #fb923c !important;
    background-color: rgba(234, 88, 12, 0.05) !important;
}

[data-theme="dark"] .input-importante {
    border-color: #f87171 !important;
    background-color: rgba(220, 38, 38, 0.05) !important;
}


/* Harmonisation des champs calcul√©s et des autres champs de saisie */
#volume_OG_calcule, #volume_OG_cubique, #volume_OG_indexe, 
.input-group input[type="number"]:not(.small):not(.medium) {
    width: 60px !important; /* M√™me largeur que les autres champs */
    padding: 0.4rem 0.8rem;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
}

/* Style sp√©cifique pour les champs en lecture seule */
#volume_OG_calcule, #volume_OG_cubique, #volume_OG_indexe {
    background-color: #e2e8f0;
    border: 2px solid #94a3b8;
}

@media (max-width: 768px) {
    /* Alignement √† gauche des groupes d'entr√©e */
    .input-group {
        width: 100%;
        flex-direction: column;
        align-items: flex-start !important;
        margin-bottom: 15px;
    }
    
    /* Les √©tiquettes prennent toute la largeur et s'alignent √† gauche */
    .input-group label {
        width: 100% !important;
        min-width: unset !important;
        margin-bottom: 5px;
        text-align: left;
    }
    
    /* Les champs de saisie s'alignent √©galement √† gauche */
    .input-group input, .input-group select {
        margin-left: 0 !important;
    }
    

    
    /* Style pour les retours √† la ligne */
    .input-group div {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        align-items: flex-start;
        justify-content: flex-start;
    }
    
    /* S'assurer que les nouvelles lignes commencent √† gauche */
    .input-group span {
        display: inline-block;
        margin-top: 5px;
        margin-right: 5px;
    }
}

/* Pour les tr√®s petits √©crans */
@media (max-width: 480px) {
    .input-group div {
        flex-direction: column;
        align-items: flex-start;
    }
    
    /* Ajuster la taille des labels pour qu'ils soient plus lisibles */
    .input-group label {
        font-size: 0.9rem;
    }
    
    /* R√©duire les marges pour √©conomiser de l'espace */
    .subsection {
        padding: 0.75rem;
    }
}

</style>

<script>
// Script pour g√©rer l'affichage des normes selon la pr√©sence de la surface corporelle
document.addEventListener('DOMContentLoaded', function() {
    const surfaceCorporelleInput = document.getElementById('surface_corporelle');
    const normeInfoElements = document.querySelectorAll('.norme-info');
    const normeInfoIndexedElements = document.querySelectorAll('.norme-info-indexed');
    const sexeRadios = document.querySelectorAll('input[name="sexe"]');
    
    // Fonction pour mettre √† jour l'affichage des normes
    function updateNormeDisplay() {
        const hasSC = surfaceCorporelleInput && surfaceCorporelleInput.value !== '';
        const sexe = document.querySelector('input[name="sexe"]:checked').value;
        
        normeInfoElements.forEach(el => {
            el.style.display = hasSC ? 'none' : 'inline';
            // Mettre √† jour le texte selon le sexe
            if (sexe === 'femme') {
                el.textContent = 'F: OK ‚â§52mL, + 53-62mL, ++ 63-72mL, +++ ‚â•73mL';
            } else {
                el.textContent = 'H: OK ‚â§58mL, + 59-68mL, ++ 69-78mL, +++ ‚â•79mL';
            }
        });
        
        normeInfoIndexedElements.forEach(el => {
            el.style.display = hasSC ? 'inline' : 'none';
            // Les normes index√©es sont les m√™mes pour H/F
            el.textContent = (sexe === 'femme' ? 'F' : 'H') + ': OK ‚â§28mL/m¬≤, + 29-33mL/m¬≤, ++ 34-39mL/m¬≤, +++ ‚â•40mL/m¬≤';
        });
    }
    
    // √âcouter les changements de la surface corporelle
    if (surfaceCorporelleInput) {
        surfaceCorporelleInput.addEventListener('input', updateNormeDisplay);
    }
    
    // √âcouter les changements de sexe
    sexeRadios.forEach(radio => {
        radio.addEventListener('change', updateNormeDisplay);
    });
    
    // Initialiser l'affichage des normes
    updateNormeDisplay();
});
</script>

<script>

// Fonction pour calculer et √©valuer le volume de l'oreillette gauche (m√©thodes ellipso√Øde et cubique)
function calculerVolumeOG() {
    // R√©cup√©rer les valeurs
    const longueurOG = parseFloat(document.getElementById('longueur_OG').value);
    const diametreLongOG = parseFloat(document.getElementById('diametre_long_OG').value);
    const diametreTransOG = parseFloat(document.getElementById('diametre_trans_OG').value);
    
    // R√©cup√©rer les √©l√©ments pour afficher les r√©sultats
    const volumeOGEllipsoide = document.getElementById('volume_OG_calcule');
    const volumeOGCubique = document.getElementById('volume_OG_cubique');
    const evaluationEllipsoide = document.getElementById('evaluation-ellipsoide');
    const evaluationCubique = document.getElementById('evaluation-cubique');
    
    // R√©cup√©rer le sexe du patient
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    // R√©cup√©rer la surface corporelle pour l'indexation des volumes
    const surfaceCorporelle = parseFloat(document.getElementById('surface_corporelle').value);
    
    // D√©finir les normes selon le sexe
    const normes = {
        homme: {
            volumeAbsolu: {
                normal: [18, 58],
                moderee: [59, 68],
                moyenne: [69, 78],
                severe: 79
            },
            volumeIndexe: {
                normal: [16, 28], // 22 ¬± 6
                moderee: [29, 33],
                moyenne: [34, 39],
                severe: 40
            }
        },
        femme: {
            volumeAbsolu: {
                normal: [22, 52],
                moderee: [53, 62],
                moyenne: [63, 72],
                severe: 73
            },
            volumeIndexe: {
                normal: [16, 28], // 22 ¬± 6
                moderee: [29, 33],
                moyenne: [34, 39],
                severe: 40
            }
        }
    };
    
    // Mettre √† jour l'affichage des normes (visible/cach√©)
    const hasSC = !isNaN(surfaceCorporelle) && surfaceCorporelle > 0;
    
    document.querySelectorAll('.norme-info').forEach(el => {
        el.style.display = hasSC ? 'none' : 'inline';
    });
    
    document.querySelectorAll('.norme-info-indexed').forEach(el => {
        el.style.display = hasSC ? 'inline' : 'none';
    });
    
    // 1. Calcul du volume par m√©thode ellipso√Øde si toutes les valeurs sont disponibles
    if (!isNaN(longueurOG) && !isNaN(diametreLongOG) && !isNaN(diametreTransOG)) {
        // Calculer le volume en mL: V = 4/3 * œÄ * (L/2) * (D/2) * (d/2)
        const volumeEllipsoide = (4/3) * Math.PI * (longueurOG/2) * (diametreLongOG/2) * (diametreTransOG/2);
        
        // D√©terminer si on utilise le volume absolu ou index√©
        let volumeAffiche, volumeType, normesApplicables;
        
        if (hasSC) {
            // Volume index√© √† la surface corporelle (mL/m¬≤)
            volumeAffiche = volumeEllipsoide / surfaceCorporelle;
            volumeType = 'indexe';
            if (document.getElementById('volume-ellipsoide-unite')) {
                document.getElementById('volume-ellipsoide-unite').textContent = 'mL/m¬≤';
            }
            
            // Mettre √† jour le champ volumeOGIndexe s'il existe
            const volumeOGIndexeElem = document.getElementById('volume_OG_indexe');
            if (volumeOGIndexeElem) {
                volumeOGIndexeElem.value = volumeAffiche.toFixed(1);
            }
        } else {
            // Volume absolu (mL)
            volumeAffiche = volumeEllipsoide;
            volumeType = 'absolu';
            if (document.getElementById('volume-ellipsoide-unite')) {
                document.getElementById('volume-ellipsoide-unite').textContent = 'mL';
            }
        }
        
        // Appliquer les normes selon le sexe
        normesApplicables = normes[sexe]['volume' + (volumeType === 'indexe' ? 'Indexe' : 'Absolu')];
        
        // √âvaluer le volume
        let evaluation = '', couleur = '', classeCSS = '';
        
        if (volumeAffiche <= normesApplicables.normal[1]) {
            evaluation = 'OK';
            couleur = '#22c55e'; // Vert
            classeCSS = 'input-normal';
        } else if (volumeAffiche <= normesApplicables.moderee[1]) {
            evaluation = '+';
            couleur = '#eab308'; // Jaune
            classeCSS = 'input-moderee';
        } else if (volumeAffiche <= normesApplicables.moyenne[1]) {
            evaluation = '++';
            couleur = '#f97316'; // Orange
            classeCSS = 'input-moyenne';
        } else {
            evaluation = '+++';
            couleur = '#ef4444'; // Rouge
            classeCSS = 'input-importante';
        }
        
        // Afficher le volume et son √©valuation
        volumeOGEllipsoide.value = volumeAffiche.toFixed(1);
        
        // Mettre √† jour l'√©valuation si l'√©l√©ment existe
        if (evaluationEllipsoide) {
            evaluationEllipsoide.textContent = evaluation;
            evaluationEllipsoide.style.color = couleur;
            evaluationEllipsoide.style.fontWeight = 'bold';
            
            // Appliquer la classe CSS pour la couleur de fond du champ
            // Supprimer d'abord toutes les classes de statut
            volumeOGEllipsoide.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
            volumeOGEllipsoide.classList.add(classeCSS);
        }
        
        // Cr√©er ou mettre √† jour l'√©l√©ment d'√©valuation s'il n'existe pas
        else if (volumeOGEllipsoide) {
            const labelElement = volumeOGEllipsoide.closest('.input-group').querySelector('label');
            if (!document.getElementById('evaluation-ellipsoide') && labelElement) {
                const span = document.createElement('span');
                span.id = 'evaluation-ellipsoide';
                span.textContent = evaluation;
                span.style.color = couleur;
                span.style.fontWeight = 'bold';
                span.style.marginLeft = '10px';
                labelElement.appendChild(span);
            }
        }
    } else {
        if (volumeOGEllipsoide) volumeOGEllipsoide.value = '';
        if (evaluationEllipsoide) evaluationEllipsoide.textContent = '';
        
        // Nettoyer les classes CSS
        if (volumeOGEllipsoide) {
            volumeOGEllipsoide.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
        }
    }
    
    // 2. Calcul du volume par m√©thode cubique si le diam√®tre long est disponible
    if (!isNaN(diametreLongOG) && volumeOGCubique) {
        // Formule cubique : V = 0.523 * D¬≥
        const volumeCubique = 0.523 * Math.pow(diametreLongOG, 3);
        
        // D√©terminer si on utilise le volume absolu ou index√©
        let volumeAffiche, volumeType, normesApplicables;
        
        if (hasSC) {
            // Volume index√© √† la surface corporelle (mL/m¬≤)
            volumeAffiche = volumeCubique / surfaceCorporelle;
            volumeType = 'indexe';
            if (document.getElementById('volume-cubique-unite')) {
                document.getElementById('volume-cubique-unite').textContent = 'mL/m¬≤';
            }
        } else {
            // Volume absolu (mL)
            volumeAffiche = volumeCubique;
            volumeType = 'absolu';
            if (document.getElementById('volume-cubique-unite')) {
                document.getElementById('volume-cubique-unite').textContent = 'mL';
            }
        }
        
        // Appliquer les normes selon le sexe
        normesApplicables = normes[sexe]['volume' + (volumeType === 'indexe' ? 'Indexe' : 'Absolu')];
        
        // √âvaluer le volume
        let evaluation = '', couleur = '', classeCSS = '';
        
        if (volumeAffiche <= normesApplicables.normal[1]) {
            evaluation = 'OK';
            couleur = '#22c55e'; // Vert
            classeCSS = 'input-normal';
        } else if (volumeAffiche <= normesApplicables.moderee[1]) {
            evaluation = '+';
            couleur = '#eab308'; // Jaune
            classeCSS = 'input-moderee';
        } else if (volumeAffiche <= normesApplicables.moyenne[1]) {
            evaluation = '++';
            couleur = '#f97316'; // Orange
            classeCSS = 'input-moyenne';
        } else {
            evaluation = '+++';
            couleur = '#ef4444'; // Rouge
            classeCSS = 'input-importante';
        }
        
        // Afficher le volume et son √©valuation
        volumeOGCubique.value = volumeAffiche.toFixed(1);
        
        // Mettre √† jour l'√©valuation si l'√©l√©ment existe
        if (evaluationCubique) {
            evaluationCubique.textContent = evaluation;
            evaluationCubique.style.color = couleur;
            evaluationCubique.style.fontWeight = 'bold';
            
            // Appliquer la classe CSS pour la couleur de fond du champ
            // Supprimer d'abord toutes les classes de statut
            volumeOGCubique.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
            volumeOGCubique.classList.add(classeCSS);
        }
        
        // Cr√©er ou mettre √† jour l'√©l√©ment d'√©valuation s'il n'existe pas
        else if (volumeOGCubique) {
            const labelElement = volumeOGCubique.closest('.input-group').querySelector('label');
            if (!document.getElementById('evaluation-cubique') && labelElement) {
                const span = document.createElement('span');
                span.id = 'evaluation-cubique';
                span.textContent = evaluation;
                span.style.color = couleur;
                span.style.fontWeight = 'bold';
                span.style.marginLeft = '10px';
                labelElement.appendChild(span);
            }
        }
    } else if (volumeOGCubique) {
        volumeOGCubique.value = '';
        if (evaluationCubique) evaluationCubique.textContent = '';
        
        // Nettoyer les classes CSS
        volumeOGCubique.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
    }
}

// Configurer les √©couteurs d'√©v√©nements pour le calcul automatique
document.addEventListener('DOMContentLoaded', function() {
    // Ajouter des √©couteurs pour calculer automatiquement le volume lorsque les valeurs changent
    const inputsOG = ['longueur_OG', 'diametre_long_OG', 'diametre_trans_OG'];
    inputsOG.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.addEventListener('input', calculerVolumeOG);
        }
    });
    
    // Ajouter un √©couteur pour la surface corporelle
    const surfaceCorporelleInput = document.getElementById('surface_corporelle');
    if (surfaceCorporelleInput) {
        surfaceCorporelleInput.addEventListener('input', calculerVolumeOG);
    }
    
    // Ajouter un √©couteur pour le sexe
    document.querySelectorAll('input[name="sexe"]').forEach(radio => {
        radio.addEventListener('change', calculerVolumeOG);
    });
    
    // Ajouter √©galement des √©couteurs pour le calcul de la surface corporelle
    const tailleInput = document.getElementById('taille');
    const poidsInput = document.getElementById('poids');
    
    if (tailleInput && poidsInput) {
        tailleInput.addEventListener('input', function() {
            // Attendre que la surface corporelle soit calcul√©e puis recalculer le volume OG
            setTimeout(calculerVolumeOG, 150);
        });
        
        poidsInput.addEventListener('input', function() {
            // Attendre que la surface corporelle soit calcul√©e puis recalculer le volume OG
            setTimeout(calculerVolumeOG, 150);
        });
    }
    
    // S'assurer que le calcul du volume est inclus lors de la r√©initialisation des champs
    const resetButton = document.querySelector('button[onclick="resetETTInputs()"]');
    if (resetButton) {
        const originalResetFunction = resetButton.onclick;
        resetButton.onclick = function() {
            // Ex√©cuter la fonction originale
            if (originalResetFunction) originalResetFunction();
            
            // R√©initialiser les champs sp√©cifiques au volume OG
            document.getElementById('longueur_OG').value = '';
            document.getElementById('diametre_long_OG').value = '';
            document.getElementById('diametre_trans_OG').value = '';
            document.getElementById('volume_OG_calcule').value = '';
            if (document.getElementById('volume_OG_cubique')) {
                document.getElementById('volume_OG_cubique').value = '';
            }
            if (document.getElementById('evaluation-ellipsoide')) {
                document.getElementById('evaluation-ellipsoide').textContent = '';
            }
            if (document.getElementById('evaluation-cubique')) {
                document.getElementById('evaluation-cubique').textContent = '';
            }
            
            // Nettoyer les classes CSS
            const volumeOGEllipsoide = document.getElementById('volume_OG_calcule');
            const volumeOGCubique = document.getElementById('volume_OG_cubique');
            
            if (volumeOGEllipsoide) {
                volumeOGEllipsoide.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
            }
            
            if (volumeOGCubique) {
                volumeOGCubique.classList.remove('input-normal', 'input-moderee', 'input-moyenne', 'input-importante');
            }
            
            // R√©initialiser les unit√©s
            if (document.getElementById('volume-ellipsoide-unite')) {
                document.getElementById('volume-ellipsoide-unite').textContent = 'mL';
            }
            if (document.getElementById('volume-cubique-unite')) {
                document.getElementById('volume-cubique-unite').textContent = 'mL';
            }
            
            // Mettre √† jour l'affichage des normes
            document.querySelectorAll('.norme-info').forEach(el => {
                el.style.display = 'inline';
            });
            
            document.querySelectorAll('.norme-info-indexed').forEach(el => {
                el.style.display = 'none';
            });
        };
    }
    
    // Ex√©cuter une premi√®re fois pour initialiser
    calculerVolumeOG();
});


// Configurer les √©couteurs d'√©v√©nements pour le calcul automatique
document.addEventListener('DOMContentLoaded', function() {
    // Ajouter des √©couteurs pour calculer automatiquement le volume lorsque les valeurs changent
    const inputsOG = ['longueur_OG', 'diametre_long_OG', 'diametre_trans_OG'];
    inputsOG.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.addEventListener('input', calculerVolumeOG);
        }
    });
    
    // Ajouter un √©couteur pour la surface corporelle
    const surfaceCorporelleInput = document.getElementById('surface_corporelle');
    if (surfaceCorporelleInput) {
        surfaceCorporelleInput.addEventListener('input', calculerVolumeOG);
    }
    
    // Ajouter √©galement des √©couteurs pour le calcul de la surface corporelle
    const tailleInput = document.getElementById('taille');
    const poidsInput = document.getElementById('poids');
    
    if (tailleInput && poidsInput) {
        tailleInput.addEventListener('input', function() {
            // Attendre que la surface corporelle soit calcul√©e puis recalculer le volume OG
            setTimeout(calculerVolumeOG, 100);
        });
        
        poidsInput.addEventListener('input', function() {
            // Attendre que la surface corporelle soit calcul√©e puis recalculer le volume OG
            setTimeout(calculerVolumeOG, 100);
        });
    }
    
    // S'assurer que le calcul du volume est inclus lors de la r√©initialisation des champs
    const resetButton = document.querySelector('button[onclick="resetETTInputs()"]');
    if (resetButton) {
        const originalResetFunction = resetButton.onclick;
        resetButton.onclick = function() {
            // Ex√©cuter la fonction originale
            if (originalResetFunction) originalResetFunction();
            
            // R√©initialiser les champs sp√©cifiques au volume OG
            document.getElementById('longueur_OG').value = '';
            document.getElementById('diametre_long_OG').value = '';
            document.getElementById('diametre_trans_OG').value = '';
            document.getElementById('volume_OG_calcule').value = '';
            document.getElementById('volume-unite').textContent = 'mL';
        };
    }
});


// Fonction am√©lior√©e pour mettre √† jour le volume OG index√©
function updateVolumeOGIndexe() {
    // R√©cup√©rer les √©l√©ments n√©cessaires
    const volumeOGEllipsoide = document.getElementById('volume_OG_calcule');
    const volumeOGCubique = document.getElementById('volume_OG_cubique');
    const surfaceCorporelle = document.getElementById('surface_corporelle');
    const volumeOGIndexe = document.getElementById('volume_OG_indexe');
    const methodeLabel = document.getElementById('methode-volume-label');
    
    // V√©rifier si la surface corporelle est renseign√©e
    const scValide = surfaceCorporelle && 
                      surfaceCorporelle.value && 
                      !isNaN(parseFloat(surfaceCorporelle.value)) && 
                      parseFloat(surfaceCorporelle.value) > 0;
    
    // V√©rifier si au moins une m√©thode de calcul a des valeurs
    const ellipsoideValide = volumeOGEllipsoide && 
                              volumeOGEllipsoide.value && 
                              !isNaN(parseFloat(volumeOGEllipsoide.value));
    
    const cubiqueValide = volumeOGCubique && 
                           volumeOGCubique.value && 
                           !isNaN(parseFloat(volumeOGCubique.value));
    
    // Si aucune m√©thode n'a de valeur ou si la surface corporelle n'est pas valide, r√©initialiser
    if (!scValide || (!ellipsoideValide && !cubiqueValide)) {
        if (volumeOGIndexe) {
            volumeOGIndexe.value = '';
        }
        if (methodeLabel) {
            methodeLabel.textContent = '';
        }
        return;
    }
    
    // Surface corporelle valide et au moins une m√©thode valide
    const sc = parseFloat(surfaceCorporelle.value);
    
    // D√©terminer quelle m√©thode utiliser
    let volumeAffiche = null;
    let methodeUtilisee = '';
    
    // Si la m√©thode ellipso√Øde a une valeur, l'utiliser en priorit√©
    if (ellipsoideValide) {
        volumeAffiche = parseFloat(volumeOGEllipsoide.value);
        methodeUtilisee = '';
    } 
    // Sinon, utiliser la m√©thode cubique si disponible
    else if (cubiqueValide) {
        volumeAffiche = parseFloat(volumeOGCubique.value);
        methodeUtilisee = '';
    }
    
    // Mettre √† jour le volume OG index√©
    if (volumeOGIndexe && volumeAffiche !== null) {
        volumeOGIndexe.value = volumeAffiche.toFixed(1);
        
        // Ajouter l'indication de la m√©thode
        if (methodeLabel) {
            methodeLabel.textContent = methodeUtilisee;
        }
    }
}

// Ajouter une fonction pour s'assurer que le champ est r√©initialis√© lors du reset
function resetVolumeOGIndexe() {
    const volumeOGIndexe = document.getElementById('volume_OG_indexe');
    const methodeLabel = document.getElementById('methode-volume-label');
    
    if (volumeOGIndexe) {
        volumeOGIndexe.value = '';
    }
    if (methodeLabel) {
        methodeLabel.textContent = '';
    }
}

// Modifier la fonction de r√©initialisation des champs ETT pour inclure notre r√©initialisation
document.addEventListener('DOMContentLoaded', function() {
    // R√©cup√©rer le bouton de r√©initialisation ETT
    const resetButton = document.querySelector('button[onclick="resetETTInputs()"]');
    
    if (resetButton) {
        // Sauvegarder la fonction originale
        const originalResetFunction = window.resetETTInputs || function() {};
        
        // Remplacer par notre fonction am√©lior√©e
        window.resetETTInputs = function() {
            // Appeler la fonction originale
            originalResetFunction.call(this);
            
            // Puis r√©initialiser le volume OG index√©
            resetVolumeOGIndexe();
        };
    }
    
    // Configurer les √©couteurs d'√©v√©nements pour les champs qui peuvent √™tre vid√©s manuellement
    const inputsToWatch = [
        'longueur_OG', 'diametre_long_OG', 'diametre_trans_OG', 
        'taille', 'poids'
    ];
    
    inputsToWatch.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            // Ajouter un √©couteur qui v√©rifie si le champ a √©t√© vid√©
            input.addEventListener('input', function() {
                if (!this.value || this.value === '') {
                    // D√©clencher le recalcul pour potentiellement r√©initialiser le volume index√©
                    setTimeout(updateVolumeOGIndexe, 50);
                }
            });
        }
    });
    
    // D√©clencher une premi√®re fois pour initialiser
    updateVolumeOGIndexe();
});
</script>



                
                <!-- Dilatation et hypertrophie ventriculaire -->
                <h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Ventricule gauche</h5>
                
                <!-- Paroi ant√©ro-septale -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Paroi ant√©ro-septale (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="paroi_anteroseptale">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_anteroseptale">Normes: H (6-10 mm)</span>
                        <span id="anteroseptale-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Diam√®tre t√©l√©diastolique du VG -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre t√©l√©diastolique VG (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_VG">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_diametre">Normes: H (42-59 mm)</span>
                        <span id="diametre-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Paroi inf√©ro-lat√©rale -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Paroi inf√©ro-lat√©rale (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="paroi_inferolaterale">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_inferolaterale">Normes: H (6-10 mm)</span>
                        <span id="inferolaterale-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Cin√©tique segmentaire -->
                <div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-top: 15px; margin-bottom: 15px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Cin√©tique segmentaire :</strong></label>
                    <div class="radio-container" style="display: flex; gap: 15px;">
                        <label class="custom-control radio">
                            <input type="radio" name="cinetique_segmentaire" value="normale" checked>
                            <span class="checkmark"></span>
                            Pas de trouble
                        </label>
                        <label class="custom-control radio">
                            <input type="radio" name="cinetique_segmentaire" value="trouble">
                            <span class="checkmark"></span>
                            Pr√©sence d'un trouble
                        </label>
                    </div>
                </div>
                
                <!-- Section des troubles de cin√©tique - masqu√©e par d√©faut -->
                <div id="troubles_cinetique_section" style="display: none; margin-left: 20px; padding: 10px; border-left: 2px solid #3b82f6; margin-bottom: 15px;">
                    <h5 style="color: #3b82f6; margin-top: 10px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;"> Trouble de la cin√©tique segmentaire</h5>
                    
                    <!-- Vue 4 cavit√©s -->
                    <div class="trouble-section">
                        <div style="font-weight: 600; margin-bottom: 5px;">Vue 4 cavit√©s</div>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 15px;">
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="apex">
                                <span class="checkmark"></span>
                                Apex
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="septoapical">
                                <span class="checkmark"></span>
                                Septoapical
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="lateroapical">
                                <span class="checkmark"></span>
                                Lat√©roapical
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="inferosepto_median">
                                <span class="checkmark"></span>
                                Inf√©rosepto m√©dian
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="anterolatero_median">
                                <span class="checkmark"></span>
                                Ant√©rolat√©ro m√©dian
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="inferosepto_basal">
                                <span class="checkmark"></span>
                                Inf√©rosepto basal
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_4c" value="anterolatero_basal">
                                <span class="checkmark"></span>
                                Ant√©rolat√©ro basal
                            </label>
                        </div>
                    </div>
                    
                    <!-- Vue 2 cavit√©s -->
                    <div class="trouble-section" style="margin-top: 10px;">
                        <div style="font-weight: 600; margin-bottom: 5px;">Vue 2 cavit√©s</div>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 15px;">
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="apex">
                                <span class="checkmark"></span>
                                Apex
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="inferoapical">
                                <span class="checkmark"></span>
                                Inf√©roapical
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="anteroapical">
                                <span class="checkmark"></span>
                                Ant√©roapical
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="infero_median">
                                <span class="checkmark"></span>
                                Inf√©ro m√©dian
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="antero_median">
                                <span class="checkmark"></span>
                                Ant√©ro m√©dian
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="infero_basal">
                                <span class="checkmark"></span>
                                Inf√©ro basal
                            </label>
                            <label class="custom-control checkbox">
                                <input type="checkbox" name="trouble_2c" value="antero_basal">
                                <span class="checkmark"></span>
                                Ant√©ro basal
                            </label>
                        </div>
                    </div>
                    
                    <!-- Parasternal petit axe -->
                    <div class="trouble-section" style="margin-top: 10px;">
                        <div style="font-weight: 600; margin-bottom: 5px;">Parasternal petit axe</div>
                        
                        <!-- Apex -->
                        <div style="margin-left: 15px; margin-bottom: 8px;">
                            <div style="font-weight: 500; margin-bottom: 3px;">Apex</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="anterieure">
                                    <span class="checkmark"></span>
                                    Ant√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="anterolateral">
                                    <span class="checkmark"></span>
                                    Ant√©rolat√©ral
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="inferolateral">
                                    <span class="checkmark"></span>
                                    Inf√©rolat√©ral
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="inferieure">
                                    <span class="checkmark"></span>
                                    Inf√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="inferoseptal">
                                    <span class="checkmark"></span>
                                    Inf√©roseptal
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_apex" value="anteroseptal">
                                    <span class="checkmark"></span>
                                    Ant√©roseptal
                                </label>
                            </div>
                        </div>
                        
                        <!-- Moyen -->
                        <div style="margin-left: 15px; margin-bottom: 8px;">
                            <div style="font-weight: 500; margin-bottom: 3px;">Moyen</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="anterieure">
                                    <span class="checkmark"></span>
                                    Ant√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="anterolateral">
                                    <span class="checkmark"></span>
                                    Ant√©rolat√©ral
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="inferolateral">
                                    <span class="checkmark"></span>
                                    Inf√©rolat√©ral
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="inferieure">
                                    <span class="checkmark"></span>
                                    Inf√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="inferoseptal">
                                    <span class="checkmark"></span>
                                    Inf√©roseptal
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_moyen" value="anteroseptal">
                                    <span class="checkmark"></span>
                                    Ant√©roseptal
                                </label>
                            </div>
                        </div>
                        
                        <!-- Base -->
                        <div style="margin-left: 15px;">
                            <div style="font-weight: 500; margin-bottom: 3px;">Base</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 15px;">
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_base" value="anterieure">
                                    <span class="checkmark"></span>
                                    Ant√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_base" value="laterale">
                                    <span class="checkmark"></span>
                                    Lat√©rale
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_base" value="inferieure">
                                    <span class="checkmark"></span>
                                    Inf√©rieure
                                </label>
                                <label class="custom-control checkbox">
                                    <input type="checkbox" name="trouble_ppa_base" value="septale">
                                    <span class="checkmark"></span>
                                    Septale
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
               
                
                <!-- Pression de remplissage du ventricule gauche -->
                <h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px;font-size: 1.1rem; font-weight: 600;">Fonction ventriculaire gauche</h5>
				
				                <!-- Fraction d'√©jection du ventricule gauche -->
<!-- Fraction d'√©jection du ventricule gauche -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-top: 15px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Fraction d'√©jection du VG (%) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="FEVG">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_FEVG">Normes: H (52-72%)</span>
        <span id="FEVG-status" style="font-weight: bold;"></span>
    </div>
</div>

<!-- M√©thode d'√©valuation de la FEVG -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px; margin-left: 10px;">
    <div style="font-size: 0.9rem; color: #64748b; margin-right: 10px;">M√©thode :</div>
    <label class="custom-control radio">
        <input type="radio" name="methode_fevg" value="visuelle" checked>
        <span class="checkmark"></span>
        Visuelle
    </label>
    <label class="custom-control radio">
        <input type="radio" name="methode_fevg" value="simpson">
        <span class="checkmark"></span>
        Simpson biplan
    </label>
</div>

<!-- Strain longitudinal global -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; margin-top: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>Strain longitudinal global (%) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="strain_global">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < -18%</span>
        <span id="strain-status" style="font-weight: bold;"></span>
    </div>
</div>
				
				
                
                <!-- Rapport E/A -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Rapport E/A :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="rapport_EA">
                        <span id="EA-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Onde E' lat√©rale -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Onde E' lat√©rale (cm/s) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="onde_E_lat">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: > 10 cm/s</span>
                        <span id="E-lat-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Onde E' septale -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Onde E' septale (cm/s) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="onde_E_sept">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: > 7 cm/s</span>
                        <span id="E-sept-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Rapport E/E' septale -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Rapport E/E' moyen :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="rapport_EE">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 14</span>
                        <span id="EE-status" style="font-weight: bold;"></span>
                    </div>
                </div>
				
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; margin-top: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>Onde E (cm/s) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="onde_E">
    </div>
</div>


<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; margin-top: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>Volume OG index√© (ml/m¬≤) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="text" readonly style="width: 35px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" id="volume_OG_indexe">
        <span id="methode-volume-label" style="font-style: italic; color: #64748b; font-size: 0.85rem;"></span>
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 34 mL/m¬≤</span>
    </div>
</div>

<div id="resultatFonctionDiastolique" style="padding: 15px; background-color: #f0f9ff; border-left: 4px solid #3b82f6; margin-top: 10px; margin-bottom: 15px; border-radius: 6px;">
    <h5 style="color: #1e40af; margin-top: 0; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">√âvaluation de la fonction diastolique</h5>
    <div id="message_par_defaut" style="color: #dc2626; font-weight: 500;">Param√®tres insuffisants pour conclure. Veuillez saisir au minimum la FEVG.</div>
    <div id="criteres_fonction_diastolique" style="margin-bottom: 10px; display: none;"></div>
    <div id="interpretation_fonction_diastolique" style="font-weight: 600; display: none;"></div>
</div>
                
                <!-- TDE (temps de d√©c√©l√©ration onde E) -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                    <label style="width: 250px; min-width: 200px;"><strong>TDE (ms) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="TDE">
                        <span id="TDE-status" style="font-weight: bold;"></span>
                    </div>
                </div>
	<div id="resultatProfilMitral" style="padding: 15px; background-color: #f0f9ff; border-left: 4px solid #3b82f6; margin-top: 10px; margin-bottom: 15px; border-radius: 6px;">
    <h5 style="color: #1e40af; margin-top: 0; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">√âvaluation du profil mitral</h5>
    <div id="message_profil_par_defaut" style="color: #dc2626; font-weight: 500;">Param√®tres insuffisants pour d√©terminer le profil mitral. Veuillez saisir E/A et TDE.</div>
    <div id="criteres_profil_mitral" style="margin-bottom: 10px; display: none;"></div>
    <div id="interpretation_profil_mitral" style="font-weight: 600; display: none;"></div>
</div>

 </div>               
		<div class="subsection">
                <h4>D√©bit cardiaque</h4>
				
                <!-- D√©bit cardiaque -->
                
                <!-- ITV -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>ITV (cm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="ITV">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_ITV">Normes: H (18-26 cm)</span>
                        <span id="ITV-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                                
<!-- Diam√®tre de la chambre de chasse -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre chambre de chasse (mm) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_CC">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Normes: 19-23 mm</span>
    </div>
</div>

<!-- Surface de la chambre de chasse (calcul√©e automatiquement) -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Surface chambre de chasse (cm¬≤) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" readonly step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" class="small" id="surface_CC">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Normes 3-4cm¬≤</span>
        <span id="surface-CC-status" style="font-weight: bold;"></span>
    </div>
</div>
                
                <!-- D√©bit calcul√© -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>D√©bit calcul√© (L/min) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" readonly step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" class="small" id="debit_calcule">
                        <span id="debit-status" style="font-weight: bold;"></span>
                    </div>
                </div>
				
				    <!-- D√©bit index√© calcul√© (NOUVELLE LIGNE) -->
					<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
						<label style="width: 250px; min-width: 200px;"><strong>D√©bit calcul√© index√© (L/min/m¬≤) :</strong></label>
						<div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
							<input type="number" readonly step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" class="small" id="debit_indexe">
							<span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Normes: 2,6-4,2 L/min/m¬≤</span>
							<span id="debit-indexe-status" style="font-weight: bold;"></span>
						</div>
					</div>
	
				
				
				
            </div>
            
            <!-- Cavit√©s droites -->
            <div class="subsection">
                <h4>Cavit√©s droites</h4>
                
                <!-- Surface oreillette droite -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Surface oreillette droite (cm¬≤) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="surface_OD">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">< 18 cm¬≤</span>
                        <span id="surface-OD-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Dilatation ventriculaire droite -->
                <h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Ventricule droit</h5>
                
                <!-- Diam√®tre basal VD -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre basal VD (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_basal_VD">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: 25-41 mm</span>
                        <span id="basal-VD-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Diam√®tre m√©dian VD -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Diam√®tre m√©dian VD (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="diametre_median_VD">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: 19-35 mm</span>
                        <span id="median-VD-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Cin√©tique segmentaire et contractibilit√© -->
                <h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Fonction ventriculaire droite</h5>
                
                <!-- TAPSE -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>TAPSE (mm) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="TAPSE">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: ‚â• 17 mm</span>
                        <span id="TAPSE-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Onde S' -->
                <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Onde S' (cm/s) :</strong></label>
                    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="onde_S">
                        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: ‚â• 9,5 cm/s</span>
                        <span id="onde-S-status" style="font-weight: bold;"></span>
                    </div>
                </div>
                
                <!-- Septum paradoxal -->
                <div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-top: 15px; margin-bottom: 15px;">
                    <label style="width: 250px; min-width: 200px;"><strong>Septum paradoxal :</strong></label>
                    <div class="radio-container" style="display: flex; gap: 15px;">
                        <label class="custom-control radio">
                            <input type="radio" name="septum_paradoxal" value="non" checked>
                            <span class="checkmark"></span>
                            Pas de septum paradoxal
                        </label>
                        <label class="custom-control radio">
                            <input type="radio" name="septum_paradoxal" value="oui">
                            <span class="checkmark"></span>
                            Pr√©sence d'un septum paradoxal
                        </label>
                    </div>
                </div>
			</div>	
	
            <div class="subsection">
                <h4>Valves cardiaques</h4>
			
<h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Valve aortique</h5>
			
<!-- Valve aortique -->
<div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <div style="display: flex; flex-direction: column; gap: 10px; width: 100%;">
        
        <!-- Titre Insuffisance aortique -->
        <label style="display: block; margin-bottom: 5px;"><strong>Insuffisance aortique :</strong></label>
        
        <!-- Options pour la fuite -->
        <div class="radio-container" style="display: flex; gap: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="fuite_aortique" value="non" checked>
                <span class="checkmark"></span>
                Pas de fuite
            </label>
            <label class="custom-control radio">
                <input type="radio" name="fuite_aortique" value="oui">
                <span class="checkmark"></span>
                Fuite
            </label>
        </div>
        
        <!-- Section fuite aortique - masqu√©e par d√©faut -->
        <div id="fuite_aortique_section" style="display: none; margin-left: 20px; padding: 10px; border-left: 2px solid #3b82f6; margin-bottom: 15px;">
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 10px;">
                <label class="custom-control radio">
                    <input type="radio" name="grade_fuite_aortique" value="minime" checked>
                    <span class="checkmark"></span>
                    Minime
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="grade_fuite_aortique" value="mod√©r√©e">
                    <span class="checkmark"></span>
                    Mod√©r√©e
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="grade_fuite_aortique" value="s√©v√®re">
                    <span class="checkmark"></span>
                    S√©v√®re
                </label>
            </div>
            <div style="margin-top: 10px;">
                <label style="display: block; margin-bottom: 5px;"><strong>Pr√©cisions insuffisance aortique :</strong></label>
                <input type="text" id="precisions_fuite_aortique" placeholder="Pr√©cisez" style="width: 80%; margin-left: 10px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;">
            </div>
        </div>
        
<!-- CHAMPS DE MESURE DU R√âTR√âCISSEMENT (style aspect des valvules) -->
        <div style="margin-top: 15px;">
            <label style="display: block; margin-bottom: 10px;"><strong>R√©tr√©cissement aortique :</strong></label>
            
            <!-- Gradient moyen -->
            <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                <label style="width: 250px; min-width: 200px;">Gradient moyen (mmHg) :</label>
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <input type="number" step="0.1" style="width: 60px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="gradient_moyen_ao" oninput="calculerSeveriteRA()">
                </div>
            </div>
            
            <!-- Vmax -->
            <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                <label style="width: 250px; min-width: 200px;">Vmax (m/s) :</label>
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <input type="number" step="0.1" style="width: 60px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="vmax_ao" oninput="calculerSeveriteRA()">
                </div>
            </div>
            
            <!-- Surface valvulaire -->
            <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
                <label style="width: 250px; min-width: 200px;">Surface valvulaire (cm¬≤) :</label>
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <input type="number" step="0.01" style="width: 60px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="surface_ao" oninput="calculerSeveriteRA()">
                </div>
            </div>
            
            <!-- Surface valvulaire index√©e (calcul√©e automatiquement) -->
            <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                <label style="width: 250px; min-width: 200px;">Surface index√©e (cm¬≤/m¬≤) :</label>
                <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                    <input type="number" readonly step="0.01" style="width: 60px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" class="small" id="surface_indexee_ao">
                </div>
            </div>
            
			<!-- QUALIFICATION EN JOLIES CASES COLOR√âES -->
			<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
				<label style="width: 250px; min-width: 200px;">Qualification :</label>
				<div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
					<span id="qualification_ra" style="display: inline-block; padding: 8px 16px; border-radius: 6px; font-weight: 600; font-size: 0.95rem;"></span>
				</div>
			</div>

            
        </div>
    </div>
</div>



<!-- Section aspect de la valve aortique - √† ajouter dans la section retrecissement_aortique_section -->
<div style="margin-top: 15px;">
    <label style="display: block; margin-bottom: 5px;"><strong>Aspect des valvules :</strong></label>
    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 10px;">
        <label class="custom-control radio">
            <input type="radio" name="aspect_valve_aortique" value="fines" checked>
            <span class="checkmark"></span>
            Fines
        </label>
        <label class="custom-control radio">
            <input type="radio" name="aspect_valve_aortique" value="epaissies">
            <span class="checkmark"></span>
            √âpaissies
        </label>
    </div>
    
    <label style="display: block; margin-bottom: 5px;"><strong>Morphologie :</strong></label>
    <div style="display: flex; flex-wrap: wrap; gap: 15px;">
        <label class="custom-control radio">
            <input type="radio" name="morphologie_valve_aortique" value="tricuspide" checked>
            <span class="checkmark"></span>
            Trois valvules sigmo√Ødes
        </label>
        <label class="custom-control radio">
            <input type="radio" name="morphologie_valve_aortique" value="bicuspide">
            <span class="checkmark"></span>
            Bicuspidie
        </label>
    </div>
</div>




<h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Valve mitrale</h5>

<!-- Valve mitrale -->
<div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <div style="display: flex; flex-direction: column; gap: 10px; width: 100%;">
        
        <!-- Titre Insuffisance mitrale -->
        <label style="display: block; margin-bottom: 5px;"><strong>Insuffisance mitrale :</strong></label>
        
        <!-- Options pour la fuite -->
        <div class="radio-container" style="display: flex; gap: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="fuite_mitrale" value="non" checked>
                <span class="checkmark"></span>
                Pas de fuite
            </label>
            <label class="custom-control radio">
                <input type="radio" name="fuite_mitrale" value="oui">
                <span class="checkmark"></span>
                Fuite
            </label>
        </div>
		
		<!-- Section fuite mitrale - masqu√©e par d√©faut -->
<div id="fuite_mitrale_section" style="display: none; margin-left: 20px; padding: 10px; border-left: 2px solid #3b82f6; margin-bottom: 15px;">
    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 10px;">
        <label class="custom-control radio">
            <input type="radio" name="grade_fuite_mitrale" value="minime" checked>
            <span class="checkmark"></span>
            Minime
        </label>
        <label class="custom-control radio">
            <input type="radio" name="grade_fuite_mitrale" value="mod√©r√©e">
            <span class="checkmark"></span>
            Mod√©r√©e
        </label>
        <label class="custom-control radio">
            <input type="radio" name="grade_fuite_mitrale" value="s√©v√®re">
            <span class="checkmark"></span>
            S√©v√®re
        </label>
    </div>
    <div style="margin-top: 10px;">
		<div style="margin-top: 10px;">
			<label style="display: block; margin-bottom: 5px;"><strong>Pr√©cisions insuffisance mitrale :</strong></label>
			<input type="text" id="precisions_fuite_mitrale" placeholder="Pr√©cisez" style="width: 80%; margin-left: 10px;">
		</div>
    </div>
</div>

        
<!-- Titre R√©tr√©cissement mitral -->
        <label style="display: block; margin-bottom: 5px; margin-top: 15px;"><strong>R√©tr√©cissement mitral :</strong></label>
        
        <!-- Options pour le r√©tr√©cissement -->
        <div class="radio-container" style="display: flex; gap: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="retrecissement_mitral" value="non" checked>
                <span class="checkmark"></span>
                Pas de r√©tr√©cissement
            </label>
            <label class="custom-control radio">
                <input type="radio" name="retrecissement_mitral" value="oui">
                <span class="checkmark"></span>
                R√©tr√©cissement
            </label>
        </div>
    </div>
</div>

<!-- Section r√©tr√©cissement mitral - masqu√©e par d√©faut -->
<div id="retrecissement_mitral_section" style="display: none; margin-left: 20px; padding: 10px; border-left: 2px solid #3b82f6; margin-bottom: 15px;">
    <div style="margin-top: 10px;">
<div style="margin-top: 10px;">
    <label style="display: block; margin-bottom: 5px;"><strong>Pr√©cisions r√©tr√©cissement mitral :</strong></label>
    <input type="text" id="precisions_retrecissement_mitral" placeholder="Pr√©cisez" style="width: 80%; margin-left: 10px;">
</div>    
</div>
</div>

<!-- Section aspect de la valve mitrale - √† ajouter dans la section retrecissement_mitral_section -->
<div style="margin-top: 15px;">
    <label style="display: block; margin-bottom: 5px;"><strong>Aspect des valvules :</strong></label>
    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 10px;">
        <label class="custom-control radio">
            <input type="radio" name="aspect_valve_mitrale" value="fines" checked>
            <span class="checkmark"></span>
            Fines
        </label>
        <label class="custom-control radio">
            <input type="radio" name="aspect_valve_mitrale" value="epaissies">
            <span class="checkmark"></span>
            √âpaissies
        </label>
    </div>
</div>



<!-- Valve tricuspide -->
<h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Valve tricuspide</h5>

<!-- PAPS -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>PAPS (mmHg) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="PAPS">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 25 mmHg</span>
        <span id="PAPS-status" style="font-weight: bold;"></span>
    </div>
</div>

<!-- Vmax IT -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Vmax IT (m/s) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="Vmax_IT">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 2,8 m/s</span>
        <span id="Vmax-IT-status" style="font-weight: bold;"></span>
    </div>
</div>

<!-- Valve pulmonaire -->
<h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Valve pulmonaire</h5>

<!-- Temps d'acc√©l√©ration pulmonaire -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Temps d'acc. pulm. (ms) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="temps_acceleration">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 130 ms</span>
        <span id="temps-acceleration-status" style="font-weight: bold;"></span>
    </div>
</div>

<!-- Pr√©cisions sur les flux d'IT et d'IP -->
<div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-top: 15px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>Pr√©cisions sur les flux :</strong></label>
    <div class="radio-container" style="display: flex; flex-wrap: wrap; gap: 15px;">
                <label class="custom-control radio">
            <input type="radio" name="flux_precisions" value="IT_exploite" checked>
            <span class="checkmark"></span>
            Flux d'IT exploit√©
        </label>
        <label class="custom-control radio">
            <input type="radio" name="flux_precisions" value="IP_exploite">
            <span class="checkmark"></span>
            Flux d'IP exploit√©
        </label>
		
		<label class="custom-control radio">
            <input type="radio" name="flux_precisions" value="non_exploitable" >
            <span class="checkmark"></span>
            Pas de flux d'IP et d'IT exploitable
        </label>

    </div>
</div>


</div>

<!-- Autres param√®tres -->
<div class="subsection">
<h4>Autres param√®tres</h4>



<!-- P√©ricarde -->
<div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>P√©ricarde :</strong></label>
    <div class="radio-container" style="display: flex; gap: 15px;">
        <label class="custom-control radio">
            <input type="radio" name="pericarde" value="sec" checked>
            <span class="checkmark"></span>
            Sec
        </label>
        <label class="custom-control radio">
            <input type="radio" name="pericarde" value="epanchement">
            <span class="checkmark"></span>
            √âpanchement p√©ricardique
        </label>
    </div>
</div>

<!-- Section √©panchement p√©ricardique - masqu√©e par d√©faut -->
<div id="pericarde_section" style="display: none; margin-left: 20px; padding: 10px; border-left: 2px solid #3b82f6; margin-bottom: 15px;">
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 250px; min-width: 200px;"><strong>D√©collement (mm) :</strong></label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="decollement_pericardique">
        </div>
    </div>
    
    <div style="margin-top: 10px; margin-bottom: 10px;">
        <div style="font-weight: 500; margin-bottom: 8px;">Abondance :</div>
        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-left: 15px;">
            <label class="custom-control radio">
                <input type="radio" name="abondance_epanchement" value="faible" checked>
                <span class="checkmark"></span>
                Faible (< 10 mm)
            </label>
            <label class="custom-control radio">
                <input type="radio" name="abondance_epanchement" value="moyenne">
                <span class="checkmark"></span>
                Moyenne (10-20 mm)
            </label>
            <label class="custom-control radio">
                <input type="radio" name="abondance_epanchement" value="grande">
                <span class="checkmark"></span>
                Grande (> 20 mm)
            </label>
        </div>
    </div>
    
    <div style="margin-top: 10px;">
		<div style="margin-top: 10px;">
			<label style="display: block; margin-bottom: 5px;"><strong>Pr√©cisions :</strong></label>
			<input type="text" id="precisions_pericarde" placeholder="Pr√©cisez" style="width: 80%; margin-left: 10px;">
		</div>
</div>
</div>

<!-- Dilatation et anomalies aortiques -->
    <h5 style="color: #3b82f6; margin-top: 15px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Aorte</h5>
    
    <!-- Sinus de Valsalva -->
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 250px; min-width: 200px;"><strong>Sinus de Valsalva (mm) :</strong></label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="sinus_valsalva">
            <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_valsalva">Normes: H (34 ¬± 3 mm)</span>
            <span id="valsalva-status" style="font-weight: bold;"></span>
        </div>
    </div>
    
    <!-- Jonction sino-aortique -->
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 250px; min-width: 200px;"><strong>Jonction sino-aortique (mm) :</strong></label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="jonction_sinoaortique">
            <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_jonction">Normes: H (29 ¬± 3 mm)</span>
            <span id="jonction-status" style="font-weight: bold;"></span>
        </div>
    </div>
    
    <!-- Aorte ascendante proximale -->
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 250px; min-width: 200px;"><strong>Aorte ascendante (mm) :</strong></label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="aorte_ascendante">
            <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;" id="norme_aorte">Normes: H (30 ¬± 4 mm)</span>
            <span id="aorte-status" style="font-weight: bold;"></span>
        </div>
    </div>
	
	

<!-- Veine cave inf√©rieure -->
<h5 style="color: #3b82f6; margin-top: 5px; margin-bottom: 10px; font-size: 1.1rem; font-weight: 600;">Veine cave inf√©rieure</h5>

<!-- Mesure VCI -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 250px; min-width: 200px;"><strong>Mesure VCI (mm) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="0.1" style="width: 35px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="VCI_mesure">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">Norme: < 21 mm</span>
        <span id="VCI-mesure-status" style="font-weight: bold;"></span>
    </div>
</div>

<!-- Compliance VCI -->
<div class="input-group" style="display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>Compliance VCI :</strong></label>
    <div class="radio-container" style="display: flex; gap: 15px;">
        <label class="custom-control radio">
            <input type="radio" name="compliance_VCI" value="sup50" checked>
            <span class="checkmark"></span>
            > 50%
        </label>
        <label class="custom-control radio">
            <input type="radio" name="compliance_VCI" value="inf50">
            <span class="checkmark"></span>
            < 50%
        </label>
    </div>
</div>

<!-- POD estim√©e -->
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
    <label style="width: 250px; min-width: 200px;"><strong>POD estim√©e (mmHg) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="text" readonly style="width: 80px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" id="POD_estimee">
    </div>
</div>




					
	</div>		
</div>
</div>
</div>	


			 <section id="Texte-Type">
 </section>
 
 
<div class="container rea-section">
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">‚úçÔ∏è</span>Texte type final</h3>
            <div class="button-group">
				<button class="toggle-button" id="generateTextExamClin">G√©n√©rer examen</button>
				<button class="toggle-button" id="generateTextETT">G√©n√©rer ETT</button>

				<button class="toggle-button" id="copyText">Copier texte</button>
<button class="toggle-button email-button" id="emailText" style="background-color: #ffd700; color: white;">
  <i class="fas fa-envelope"></i> <span class="button-text-full">Envoyer par mail</span><span class="button-text-short">Mail</span>
</button>
<button class="toggle-button pdf-button" id="generatePdf" style="background: rgba(220, 38, 38, 0.8); color: white;">
  <i class="fas fa-file-pdf"></i> <span class="button-text-full">Cr√©er un PDF</span><span class="button-text-short">PDF</span>
</button>
			</div>
        </div>
        <div class="section-content">
            <div class="subsection-grid">
                <div class="subsection">
                    <div id="generatedTextArea" contenteditable="true" style="border: 1px solid #ccc; padding: 10px; min-height: 400px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>



<style>
/* Style pour les boutons responsifs */
.email-button, .pdf-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

/* Sur grands √©crans, on affiche le texte complet */
.button-text-full {
  display: inline;
}
.button-text-short {
  display: none;
}

/* Sur petits √©crans, on affiche le texte court */
@media (max-width: 768px) {
  .button-text-full {
    display: none;
  }
  .button-text-short {
    display: inline;
  }
  
  /* Ajuster le padding pour les textes courts */
  .email-button, .pdf-button {
    padding: 8px 12px;
  }
}

/* Style suppl√©mentaire pour les petits √©crans */
@media (max-width: 480px) {
  .toggle-button {
    padding: 6px 10px;
    font-size: 0.85rem;
  }
}
</style>


<!-- Bo√Æte de dialogue modale pour l'envoi d'e-mail -->
<div id="emailModal" class="email-modal">
    <div class="email-modal-content">
        <span class="close-modal">&times;</span>
        <h2>Envoyer par mail</h2>
        <div class="email-form">
            <div class="form-group">
                <label for="recipientEmail">Adresse email du destinataire :</label>
                <input type="email" id="recipientEmail" placeholder="exemple@domaine.com" required>
            </div>
            <div class="form-group">
                <label for="emailSubject">Sujet du mail :</label>
                <input type="text" id="emailSubject" placeholder="Compte-rendu m√©dical" value="TypixClin - Compte-rendu m√©dical" readonly>
            </div>
            <div class="form-message" id="emailMessage"></div>
            <div class="form-buttons">
                <button id="sendEmailBtn" class="email-send-btn">
                    <i class="fas fa-paper-plane"></i> Envoyer
                </button>
                <button id="cancelEmailBtn" class="email-cancel-btn">Annuler</button>
            </div>
        </div>
    </div>
</div>



<style>

/* Styles pour la bo√Æte de dialogue d'envoi d'e-mail */
.email-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    overflow: auto;
}

.email-modal-content {
    background-color: var(--card-bg);
    margin: 10% auto;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 500px;
    position: relative;
    animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
    from { opacity: 0; transform: translateY(-30px); }
    to { opacity: 1; transform: translateY(0); }
}

.close-modal {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 24px;
    font-weight: bold;
    color: var(--text-gray);
    cursor: pointer;
    transition: color 0.2s;
}

.close-modal:hover {
    color: var(--primary-color);
}

.email-modal h2 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: 20px;
    font-weight: 600;
}

.email-form .form-group {
    margin-bottom: 15px;
}

.email-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: var(--text-dark);
}

.email-form input {
    width: 90%;
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: 5px;
    font-size: 16px;
    background-color: var(--input-background);
    color: var(--text-dark);
    transition: border-color 0.3s, box-shadow 0.3s;
}

.email-form input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

.form-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
}

.email-send-btn {
    background-color: #ffd700; /* Couleur jaune dor√©e */
    color: black;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.3s, transform 0.2s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.email-send-btn:hover {
    background-color: #ffec8b; /* Jaune plus clair au survol */
    transform: scale(1.05); /* Effet de l√©g√®re augmentation de taille */
}

.email-cancel-btn {
    background-color: transparent;
    color: var(--text-gray);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.3s;
}

.email-cancel-btn:hover {
    background-color: var(--border-color);
}

.form-message {
    margin: 15px 0;
    padding: 10px;
    border-radius: 5px;
    font-size: 14px;
    display: none;
}

.form-message.success {
    display: block;
    background-color: rgba(34, 197, 94, 0.1);
    color: #16a34a;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

.form-message.error {
    display: block;
    background-color: rgba(239, 68, 68, 0.1);
    color: #dc2626;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.email-send-btn.sending {
    pointer-events: none;
    opacity: 0.7;
}

/* Animations pour le bouton d'envoi */
@keyframes sendingPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.email-send-btn.sending {
    animation: sendingPulse 1.5s infinite;
}

/* Support du mode sombre */
[data-theme="dark"] .email-modal-content {
    background-color: #1e293b;
}

[data-theme="dark"] .email-form label {
    color: #f1f5f9;
}

[data-theme="dark"] .email-form input {
    background-color: #0f172a;
    color: #f1f5f9;
    border-color: #334155;
}

[data-theme="dark"] .email-form input:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .email-cancel-btn {
    color: #cbd5e1;
    border-color: #334155;
}

[data-theme="dark"] .email-cancel-btn:hover {
    background-color: #334155;
}

/* Styles responsifs */
@media (max-width: 768px) {
    .email-modal-content {
        margin: 15% auto;
        padding: 20px;
        width: 95%;
    }
    
    .form-buttons {
        flex-direction: column;
        gap: 10px;
    }
    
    .email-send-btn, .email-cancel-btn {
        width: 100%;
    }
}

</style>


<script>

// Configuration pour l'envoi d'email
document.addEventListener('DOMContentLoaded', function() {
    const emailButton = document.getElementById('emailText');
    const emailModal = document.getElementById('emailModal');
    const closeModal = document.querySelector('.close-modal');
    const cancelButton = document.getElementById('cancelEmailBtn');
    const sendButton = document.getElementById('sendEmailBtn');
    const emailForm = document.querySelector('.email-form');
    const emailMessage = document.getElementById('emailMessage');
    
    // Ouvrir la bo√Æte de dialogue
    emailButton.addEventListener('click', function() {
        // V√©rifier si le texte a √©t√© g√©n√©r√©
        const textArea = document.getElementById('generatedTextArea');
        if (!textArea.innerHTML.trim()) {
            alert('Veuillez d\'abord g√©n√©rer le texte type avant de l\'envoyer par email.');
            return;
        }
        
        // Ouvrir la bo√Æte de dialogue
        emailModal.style.display = 'block';
        document.getElementById('recipientEmail').focus();
    });
    
    // Fermer la bo√Æte de dialogue
    function closeEmailModal() {
        emailModal.style.display = 'none';
        emailMessage.style.display = 'none';
        emailMessage.className = 'form-message';
        document.getElementById('recipientEmail').value = '';
    }
    
    closeModal.addEventListener('click', closeEmailModal);
    cancelButton.addEventListener('click', closeEmailModal);
    
    // Fermer la bo√Æte de dialogue en cliquant √† l'ext√©rieur
    window.addEventListener('click', function(event) {
        if (event.target === emailModal) {
            closeEmailModal();
        }
    });
    
    // Envoyer l'email
    sendButton.addEventListener('click', function() {
        const recipientEmail = document.getElementById('recipientEmail').value.trim();
        const emailSubject = document.getElementById('emailSubject').value.trim();
        const textContent = document.getElementById('generatedTextArea').innerText;
        
        // Validation simple de l'adresse email
        if (!recipientEmail || !recipientEmail.includes('@') || !recipientEmail.includes('.')) {
            emailMessage.textContent = 'Veuillez entrer une adresse email valide.';
            emailMessage.className = 'form-message error';
            emailMessage.style.display = 'block';
            return;
        }
        
        // Indiquer que l'envoi est en cours
        sendButton.classList.add('sending');
        sendButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
        emailMessage.style.display = 'none';
        

        emailjs.send(
            'service_ntgibps', 
            'template_6tu5dvl', 
            {
                to_email: recipientEmail,
                subject: emailSubject,
                message: textContent
            },
            'hWtvQ4c3v7OtIlAti'      // Remplacez par votre User ID
        )
        .then(function(response) {
            console.log('Email envoy√© avec succ√®s!', response);
            emailMessage.textContent = 'Email envoy√© avec succ√®s!';
            emailMessage.className = 'form-message success';
            emailMessage.style.display = 'block';
            
            // R√©initialiser le bouton
            sendButton.classList.remove('sending');
            sendButton.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer';
            
            // Fermer la bo√Æte de dialogue apr√®s 2 secondes
            setTimeout(closeEmailModal, 2000);
        })
        .catch(function(error) {
            console.error('Erreur lors de l\'envoi de l\'email:', error);
            emailMessage.textContent = 'Erreur lors de l\'envoi de l\'email. Veuillez r√©essayer.';
            emailMessage.className = 'form-message error';
            emailMessage.style.display = 'block';
            
            // R√©initialiser le bouton
            sendButton.classList.remove('sending');
            sendButton.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer';
        });
    });
});


    (function() {
        // https://dashboard.emailjs.com/admin/account
        emailjs.init('hWtvQ4c3v7OtIlAti'); // Remplacez par votre User ID EmailJS
    })();

</script>

	


<style>
/* ==============================================
   FOOTER ECG - Classes renomm√©es pour √©viter conflits
   Pr√©fixe utilis√© : ecg-ft-
   ============================================== */

.ecg-ft-footer {
    background-color: #111827;
    color: #9ca3af;
    padding: 4rem 0 2rem;
    margin-top: 3rem;
}

.ecg-ft-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
}

.ecg-ft-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 4rem;
}

/* Colonne marque */
.ecg-ft-brand {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.ecg-ft-logo {
    font-family: 'Outfit', 'Segoe UI', system-ui, sans-serif;
    font-size: 2rem;
    font-weight: 800;
    color: white;
    letter-spacing: -0.05em;
}

.ecg-ft-description {
    color: #6b7280;
    max-width: 400px;
    line-height: 1.6;
    font-size: 0.95rem;
}

/* Ic√¥nes sociales */
.ecg-ft-social {
    display: flex;
    gap: 1rem;
}

.ecg-ft-social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #1f2937;
    color: #9ca3af;
    font-size: 1.25rem;
    transition: background 0.3s ease, color 0.3s ease;
    text-decoration: none;
}

.ecg-ft-social-link:hover {
    background: #3b82f6;
    color: white;
}

/* Colonnes navigation */
.ecg-ft-nav {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.ecg-ft-nav-title {
    font-family: 'Outfit', 'Segoe UI', system-ui, sans-serif;
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    margin: 0 0 1rem 0;
}

.ecg-ft-nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.ecg-ft-nav-link {
    color: #6b7280;
    text-decoration: none;
    font-size: 0.95rem;
    display: inline-block;
    transform: translateX(0);
    transition: all 0.3s ease;
}

.ecg-ft-nav-link:hover {
    color: var(--primary-light);
    transform: translateX(5px);
}

/* Bas du footer */
.ecg-ft-bottom {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid #1f2937;
    text-align: left;
}

.ecg-ft-copyright {
    color: #6b7280;
    font-size: 0.9rem;
}

/* ==============================================
   RESPONSIVE
   ============================================== */

@media (max-width: 992px) {
    .ecg-ft-grid {
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
    }
}

@media (max-width: 768px) {
    .ecg-ft-footer {
        padding: 3rem 0 1.5rem;
    }
    
    .ecg-ft-grid {
        grid-template-columns: 1fr;
        gap: 2.5rem;
        text-align: center;
    }
    
    .ecg-ft-brand {
        align-items: center;
    }
    
    .ecg-ft-description {
        text-align: center;
    }
    
    .ecg-ft-social {
        justify-content: center;
    }
    
    .ecg-ft-nav {
        align-items: center;
    }
    
    .ecg-ft-nav-links {
        align-items: center;
    }
}

/* ==============================================
   MODE SOMBRE (Dark Mode)
   ============================================== */

[data-theme="dark"] .ecg-ft-footer {
    background-color: #0a0f1a;
}

[data-theme="dark"] .ecg-ft-logo {
    color: #e5e7eb;
}

[data-theme="dark"] .ecg-ft-description {
    color: #9ca3af;
}

[data-theme="dark"] .ecg-ft-nav-title {
    color: #f3f4f6;
}

[data-theme="dark"] .ecg-ft-nav-link {
    color: #9ca3af;
}

[data-theme="dark"] .ecg-ft-nav-link:hover {
    color: #93c5fd;
}

[data-theme="dark"] .ecg-ft-social-link {
    background: #1e293b;
    color: #d1d5db;
}

[data-theme="dark"] .ecg-ft-social-link:hover {
    background: #3b82f6;
    color: white;
}

[data-theme="dark"] .ecg-ft-bottom {
    border-top-color: #1e293b;
}

[data-theme="dark"] .ecg-ft-copyright {
    color: #9ca3af;
}

@media (max-width: 768px) {
    nav.tcl-floating-nav {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

@media (max-width: 768px) {
    .tcl-nav-items {
        display: none;
    }
}

/* ===== MODE PAYSAGE T√âL√âPHONE ===== */
@media screen and (max-height: 450px) {
    nav.tcl-floating-nav {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
    
    .tcl-section-indicator {
        display: none !important;
    }
    
    .tcl-scroll-indicator {
        display: none !important;
    }
}
	
	
	
	
</style>



<!-- Footer ECG -->
<footer class="ecg-ft-footer">
    <div class="ecg-ft-wrapper">
        <div class="ecg-ft-grid">
            
            <!-- Colonne 1 : Marque -->
            <div class="ecg-ft-brand">
                <div class="ecg-ft-logo">TypixClin</div>
                <p class="ecg-ft-description">Plateforme interactive d'aide √† la r√©daction des examens cliniques pour les √©tudiants en m√©decine.</p>
                <div class="ecg-ft-social">
                    <a href="https://github.com/JEZENN/TypixClin" class="ecg-ft-social-link" target="_blank" rel="noopener">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
            
            <!-- Colonne 2 : Outils -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">Outils</h4>
                <div class="ecg-ft-nav-links">
                    <a href="examen-adulte.html" class="ecg-ft-nav-link">Examen Adulte</a>
                    <a href="examen-p√©diatrique.html" class="ecg-ft-nav-link">Examen P√©diatrique</a>
                    <a href="examen-r√©animation.html" class="ecg-ft-nav-link">Examen R√©animation</a>
                    <a href="ecg.html" class="ecg-ft-nav-link">ECG</a>
                    <a href="gds.html" class="ecg-ft-nav-link">Gaz du sang</a>
                    <a href="Troubles ioniques.html" class="ecg-ft-nav-link">Troubles ioniques</a>
                </div>
            </div>
            
            <!-- Colonne 3 : Ressources -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">Fiches et ressources</h4>
                <div class="ecg-ft-nav-links">
                    <a href="Fiche-examen-clinique.html" class="ecg-ft-nav-link">Fiche Examen Clinique</a>
                    <a href="Fiche-ECG.html" class="ecg-ft-nav-link">Fiche ECG</a>
					<a href="FichierGsheet.html" class="ecg-ft-nav-link">Tableur Gsheet Externat</a>
					<a href="TableurEnLigne.html" class="ecg-ft-nav-link">Tableur en ligne Externat</a>
					<a href="index.html" class="ecg-ft-nav-link">Carnet de stage</a>


                </div>
            </div>
            
            <!-- Colonne 4 : √Ä propos -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">√Ä propos</h4>
                <div class="ecg-ft-nav-links">
                    <a href="index.html#tools" class="ecg-ft-nav-link">Outils</a>
                    <a href="index.html#tableur" class="ecg-ft-nav-link">Tableur</a>
					<a href="index.html#fiches" class="ecg-ft-nav-link">Fiches</a>
                    <a href="index.html#ai" class="ecg-ft-nav-link">Conception</a>
                    <a href="index.html#feedback" class="ecg-ft-nav-link">Feedback</a>
					<a href="MentionsL√©gales.html" class="ecg-ft-nav-link">Mentions l√©gales</a>

                </div>
            </div>
           
            
        </div>
        
        <!-- Bas du footer -->
        <div class="ecg-ft-bottom">
            <div class="ecg-ft-copyright">TypixClin ¬© 2025, Jean ZENNARO</div>
        </div>
    </div>
</footer>



<script>
document.addEventListener('DOMContentLoaded', function() {
    // Les animations sont maintenant g√©r√©es par CSS
    // On garde uniquement la logique m√©tier existante
    
    const content = document.querySelector('.content');
    if (content) {
        content.style.visibility = 'visible';
    }
	
// Ajouter les √©couteurs d'√©v√©nements pour l'√©valuation automatique
    const champsAEvaluer = [
        'FEVG', 'rapport_EA', 'onde_E', 'onde_E_sept', 'onde_E_lat',
        'rapport_EE', 'Vmax_IT', 'volume_OG_indexe'
    ];
    
    champsAEvaluer.forEach(champ => {
        document.getElementById(champ).addEventListener('input', evaluerFonctionDiastolique);
    });


});


// Mise √† jour des normes en fonction du sexe
document.querySelectorAll('input[name="sexe"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const sexe = this.value;
        
        // Mise √† jour des normes pour la paroi ant√©ro-septale
        if (sexe === 'homme') {
            document.getElementById('norme_anteroseptale').textContent = 'Normes: H (6-10 mm)';
            document.getElementById('norme_inferolaterale').textContent = 'Normes: H (6-10 mm)';
            document.getElementById('norme_diametre').textContent = 'Normes: H (42-59 mm)';
            document.getElementById('norme_FEVG').textContent = 'Normes: H (52-72%)';
            document.getElementById('norme_ITV').textContent = 'Normes: H (18-26 cm)';
            document.getElementById('norme_valsalva').textContent = 'Normes: H (31-37 mm)';
            document.getElementById('norme_jonction').textContent = 'Normes: H (26-32 mm)';
            document.getElementById('norme_aorte').textContent = 'Normes: H (26-34 mm)';
        } else {
            document.getElementById('norme_anteroseptale').textContent = 'Normes: F (6-9 mm)';
            document.getElementById('norme_inferolaterale').textContent = 'Normes: F (6-9 mm)';
            document.getElementById('norme_diametre').textContent = 'Normes: F (39-53 mm)';
            document.getElementById('norme_FEVG').textContent = 'Normes: F (54-74%)';
            document.getElementById('norme_ITV').textContent = 'Normes: F (16-24 cm)';
            document.getElementById('norme_valsalva').textContent = 'Normes: F (27-33 mm)';
            document.getElementById('norme_jonction').textContent = 'Normes: F (23-29 mm)';
            document.getElementById('norme_aorte').textContent = 'Normes: F (23-31 mm)';
        }
        
        // Recalculer les statuts des champs pour tenir compte des nouvelles normes
        validateParoiAnteroSeptale();
        validateParoiInferoLaterale();
        validateDiametreVG();
        validateFEVG();
        validateITV();
        validateSinusValsalva();
        validateJonctionSinoAortique();
        validateAorteAscendante();
    });
});

// Afficher/masquer la section des troubles de cin√©tique
document.querySelectorAll('input[name="cinetique_segmentaire"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const troublesSection = document.getElementById('troubles_cinetique_section');
        if (this.value === 'trouble') {
            troublesSection.style.display = 'block';
        } else {
            troublesSection.style.display = 'none';
        }
    });
});

// Afficher/masquer la section fuite aortique
document.querySelectorAll('input[name="fuite_aortique"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const fuiteSection = document.getElementById('fuite_aortique_section');
        if (this.value === 'oui') {
            fuiteSection.style.display = 'block';
        } else {
            fuiteSection.style.display = 'none';
        }
    });
});

// Afficher/masquer la section fuite mitrale
document.querySelectorAll('input[name="fuite_mitrale"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const fuiteSection = document.getElementById('fuite_mitrale_section');
        if (this.value === 'oui') {
            fuiteSection.style.display = 'block';
        } else {
            fuiteSection.style.display = 'none';
        }
    });
});

// Afficher/masquer la section √©panchement p√©ricardique
document.querySelectorAll('input[name="pericarde"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const pericardeSection = document.getElementById('pericarde_section');
        if (this.value === 'epanchement') {
            pericardeSection.style.display = 'block';
        } else {
            pericardeSection.style.display = 'none';
        }
    });
});

// Mise √† jour du d√©collement p√©ricardique en fonction de l'abondance s√©lectionn√©e
document.querySelectorAll('input[name="abondance_epanchement"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const decollement = document.getElementById('decollement_pericardique');
        switch(this.value) {
            case 'faible':
                if (!decollement.value || parseFloat(decollement.value) > 10) {
                    decollement.value = '5';
                }
                break;
            case 'moyenne':
                if (!decollement.value || parseFloat(decollement.value) < 10 || parseFloat(decollement.value) > 20) {
                    decollement.value = '15';
                }
                break;
            case 'grande':
                if (!decollement.value || parseFloat(decollement.value) < 20) {
                    decollement.value = '25';
                }
                break;
        }
    });
});

// Mise √† jour de l'abondance en fonction du d√©collement saisi
document.getElementById('decollement_pericardique').addEventListener('input', function() {
    const valeur = parseFloat(this.value);
    if (!isNaN(valeur)) {
        if (valeur < 10) {
            document.querySelector('input[name="abondance_epanchement"][value="faible"]').checked = true;
        } else if (valeur >= 10 && valeur <= 20) {
            document.querySelector('input[name="abondance_epanchement"][value="moyenne"]').checked = true;
        } else {
            document.querySelector('input[name="abondance_epanchement"][value="grande"]').checked = true;
        }
    }
});

// Fonction pour √©valuer la fonction diastolique
function evaluerFonctionDiastolique() {
    // R√©cup√©rer les valeurs n√©cessaires
    const fevg = parseFloat(document.getElementById('FEVG').value) || 0;
    const rapportEE = parseFloat(document.getElementById('rapport_EE').value) || 0;
    const ondeESept = parseFloat(document.getElementById('onde_E_sept').value) || 0;
    const ondeELat = parseFloat(document.getElementById('onde_E_lat').value) || 0;
    const vmaxIT = parseFloat(document.getElementById('Vmax_IT').value) || 0;
    const volumeOGIndexe = parseFloat(document.getElementById('volume_OG_indexe').value) || 0;
    const rapportEA = parseFloat(document.getElementById('rapport_EA').value) || 0;
    const ondeE = parseFloat(document.getElementById('onde_E').value) || 0;
    
    // Pr√©paration de l'affichage des r√©sultats
    const resultatDiv = document.getElementById('resultatFonctionDiastolique');
    const criteresDiv = document.getElementById('criteres_fonction_diastolique');
    const interpretationDiv = document.getElementById('interpretation_fonction_diastolique');
    const messageParDefaut = document.getElementById('message_par_defaut');
    
    // V√©rifier si les donn√©es minimales sont disponibles
    if (fevg === 0) {
        messageParDefaut.style.display = "block";
        criteresDiv.style.display = "none";
        interpretationDiv.style.display = "none";
        return;
    }
    
    // Masquer le message par d√©faut et afficher les r√©sultats
    messageParDefaut.style.display = "none";
    criteresDiv.style.display = "block";
    interpretationDiv.style.display = "block";
    
    // Initialiser les r√©sultats
    let criteres = "";
    let interpretation = "";
    let criteresPositifs = 0;
    
    // 1. FEVG > 50%
    if (fevg > 50) {
        // √âvaluation des crit√®res pour FEVG pr√©serv√©e
        criteres = "<strong>Cas FEVG pr√©serv√©e (> 50%)</strong><br>Crit√®res √©valu√©s:<br>";
        
        // Crit√®re 1: E/E' > 14
        const critereEE = rapportEE > 14;
        criteres += `‚Ä¢ Rapport E/E' > 14: ${critereEE ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
        if (critereEE) criteresPositifs++;
        
        // Crit√®re 2: Onde E' septale < 7 cm/s ou E' lat√©rale < 10 cm/s
        const critereOndeE = (ondeESept < 7 || ondeELat < 10) && (ondeESept !== 0 || ondeELat !== 0);
        criteres += `‚Ä¢ Onde E' septale < 7 cm/s ou E' lat√©rale < 10 cm/s: ${critereOndeE ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
        if (critereOndeE) criteresPositifs++;
        
        // Crit√®re 3: Vmax IT > 2,8 m/s
        const critereVmaxIT = vmaxIT > 2.8 && vmaxIT !== 0;
        criteres += `‚Ä¢ Vmax IT > 2,8 m/s: ${critereVmaxIT ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
        if (critereVmaxIT) criteresPositifs++;
        
        // Crit√®re 4: Volume OG index√© > 34 mL/m¬≤
        const critereVolumeOG = volumeOGIndexe > 34 && volumeOGIndexe !== 0;
        criteres += `‚Ä¢ Volume OG index√© > 34 mL/m¬≤: ${critereVolumeOG ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
        if (critereVolumeOG) criteresPositifs++;
        
        // Interpr√©tation
        criteres += `<br>Nombre de crit√®res positifs: ${criteresPositifs}<br>`;
        
        if (criteresPositifs < 2) {
            interpretation = "Fonction diastolique normale";
        } else if (criteresPositifs === 2) {
            interpretation = "Fonction diastolique ind√©termin√©e";
        } else {
            interpretation = "Dysfonction diastolique (FEVG pr√©serv√©e)";
        }
    }
    // 2. FEVG < 50% (alt√©r√©e)
    else {
        criteres = "<strong>Cas FEVG alt√©r√©e (< 50%)</strong><br>";
        
        // Cas E/A ‚â§ 0,8 et onde E < 50 cm/s
        if (rapportEA <= 0.8 && ondeE < 50 && rapportEA !== 0 && ondeE !== 0) {
            criteres += `‚Ä¢ E/A ‚â§ 0,8 (${rapportEA.toFixed(1)}) et onde E < 50 cm/s (${ondeE} cm/s)<br>`;
            interpretation = "PRVG normales, Dysfonction diastolique Grade 1";
        }
        // Cas E/A ‚â§ 0,8 et onde E > 50 cm/s OU 0,8 < E/A < 2
        else if ((rapportEA <= 0.8 && ondeE > 50 && ondeE !== 0) || (rapportEA > 0.8 && rapportEA < 2 && rapportEA !== 0)) {
            criteres += `‚Ä¢ E/A: ${rapportEA.toFixed(1)} (${rapportEA <= 0.8 ? '‚â§ 0,8 et onde E > 50 cm/s' : '0,8 < E/A < 2'})<br>`;
            criteres += "√âvaluation de crit√®res suppl√©mentaires:<br>";
            
            // Crit√®re 1: E/E' > 14
            const critereEE = rapportEE > 14;
            criteres += `‚Ä¢ Rapport E/E' > 14: ${critereEE ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
            if (critereEE) criteresPositifs++;
            
            // Crit√®re 2: Vmax IT > 2,8 m/s
            const critereVmaxIT = vmaxIT > 2.8 && vmaxIT !== 0;
            criteres += `‚Ä¢ Vmax IT > 2,8 m/s: ${critereVmaxIT ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
            if (critereVmaxIT) criteresPositifs++;
            
            // Crit√®re 3: Volume OG index√© > 34 mL/m¬≤
            const critereVolumeOG = volumeOGIndexe > 34 && volumeOGIndexe !== 0;
            criteres += `‚Ä¢ Volume OG index√© > 34 mL/m¬≤: ${critereVolumeOG ? '<span style="color: #dc2626">Oui</span>' : '<span style="color: #16a34a">Non</span>'}<br>`;
            if (critereVolumeOG) criteresPositifs++;
            
            criteres += `<br>Nombre de crit√®res positifs: ${criteresPositifs}<br>`;
            
            if (criteresPositifs < 2) {
                interpretation = "PRVG normales, Dysfonction diastolique Grade 1";
            } else {
                interpretation = "PRVG √©lev√©es, Dysfonction diastolique Grade 2";
            }
        }
        // Cas E/A > 2
        else if (rapportEA >= 2) {
            criteres += `‚Ä¢ E/A ‚â• 2 (${rapportEA.toFixed(1)})<br>`;
            interpretation = "PRVG √©lev√©es, Dysfonction diastolique Grade 3";
        }
        else {
            // Si on a seulement la FEVG mais pas les autres param√®tres
            criteres += "Donn√©es suppl√©mentaires n√©cessaires (rapport E/A et onde E) pour d√©terminer le grade de dysfonction.<br>";
            interpretation = "Donn√©es insuffisantes pour pr√©ciser le grade de dysfonction diastolique";
        }
    }
    
    // Afficher les r√©sultats
    criteresDiv.innerHTML = criteres;
    interpretationDiv.innerHTML = "Conclusion: " + interpretation;
}


// Fonction pour √©valuer le profil mitral
function evaluerProfilMitral() {
    // R√©cup√©rer les valeurs n√©cessaires
    const rapportEA = parseFloat(document.getElementById('rapport_EA').value) || 0;
    const tde = parseFloat(document.getElementById('TDE').value) || 0;
    
    // Pr√©paration de l'affichage des r√©sultats
    const resultatDiv = document.getElementById('resultatProfilMitral');
    const criteresDiv = document.getElementById('criteres_profil_mitral');
    const interpretationDiv = document.getElementById('interpretation_profil_mitral');
    const messageParDefaut = document.getElementById('message_profil_par_defaut');
    
    // V√©rifier si les donn√©es minimales sont disponibles
    if (rapportEA === 0 || tde === 0) {
        messageParDefaut.style.display = "block";
        criteresDiv.style.display = "none";
        interpretationDiv.style.display = "none";
        return;
    }
    
    // Masquer le message par d√©faut et afficher les r√©sultats
    messageParDefaut.style.display = "none";
    criteresDiv.style.display = "block";
    interpretationDiv.style.display = "block";
    
    // Initialiser les r√©sultats
    let criteres = "";
    let interpretation = "";
    
    // √âvaluation du profil mitral
    criteres = "<strong>√âvaluation du profil mitral</strong><br>Donn√©es:<br>";
    criteres += `‚Ä¢ Rapport E/A: ${rapportEA.toFixed(2)}<br>`;
    criteres += `‚Ä¢ TDE: ${tde} ms<br><br>`;
    
    // Type 1 : E/A < 1 et TDE > 220 ms
    if (rapportEA < 1 && tde > 220) {
        interpretation = "Profil mitral de Type 1 (flux normal chez les personnes √¢g√©es)";
    } 
    // Type 2 : 1 < E/A < 2 et 150 < TDE < 200 ms
    else if (rapportEA >= 1 && rapportEA <= 2 && tde >= 150 && tde <= 200) {
        interpretation = "Profil mitral de Type 2 (flux normal chez les personnes jeunes, anormal chez les personnes √¢g√©es - dysfonction diastolique)";
    } 
    // Type 3 : E/A > 2 et/ou TDE < 150 ms
    else if (rapportEA > 2 || tde < 150) {
        interpretation = "Profil mitral de Type 3 (dysfonction diastolique s√©v√®re)";
    }
    // Cas ind√©termin√©
    else {
        interpretation = "Profil mitral ind√©termin√©";
    }
    
    // Afficher les r√©sultats
    criteresDiv.innerHTML = criteres;
    interpretationDiv.innerHTML = "Conclusion: " + interpretation;
}

document.getElementById('rapport_EA').addEventListener('input', evaluerProfilMitral);
document.getElementById('TDE').addEventListener('input', evaluerProfilMitral);




// Calcul de la pression OD estim√©e en fonction de la VCI et de la compliance
function updatePODEstimee() {
    const vciMesure = parseFloat(document.getElementById('VCI_mesure').value);
    const compliance = document.querySelector('input[name="compliance_VCI"]:checked').value;
    const podEstimee = document.getElementById('POD_estimee');
    
    if (!isNaN(vciMesure)) {
        if (vciMesure < 21) {
            if (compliance === 'sup50') {
                podEstimee.value = '3 - 5';
            } else {
                podEstimee.value = '5 - 10';
            }
        } else {
            if (compliance === 'sup50') {
                podEstimee.value = '5 - 10';
            } else {
                podEstimee.value = '10 - 15';
            }
        }
    } else {
        podEstimee.value = '';
    }
}

document.getElementById('VCI_mesure').addEventListener('input', updatePODEstimee);
document.querySelectorAll('input[name="compliance_VCI"]').forEach(radio => {
    radio.addEventListener('change', updatePODEstimee);
});

function updateDebitCardiaque() {
    const itv = parseFloat(document.getElementById('ITV').value);
    const surface = parseFloat(document.getElementById('surface_CC').value);
    const fc = parseFloat(document.getElementById('FC').value);
    const debitCalcule = document.getElementById('debit_calcule');
    const debitIndexe = document.getElementById('debit_indexe');
    const debitIndexeStatus = document.getElementById('debit-indexe-status');
    const surfaceCorporelle = parseFloat(document.getElementById('surface_corporelle').value);
    
    if (!isNaN(itv) && !isNaN(surface) && !isNaN(fc)) {
        // D√©bit (L/min) = FC x ITV x Surface (conversion cm¬≤ en cm¬≤)
        const debit = (fc * itv * surface) / 1000;
        debitCalcule.value = debit.toFixed(1);
        
        // Calcul du d√©bit index√© uniquement si la surface corporelle est valide
        if (!isNaN(surfaceCorporelle) && surfaceCorporelle > 0) {
            const debitIdx = debit / surfaceCorporelle;
            debitIndexe.value = debitIdx.toFixed(1);
            
            // Ajout d'indicateur visuel pour les valeurs normales/anormales
            if (debitIdx >= 2.6 && debitIdx <= 4.2) {
                debitIndexeStatus.textContent = "Normal";
                debitIndexeStatus.style.color = "green";
            } else if (debitIdx < 1.9) {
                debitIndexeStatus.textContent = "Bas d√©bit (<1.9)";
                debitIndexeStatus.style.color = "red";
            } else if (debitIdx < 2.6) {
                debitIndexeStatus.textContent = "Limite basse";
                debitIndexeStatus.style.color = "orange";
            } else {
                debitIndexeStatus.textContent = "√âlev√©";
                debitIndexeStatus.style.color = "red";
            }
        } else {
            // Si pas de surface corporelle, r√©initialiser le d√©bit index√©
            debitIndexe.value = '';
            debitIndexeStatus.textContent = '';
        }
    } else {
        // Si les donn√©es pour calculer le d√©bit sont manquantes
        debitCalcule.value = '';
        debitIndexe.value = '';
        debitIndexeStatus.textContent = '';
    }
}

document.getElementById('ITV').addEventListener('input', updateDebitCardiaque);
// Listener pour le diam√®tre de la chambre de chasse
document.getElementById('diametre_CC').addEventListener('input', updateSurfaceChambreChasse);

// Le calcul du d√©bit sera d√©clench√© automatiquement par updateSurfaceChambreChasse()
// On garde quand m√™me un listener direct sur surface_CC au cas o√π elle serait modifi√©e manuellement
document.getElementById('surface_CC').addEventListener('input', updateDebitCardiaque);
document.getElementById('FC').addEventListener('input', updateDebitCardiaque);

// Fonctions de validation pour les diff√©rents champs
function validateSurfaceOG() {
    const surfaceOG = parseFloat(document.getElementById('surface_OG').value);
    const statusElement = document.getElementById('surface-OG-status');
    
    if (!isNaN(surfaceOG)) {
        if (surfaceOG >= 20) {
            statusElement.textContent = 'Dilat√©e';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateParoiAnteroSeptale() {
    const paroi = parseFloat(document.getElementById('paroi_anteroseptale').value);
    const statusElement = document.getElementById('anteroseptale-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(paroi)) {
        if (sexe === 'homme') {
            if (paroi < 6) {
                statusElement.textContent = 'Amincie';
                statusElement.style.color = '#dc2626';
            } else if (paroi > 10) {
                statusElement.textContent = 'Hypertrophi√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (paroi < 6) {
                statusElement.textContent = 'Amincie';
                statusElement.style.color = '#dc2626';
            } else if (paroi > 9) {
                statusElement.textContent = 'Hypertrophi√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateParoiInferoLaterale() {
    const paroi = parseFloat(document.getElementById('paroi_inferolaterale').value);
    const statusElement = document.getElementById('inferolaterale-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(paroi)) {
        if (sexe === 'homme') {
            if (paroi < 6) {
                statusElement.textContent = 'Amincie';
                statusElement.style.color = '#dc2626';
            } else if (paroi > 10) {
                statusElement.textContent = 'Hypertrophi√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (paroi < 6) {
                statusElement.textContent = 'Amincie';
                statusElement.style.color = '#dc2626';
            } else if (paroi > 9) {
                statusElement.textContent = 'Hypertrophi√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateDiametreVG() {
    const diametre = parseFloat(document.getElementById('diametre_VG').value);
    const statusElement = document.getElementById('diametre-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(diametre)) {
        if (sexe === 'homme') {
            if (diametre < 42) {
                statusElement.textContent = 'R√©duit';
                statusElement.style.color = '#dc2626';
            } else if (diametre > 59) {
                statusElement.textContent = 'Dilat√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (diametre < 39) {
                statusElement.textContent = 'R√©duit';
                statusElement.style.color = '#dc2626';
            } else if (diametre > 53) {
                statusElement.textContent = 'Dilat√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateFEVG() {
    // R√©cup√©rer les √©l√©ments
    const fevgInput = document.getElementById('FEVG');
    const statusElement = document.getElementById('FEVG-status');
    const sexeElements = document.querySelectorAll('input[name="sexe"]:checked');
    
    // V√©rifier que tous les √©l√©ments existent
    if (!fevgInput || !statusElement || !sexeElements.length) {
        console.error("Un ou plusieurs √©l√©ments n√©cessaires sont manquants pour validateFEVG()");
        return;
    }
    
    const fevg = parseFloat(fevgInput.value);
    const sexe = sexeElements[0].value;
    
    if (!isNaN(fevg)) {
        if (sexe === 'homme') {
            if (fevg < 52) {
                statusElement.textContent = 'Alt√©r√©e';
                statusElement.style.color = '#dc2626';
            } else if (fevg > 72) {
                statusElement.textContent = 'Hyperkin√©tique';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (fevg < 54) {
                statusElement.textContent = 'Alt√©r√©e';
                statusElement.style.color = '#dc2626';
            } else if (fevg > 74) {
                statusElement.textContent = 'Hyperkin√©tique';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

// Validation du Strain longitudinal global
function validateStrain() {
    const strainInput = document.getElementById('strain_global');
    const statusElement = document.getElementById('strain-status');
    
    // V√©rifier que les √©l√©ments existent
    if (!strainInput || !statusElement) {
        console.error("√âl√©ments manquants pour validateStrain()");
        return;
    }
    
    const strain = parseFloat(strainInput.value);
    
    if (!isNaN(strain)) {
        // Attention : les valeurs normales sont N√âGATIVES
        // Un strain √† -20% est normal (plus n√©gatif = meilleur)
        // Un strain √† -12% est alt√©r√© (moins n√©gatif = moins bon)
        if (strain < -18) {
            // Valeur normale (ex: -20%, -22%, -25%)
            statusElement.textContent = 'Normal';
            statusElement.style.color = '#16a34a'; // vert
        } else {
            // Valeur alt√©r√©e (ex: -16%, -12%, -8%)
            statusElement.textContent = 'Alt√©r√©';
            statusElement.style.color = '#dc2626'; // rouge
        }
    } else {
        statusElement.textContent = '';
    }
}




// ============================================
// CALCUL AUTOMATIQUE - R√âTR√âCISSEMENT AORTIQUE
// ============================================

function calculerSeveriteRA() {
    const gradientMoyen = parseFloat(document.getElementById('gradient_moyen_ao').value) || 0;
    const vmax = parseFloat(document.getElementById('vmax_ao').value) || 0;
    const surface = parseFloat(document.getElementById('surface_ao').value) || 0;
    
    const qualificationSpan = document.getElementById('qualification_ra');
    const surfaceIndexeeInput = document.getElementById('surface_indexee_ao');
    
    // Calculer la surface index√©e si poids et taille sont disponibles
    let surfaceIndexee = 0;
    const taille = parseFloat(document.getElementById('taille')?.value) || 0;
    const poids = parseFloat(document.getElementById('poids')?.value) || 0;
    
    if (taille > 0 && poids > 0 && surface > 0) {
        const sc = 0.007184 * Math.pow(taille, 0.725) * Math.pow(poids, 0.425);
        surfaceIndexee = surface / sc;
        surfaceIndexeeInput.value = surfaceIndexee.toFixed(2);
    } else {
        surfaceIndexeeInput.value = '';
    }
    
// Si aucune valeur n'est saisie, afficher "Pas de RA" par d√©faut
if (gradientMoyen === 0 && vmax === 0 && surface === 0) {
    qualificationSpan.textContent = 'Pas de RA';
    qualificationSpan.className = 'ra-pas-de';
    return;
}
    
    // Analyser chaque param√®tre individuellement et d√©terminer son niveau
    // 0 = pas de RA, 1 = l√©ger, 2 = mod√©r√©, 3 = s√©v√®re
    let niveaux = [];
    
    // Analyse Vmax
    if (vmax > 0) {
        if (vmax >= 4.0) {
            niveaux.push(3); // S√©v√®re
        } else if (vmax >= 3.0) {
            niveaux.push(2); // Mod√©r√©
        } else if (vmax >= 2.6) {
            niveaux.push(1); // L√©ger
        } else if (vmax < 2.5) {
            niveaux.push(0); // Pas de RA
        }
    }
    
    // Analyse Gradient moyen
    if (gradientMoyen > 0) {
        if (gradientMoyen >= 40) {
            niveaux.push(3); // S√©v√®re
        } else if (gradientMoyen >= 20) {
            niveaux.push(2); // Mod√©r√©
        } else if (gradientMoyen < 20 && gradientMoyen >= 10) {
            niveaux.push(1); // L√©ger (entre 10 et 20)
        } else if (gradientMoyen < 10) {
            niveaux.push(0); // Pas de RA
        }
    }
    
    // Analyse Surface
    if (surface > 0) {
        if (surface <= 1.0) {
            niveaux.push(3); // S√©v√®re
        } else if (surface <= 1.5) {
            niveaux.push(2); // Mod√©r√©
        } else if (surface <= 2.0) {
            niveaux.push(1); // L√©ger (entre 1.5 et 2.0)
        } else if (surface > 2.0) {
            niveaux.push(0); // Pas de RA
        }
    }
    
    // Analyse Surface index√©e
    if (surfaceIndexee > 0) {
        if (surfaceIndexee <= 0.6) {
            niveaux.push(3); // S√©v√®re
        } else if (surfaceIndexee <= 0.9) {
            niveaux.push(2); // Mod√©r√©
        } else if (surfaceIndexee <= 1.2) {
            niveaux.push(1); // L√©ger (entre 0.9 et 1.2)
        } else if (surfaceIndexee > 1.2) {
            niveaux.push(0); // Pas de RA
        }
    }
    
    // Prendre le niveau le plus √©lev√© (le pire)
    const niveauMax = Math.max(...niveaux);
    
    // Afficher la qualification
    let qualification = '';
    let classe = '';
    
    if (niveauMax === 3) {
        qualification = 'RA s√©v√®re';
        classe = 'ra-severe';
    } else if (niveauMax === 2) {
        qualification = 'RA mod√©r√©';
        classe = 'ra-modere';
    } else if (niveauMax === 1) {
        qualification = 'RA l√©ger';
        classe = 'ra-leger';
    } else {
        qualification = 'Pas de RA';
        classe = 'ra-pas-de';
    }
    
    qualificationSpan.textContent = qualification;
    qualificationSpan.className = classe;
}

// Recalculer quand le poids ou la taille change
document.getElementById('taille')?.addEventListener('input', calculerSeveriteRA);
document.getElementById('poids')?.addEventListener('input', calculerSeveriteRA);

// Initialiser la qualification au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    calculerSeveriteRA();
});

// Afficher/masquer la section r√©tr√©cissement mitral
document.querySelectorAll('input[name="retrecissement_mitral"]').forEach(radio => {
    radio.addEventListener('change', function() {
        const retrecissementSection = document.getElementById('retrecissement_mitral_section');
        if (this.value === 'oui') {
            retrecissementSection.style.display = 'block';
        } else {
            retrecissementSection.style.display = 'none';
        }
    });
});


function validateTempsAcceleration() {
    const tempsAcc = parseFloat(document.getElementById('temps_acceleration').value);
    const statusElement = document.getElementById('temps-acceleration-status');
    
    if (!isNaN(tempsAcc)) {
        if (tempsAcc > 130) {
            statusElement.textContent = 'HTP';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

// Ajouter l'√©couteur d'√©v√©nement pour le temps d'acc√©l√©ration
document.getElementById('temps_acceleration').addEventListener('input', validateTempsAcceleration);


function resetExamenReaInputs() {
    // 1. R√©initialiser tous les champs num√©riques
    document.querySelectorAll('#examen-r√©animation input[type="number"]').forEach(input => {
        input.value = '';
    });
    
    // 2. R√©initialiser tous les champs texte
    document.querySelectorAll('#examen-r√©animation input[type="text"]').forEach(input => {
        input.value = '';
    });
    
    // 3. R√©initialiser toutes les zones de texte
    document.querySelectorAll('#examen-r√©animation textarea').forEach(textarea => {
        textarea.value = '';
    });
    
    // 4. Cibler sp√©cifiquement tous les champs de saisie sans type sp√©cifi√©
    document.querySelectorAll('#examen-r√©animation input:not([type])').forEach(input => {
        input.value = '';
    });
    
    // 5. R√©initialiser les statuts
    document.querySelectorAll('#examen-r√©animation [id$="-status"]').forEach(span => {
        span.textContent = '';
    });
    
    // 6. R√©initialiser les cases √† cocher
    document.querySelectorAll('#examen-r√©animation input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = false;
    });
    
    // 7. Cocher sp√©cifiquement les boutons radio "par d√©faut"
    const defaultRadioButtons = [
        // Cardiovasculaire
        'nocard4', 'nocard5', 'noicg', 'notvp', 
        'normalReflex', 'no_paralysie_faciale',
        
        // Respiratoire
        'ventSpontanee', 'oxygenNon', 'normalInspection', 'noresp4', 'noresp5', 
        'normalPercussion', 'normalVibrations', 'noresp6',
        
        // Digestif
        'nodig6', 'nodig7', 'nodig9', 'nodig8', 'nodig10', 'nodig11',
        
        // Neurologique
        'non-sedate', 'noDeficitMoteur', 'noDeficitSensitif', 'noSyndromeMening√©'
    ];
    
    defaultRadioButtons.forEach(id => {
        const radio = document.getElementById(id);
        if (radio) {
            radio.checked = true;
        }
    });
	
// R√©initialiser correctement l'inspection thoracique
document.getElementById('normalInspection').checked = true;
document.getElementById('inspectionDetails').style.display = 'none';

// S'assurer que toutes les options d'inspection sont √©galement r√©initialis√©es
document.querySelector('input[name="ampliation"][value="symetrique"]').checked = true;
document.getElementById('ampliationSide').style.display = 'none';
document.getElementById('hippocratisme').checked = false;
document.getElementById('cyanose').checked = false;
document.getElementById('distension').checked = false;
document.getElementById('freinExpiratoire').checked = false;

	
	
	// R√©initialisation des cath√©ters
    if (document.getElementById('noCatheters')) {
        document.getElementById('noCatheters').checked = true;
    }
    
    // Masquer les sections de d√©tails
    const detailSections = [
        'cathetersDetails', 'ktaDetails', 'ktcDetails', 'picclineDetails', 
        'vvpDetails', 'midlineDetails', 'sondeUrinaireDetails', 'urinesAnormalesDetails'
    ];
    
    detailSections.forEach(id => {
        const section = document.getElementById(id);
        if (section) section.style.display = 'none';
    });
    
    // D√©cocher toutes les cases √† cocher
    const checkboxes = ['kta', 'ktc', 'piccline', 'vvp', 'midline'];
    checkboxes.forEach(id => {
        const checkbox = document.getElementById(id);
        if (checkbox) checkbox.checked = false;
    });
    
    // R√©initialiser la sonde urinaire
    if (document.getElementById('noSondeUrinaire')) {
        document.getElementById('noSondeUrinaire').checked = true;
    }
    
    // R√©initialiser les aspects des urines
    if (document.getElementById('urinesNormales')) {
        document.getElementById('urinesNormales').checked = true;
    }
    
    // R√©initialiser les champs texte
    ['autresVVP', 'descriptionUrines'].forEach(id => {
        const textField = document.getElementById(id);
        if (textField) textField.value = '';
    });
	
	
    
    // 8. Auscultation cardiaque - s'assurer que le bouton normal est coch√©
    const normalHeartSound = document.querySelector('input[name="heartSoundType"][value="normal"]');
    if (normalHeartSound) {
        normalHeartSound.checked = true;
        
        // Masquer la section des d√©tails d'auscultation cardiaque
        const abnormalDetails = document.getElementById('abnormalDetails');
        if (abnormalDetails) {
            abnormalDetails.style.display = 'none';
        }
        
        // R√©initialiser les cases √† cocher pour le souffle
        const hasMurmur = document.getElementById('hasMurmur');
        if (hasMurmur) {
            hasMurmur.checked = false;
        }
        
        // Masquer les d√©tails du souffle
        const murmurDetails = document.getElementById('murmurDetails');
        if (murmurDetails) {
            murmurDetails.style.display = 'none';
        }
        
        // R√©initialiser le rythme √† "r√©gulier"
        const regularRhythm = document.querySelector('input[name="rhythm"][value="regular"]');
        if (regularRhythm) {
            regularRhythm.checked = true;
        }
    }
    
    // 9. Forcer le masquage des sections conditionnelles
    const sectionsToHide = [
        '#card4Details', '#signeLutteDetails', '#percussionDetails', '#vibrationsDetails', 
        '#deficitSensitifDetails', '#deficitMoteurDetails', '#syndromeMeningeDetails', 
        '#paralysie_faciale_details', '#deficitMSSDetails', '#deficitMISDetails', 
        '#msDetails', '#miDetails', '#pulseDetails', '.tvpDetails', 
		 '#marbruresDetails',
        '#abnormalDetails', '#femoralDetails', '#carotidDetails', '#murmurDetails',
        '#dig6d1', '#dig6d2', '#dig6d3', '#dig7d1', '#dig7d2', '#dig7d3', '#dig7d4',
        '#dig8d1', '#dig8d2', '#resp4d1', '#resp4d2', '#resp4d3', '#resp4d4', '#resp4d5',
        '#resp5d1', '#resp5d2', '#resp5d3', '#resp5d4', 
        '#dig9d', '#dig11d', '#debitO2Section', '#icgOptions', '#crepitantsLevel',
        '#sedation-field', '#facial_intensity_selector', '#vasopresseurDetails',
        '#card5d1', '#card5d2', '#card5d3', '#card5d4'
    ];
    
    sectionsToHide.forEach(selector => {
        document.querySelectorAll(selector).forEach(el => {
            if (el) el.style.display = 'none';
        });
    });
    
    // 10. Masquer toutes les sections des tableaux d'auscultation
    document.querySelectorAll('.resp6d1, .resp6d2, .resp6d3, .resp6d4, .resp6d5').forEach(el => {
        if (el) el.style.display = 'none';
    });
    
    // S'assurer que le conteneur des div d'auscultation reste visible
    const auscContainer = document.getElementById('mon√©normechibre');
    if (auscContainer) auscContainer.style.display = 'block';
    
    // 11. R√©initialiser les s√©lecteurs RCP et RPM
    ['rpm-direct-droit', 'rpm-direct-gauche', 'rpm-consensuel-droit', 'rpm-consensuel-gauche'].forEach(id => {
        const select = document.getElementById(id);
        if (select) {
            select.value = 'present';
            select.style.backgroundColor = '#dcfce7';
            select.style.color = '#166534';
            select.style.borderColor = '#86efac';
        }
    });
    
    ['rcp-droit', 'rcp-gauche'].forEach(id => {
        const select = document.getElementById(id);
        if (select) {
            select.value = 'flexion';
            select.style.backgroundColor = '#dcfce7';
            select.style.color = '#166534';
            select.style.borderColor = '#86efac';
        }
    });
    
    // 12. R√©initialiser l'√©tat des s√©lecteurs de force
    document.querySelectorAll('.force-selector').forEach(el => {
        el.style.display = 'none';
    });
    
    // 13. R√©initialiser les valeurs sp√©cifiques
    if (document.getElementById('map')) document.getElementById('map').value = '';
    if (document.getElementById('glasgow-total')) {
        document.getElementById('glasgow-total').value = '15';
        document.getElementById('glasgow-total').style.backgroundColor = '#dcfce7';
        document.getElementById('glasgow-total').style.color = '#166534';
    }
    if (document.getElementById('glasgow-anterieur')) document.getElementById('glasgow-anterieur').value = '15';
    
    // 14. Cibler sp√©cifiquement tous les champs de valeurs
    const valueInputIds = [
        // H√©modynamique
        'FreqCard', 'pas', 'pad', 'map',
        
        // Respiratoire
        'FreqResp', 'volumeCourant', 'peepInvasive', 'pressionPlateau', 'fio2Invasive', 'sao2Invasive',
        'aideInspiratoire', 'peepNonInvasive', 'fio2NonInvasive', 'sao2NonInvasive',
        'debitO2', 'sao2Spontanee',
        
        // Neurologique
        'glasgow-total', 'glasgow-anterieur',
        
        // Autres
        'temperature', 'glycemie'
    ];
    
    valueInputIds.forEach(id => {
        const input = document.getElementById(id);
        if (input) input.value = '';
    });
    
    // 15. R√©initialiser les inputs pour les r√©tr√©cissements et fuites cardiaques
    [
        'noradrenalineDose', 'adrenalineDose', 'dobutamineDose', 'vasopresseurPrecisions',
        'tympanismeLocation', 'matiteLocation', 'diminutionLocation', 'augmentationLocation',
        'resp6d1Text', 'resp6d2Text', 'resp6d3Text', 'resp6d4Text', 'resp6d5Text'
    ].forEach(id => {
        const input = document.getElementById(id);
        if (input) input.value = '';
    });
    
    // 16. Mettre √† jour les calculs
    updateGlasgowTotal();
    
    // 17. D√©clencher des √©v√©nements input sur certains champs pour mettre √† jour les statuts
    ['FreqCard', 'pas', 'pad', 'FreqResp', 'temperature', 'glycemie'].forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            const event = new Event('input', { bubbles: true });
            input.dispatchEvent(event);
        }
    });
}

// Ajouter un √©couteur d'√©v√©nement au bouton de r√©initialisation
document.addEventListener('DOMContentLoaded', function() {
    const resetButton = document.querySelector('#examen-r√©animation .section-header .toggle-button[onclick="resetSection(this)"]');
    if (resetButton) {
        resetButton.removeAttribute('onclick');
        resetButton.addEventListener('click', resetExamenReaInputs);
    }
});


function resetETTInputs() {
    // R√©initialiser tous les champs num√©riques
    document.querySelectorAll('.section-content input[type="number"]').forEach(input => {
        input.value = '';
    });
    
    // R√©initialiser tous les champs texte
    document.querySelectorAll('.section-content input[type="text"]').forEach(input => {
        input.value = '';
    });
    
    // R√©initialiser les statuts
    document.querySelectorAll('[id$="-status"]').forEach(span => {
        span.textContent = '';
    });
    
    // R√©initialiser les radios
    document.querySelector('input[name="sexe"][value="homme"]').checked = true;
    document.querySelector('input[name="cinetique_segmentaire"][value="normale"]').checked = true;
    document.querySelector('input[name="fuite_aortique"][value="non"]').checked = true;
    document.querySelector('input[name="fuite_mitrale"][value="non"]').checked = true;
    document.querySelector('input[name="septum_paradoxal"][value="non"]').checked = true;
    document.querySelector('input[name="compliance_VCI"][value="sup50"]').checked = true;
    document.querySelector('input[name="pericarde"][value="sec"]').checked = true;
    document.querySelector('input[name="methode_fevg"][value="visuelle"]').checked = true;
    
    document.querySelector('input[name="retrecissement_mitral"][value="non"]').checked = true;
    
    // Masquer les sections conditionnelles
    document.getElementById('troubles_cinetique_section').style.display = 'none';
    document.getElementById('fuite_aortique_section').style.display = 'none';
    document.getElementById('fuite_mitrale_section').style.display = 'none';
    document.getElementById('retrecissement_mitral_section').style.display = 'none';
    document.getElementById('pericarde_section').style.display = 'none';
    
    // R√©initialiser les messages et les affichages
    document.getElementById('message_par_defaut').style.display = 'block';
    document.getElementById('criteres_fonction_diastolique').style.display = 'none';
    document.getElementById('interpretation_fonction_diastolique').style.display = 'none';
    document.getElementById('message_profil_par_defaut').style.display = 'block';
    document.getElementById('criteres_profil_mitral').style.display = 'none';
    document.getElementById('interpretation_profil_mitral').style.display = 'none';
    
    // Mettre √† jour les normes pour homme (par d√©faut)
    document.getElementById('norme_anteroseptale').textContent = 'Normes: H (6-10 mm)';
    document.getElementById('norme_inferolaterale').textContent = 'Normes: H (6-10 mm)';
    document.getElementById('norme_diametre').textContent = 'Normes: H (42-59 mm)';
    document.getElementById('norme_FEVG').textContent = 'Normes: H (52-72%)';
    document.getElementById('norme_ITV').textContent = 'Normes: H (18-26 cm)';
    document.getElementById('norme_valsalva').textContent = 'Normes: H (31-37 mm)';
    document.getElementById('norme_jonction').textContent = 'Normes: H (26-32 mm)';
    document.getElementById('norme_aorte').textContent = 'Normes: H (26-34 mm)';
    
// D√©clencher des √©v√©nements pour mettre √† jour les calculs
    document.querySelectorAll('input[type="number"]').forEach(input => {
        const event = new Event('input', { bubbles: true });
        input.dispatchEvent(event);
    });
    
    // R√©initialiser la qualification RA √† "Pas de RA"
    calculerSeveriteRA();
}


function resetSection(button) {
    // Trouver la section parente du bouton
    const sectionHeader = button.closest('.section-header');
    const sectionContent = sectionHeader.nextElementSibling;
    
    // R√©initialiser tous les types de champs de saisie
    // Champs texte et num√©riques
    const inputs = sectionContent.querySelectorAll('input[type="text"], input[type="number"], textarea');
    inputs.forEach(input => {
        input.value = '';
    });
    
    // Cases √† cocher
    const checkboxes = sectionContent.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        checkbox.checked = false;
    });
    
    // Boutons radio - remettre le premier de chaque groupe √† coch√©
    const radioGroups = {};
    const radios = sectionContent.querySelectorAll('input[type="radio"]');
    radios.forEach(radio => {
        if (!radioGroups[radio.name]) {
            radioGroups[radio.name] = true;
            const firstRadio = sectionContent.querySelector(`input[name="${radio.name}"]`);
            if (firstRadio) firstRadio.checked = true;
        }
    });
    
    // R√©initialiser les √©l√©ments de statut
    const statusElements = sectionContent.querySelectorAll('[id$="-status"]');
    statusElements.forEach(element => {
        element.textContent = '';
    });
    
    // R√©initialiser les zones de texte calcul√©es ou g√©n√©r√©es
    const calculatedFields = sectionContent.querySelectorAll('input[readonly], textarea[readonly]');
    calculatedFields.forEach(field => {
        field.value = '';
    });
    
    // Cacher les sections conditionnelles si elles sont pr√©sentes
    const conditionalSections = sectionContent.querySelectorAll('div[id$="_section"]');
    conditionalSections.forEach(section => {
        section.style.display = 'none';
    });
}




// Ajouter des √©v√©nements de validation pour tous les champs num√©riques
document.getElementById('surface_OG').addEventListener('input', validateSurfaceOG);
document.getElementById('paroi_anteroseptale').addEventListener('input', validateParoiAnteroSeptale);
document.getElementById('paroi_inferolaterale').addEventListener('input', validateParoiInferoLaterale);
document.getElementById('diametre_VG').addEventListener('input', validateDiametreVG);
document.getElementById('FEVG').addEventListener('input', validateFEVG);
document.getElementById('strain_global').addEventListener('input', validateStrain);
document.getElementById('ITV').addEventListener('input', validateITV);
document.getElementById('surface_OD').addEventListener('input', validateSurfaceOD);
document.getElementById('diametre_basal_VD').addEventListener('input', validateDiametreBasalVD);
document.getElementById('diametre_median_VD').addEventListener('input', validateDiametreMedianVD);
document.getElementById('TAPSE').addEventListener('input', validateTAPSE);
document.getElementById('onde_S').addEventListener('input', validateOndeS);
document.getElementById('sinus_valsalva').addEventListener('input', validateSinusValsalva);
document.getElementById('jonction_sinoaortique').addEventListener('input', validateJonctionSinoAortique);
document.getElementById('aorte_ascendante').addEventListener('input', validateAorteAscendante);
document.getElementById('PAPS').addEventListener('input', validatePAPS);
document.getElementById('Vmax_IT').addEventListener('input', validateVmaxIT);
document.getElementById('VCI_mesure').addEventListener('input', validateVCIMesure);

// Fonctions de validation pour les autres param√®tres
function validateITV() {
    const itv = parseFloat(document.getElementById('ITV').value);
    const statusElement = document.getElementById('ITV-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(itv)) {
        if (sexe === 'homme') {
            if (itv < 18) {
                statusElement.textContent = 'Bas';
                statusElement.style.color = '#dc2626';
            } else if (itv > 26) {
                statusElement.textContent = '√âlev√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (itv < 16) {
                statusElement.textContent = 'Bas';
                statusElement.style.color = '#dc2626';
            } else if (itv > 24) {
                statusElement.textContent = '√âlev√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
    
    // Recalculer le d√©bit cardiaque
    updateDebitCardiaque();
}

function validateSurfaceOD() {
    const surfaceOD = parseFloat(document.getElementById('surface_OD').value);
    const statusElement = document.getElementById('surface-OD-status');
    
    if (!isNaN(surfaceOD)) {
        if (surfaceOD >= 18) {
            statusElement.textContent = 'Dilat√©e';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateDiametreBasalVD() {
    const diametre = parseFloat(document.getElementById('diametre_basal_VD').value);
    const statusElement = document.getElementById('basal-VD-status');
    
    if (!isNaN(diametre)) {
        if (diametre < 25) {
            statusElement.textContent = 'R√©duit';
            statusElement.style.color = '#dc2626';
        } else if (diametre > 41) {
            statusElement.textContent = 'Dilat√©';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateDiametreMedianVD() {
    const diametre = parseFloat(document.getElementById('diametre_median_VD').value);
    const statusElement = document.getElementById('median-VD-status');
    
    if (!isNaN(diametre)) {
        if (diametre < 19) {
            statusElement.textContent = 'R√©duit';
            statusElement.style.color = '#dc2626';
        } else if (diametre > 35) {
            statusElement.textContent = 'Dilat√©';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateTAPSE() {
    const tapse = parseFloat(document.getElementById('TAPSE').value);
    const statusElement = document.getElementById('TAPSE-status');
    
    if (!isNaN(tapse)) {
        if (tapse < 17) {
            statusElement.textContent = 'Dysfonction VD';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateOndeS() {
    const ondeS = parseFloat(document.getElementById('onde_S').value);
    const statusElement = document.getElementById('onde-S-status');
    
    if (!isNaN(ondeS)) {
        if (ondeS < 9.5) {
            statusElement.textContent = 'Dysfonction VD';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

// Fonctions de validation pour les mesures aortiques
function validateSinusValsalva() {
    const sinus = parseFloat(document.getElementById('sinus_valsalva').value);
    const statusElement = document.getElementById('valsalva-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(sinus)) {
        if (sexe === 'homme') {
            if (sinus < 31) {
                statusElement.textContent = '';
            } else if (sinus > 37) {
                statusElement.textContent = 'Dilat√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (sinus < 27) {
                statusElement.textContent = '';
            } else if (sinus > 33) {
                statusElement.textContent = 'Dilat√©';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateJonctionSinoAortique() {
    const jonction = parseFloat(document.getElementById('jonction_sinoaortique').value);
    const statusElement = document.getElementById('jonction-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(jonction)) {
        if (sexe === 'homme') {
            if (jonction < 26) {
                statusElement.textContent = '';
            } else if (jonction > 32) {
                statusElement.textContent = 'Dilat√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (jonction < 23) {
                statusElement.textContent = '';
            } else if (jonction > 29) {
                statusElement.textContent = 'Dilat√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateAorteAscendante() {
    const aorte = parseFloat(document.getElementById('aorte_ascendante').value);
    const statusElement = document.getElementById('aorte-status');
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    
    if (!isNaN(aorte)) {
        if (sexe === 'homme') {
            if (aorte < 26) {
                statusElement.textContent = '';
            } else if (aorte > 34) {
                statusElement.textContent = 'Dilat√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        } else { // femme
            if (aorte < 23) {
                statusElement.textContent = '';
            } else if (aorte > 31) {
                statusElement.textContent = 'Dilat√©e';
                statusElement.style.color = '#dc2626';
            } else {
                statusElement.textContent = '';
            }
        }
    } else {
        statusElement.textContent = '';
    }
}

// Ajouter les √©couteurs d'√©v√©nements pour les mesures aortiques
document.getElementById('sinus_valsalva').addEventListener('input', validateSinusValsalva);
document.getElementById('jonction_sinoaortique').addEventListener('input', validateJonctionSinoAortique);
document.getElementById('aorte_ascendante').addEventListener('input', validateAorteAscendante);

function validatePAPS() {
    const paps = parseFloat(document.getElementById('PAPS').value);
    const statusElement = document.getElementById('PAPS-status');
    
    if (!isNaN(paps)) {
        if (paps > 25) {
            statusElement.textContent = 'HTP';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateVmaxIT() {
    const vmaxIT = parseFloat(document.getElementById('Vmax_IT').value);
    const statusElement = document.getElementById('Vmax-IT-status');
    
    if (!isNaN(vmaxIT)) {
        if (vmaxIT > 2.8) {
            statusElement.textContent = 'HTP';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
}

function validateVCIMesure() {
    const vci = parseFloat(document.getElementById('VCI_mesure').value);
    const statusElement = document.getElementById('VCI-mesure-status');
    
    if (!isNaN(vci)) {
        if (vci > 21) {
            statusElement.textContent = 'Dilat√©e';
            statusElement.style.color = '#dc2626';
        } else {
            statusElement.textContent = '';
        }
    } else {
        statusElement.textContent = '';
    }
    
    // Mettre √† jour la POD estim√©e
    updatePODEstimee();
}


// Animation de l'ic√¥ne et notification pour les boutons de g√©n√©ration
document.addEventListener('DOMContentLoaded', function() {
  // Ajouter les ic√¥nes Font Awesome aux boutons
  const examButton = document.getElementById('generateTextExamClin');
  const ettButton = document.getElementById('generateTextETT');
  
  // V√©rifier si les boutons existent avant de les modifier
  if (examButton) {
    examButton.innerHTML = '<i class="fas fa-file-medical"></i> G√©n√©rer examen';
  }
  
  if (ettButton) {
    ettButton.innerHTML = '<i class="fas fa-file-medical"></i> G√©n√©rer ETT';
  }
  
  // Fonction pour cr√©er et afficher la notification
  function showNotification(message) {
    // Cr√©er un √©l√©ment pour la notification
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.position = 'fixed';
    notification.style.right = '20px';
    notification.style.bottom = '100px';
    notification.style.padding = '10px 20px';
    notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
    notification.style.color = 'white';
    notification.style.borderRadius = '5px';
    notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
    notification.style.zIndex = '1000';
    notification.style.fontWeight = '500';
    notification.style.opacity = '0';
    notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
    notification.style.transform = 'translateY(20px)';
    
    // Ajuster pour le mode sombre
    if (document.documentElement.getAttribute('data-theme') === 'dark') {
      notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
    }
    
    // Ajouter au DOM
    document.body.appendChild(notification);
    
    // Animation d'apparition
    setTimeout(() => {
      notification.style.opacity = '1';
      notification.style.transform = 'translateY(0)';
    }, 10);
    
    // Retirer la notification apr√®s l'animation
    setTimeout(() => {
      // Faire dispara√Ætre la notification
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      
      // Supprimer du DOM apr√®s la disparition
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 1500);
  }
  
  // Fonction d'animation de l'ic√¥ne seulement
  function animateIcon(button) {
    const icon = button.querySelector('i');
    if (icon) {
      // Ajouter la classe d'animation √† l'ic√¥ne uniquement
      icon.classList.add('icon-animation');
      
      // Retirer la classe d'animation apr√®s la fin de l'animation
      setTimeout(() => {
        icon.classList.remove('icon-animation');
      }, 500);
    }
  }
  
  // Ajouter les √©couteurs d'√©v√©nements
  if (examButton) {
    const originalClick = examButton.onclick;
    
    examButton.onclick = function(e) {
      animateIcon(this);
      showNotification('Examen clinique g√©n√©r√© !');
      
      // Si une fonction onclick existait d√©j√†, l'ex√©cuter √©galement
      if (typeof originalClick === 'function') {
        originalClick.call(this, e);
      }
    };
  }
  
  if (ettButton) {
    const originalClick = ettButton.onclick;
    
    ettButton.onclick = function(e) {
      animateIcon(this);
      showNotification('ETT g√©n√©r√© !');
      
      // Si une fonction onclick existait d√©j√†, l'ex√©cuter √©galement
      if (typeof originalClick === 'function') {
        originalClick.call(this, e);
      }
    };
  }
});

document.getElementById('generateTextExamClin').addEventListener('click', function() {
    generateTextTypeExamClin();
});

document.getElementById('generateTextETT').addEventListener('click', function() {
    generateTextTypeETT();
});

// Fonction principale pour g√©n√©rer le texte type final complet
function generateTextTypeExamClin() {
    // R√©cup√©rer la zone de texte
    const textArea = document.getElementById('generatedTextArea');
    
    // Vider d'abord la zone de texte
    textArea.innerHTML = '';
    
    // G√©n√©rer la premi√®re partie: EXAMEN R√âANIMATION
    let textType = `<div class="text-line" style="color: #1e40af; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">Examen clinique r√©animation :</div>`;
    
    // Ajouter les diff√©rentes sections de l'examen de r√©animation
    textType += generateCardiovascularSection();
    textType += generateRespiratorySection();
    textType += generateDigestiveSection();
    textType += generateNeurologicalSection();
    textType += generateAdditionalSection();
          
    // Afficher le texte g√©n√©r√© dans la zone de texte
    textArea.innerHTML = textType;
    
    // Appliquer les animations
    applyTextAnimations();
}


// Fonction principale pour g√©n√©rer le texte type final complet
function generateTextTypeETT() {
    // R√©cup√©rer la zone de texte
    const textArea = document.getElementById('generatedTextArea');
    
    // Vider d'abord la zone de texte
    textArea.innerHTML = '';
    
    // G√©n√©rer la premi√®re partie: EXAMEN R√âANIMATION
    let textType = ``;
          
    // G√©n√©rer la deuxi√®me partie: √âCHOGRAPHIE TRANSTHORACIQUE
    textType += generateEchocardiographySection();
    
    // Afficher le texte g√©n√©r√© dans la zone de texte
    textArea.innerHTML = textType;
    
    // Appliquer les animations
    applyTextAnimations();
}



// Fonction pour g√©n√©rer la section d'√©chographie transthoracique
function generateEchocardiographySection() {
    // R√©cup√©rer la date du jour au format fran√ßais
    const today = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    const formattedDate = today.toLocaleDateString('fr-FR', options);
    
    // R√©cup√©rer l'√©chog√©nicit√©
    const echogeniciteElem = document.querySelector('input[name="echogenicite"]:checked');
    const echogenicite = echogeniciteElem ? echogeniciteElem.value : "moyenne";
    
    // R√©cup√©rer la fr√©quence cardiaque
    const fc = document.getElementById('FC').value || "?";
    
    // R√©cup√©rer le nom et le statut de l'op√©rateur
    const nomOperateur = document.getElementById('nom_operateur').value || "?";
    const statutOperateurElem = document.querySelector('input[name="statut_operateur"]:checked');
    const statutOperateur = statutOperateurElem ? statutOperateurElem.value : "interne";
    
	
	// R√©cup√©rer le type de ventilation
let ventilationText = "";
if (document.getElementById('ventSpont_ett').checked) {
    ventilationText = "en ventilation spontan√©e";
} else if (document.getElementById('ventNI_ett').checked) {
    ventilationText = "en ventilation non invasive";
} else if (document.getElementById('ventInv_ett').checked) {
    ventilationText = "en ventilation invasive";
}

    // R√©cup√©rer les mesures du patient
    const poids = document.getElementById('poids').value || "?";
    const taille = document.getElementById('taille').value || "?";
    const sc = document.getElementById('surface_corporelle').value || "?";

// R√©cup√©rer le statut des amines
let aminesText = "";
if (document.getElementById('yesAmines_ett').checked) {
    let aminesDetails = [];
    
    if (document.getElementById('noradrenaline_ett').checked) {
        const dose = document.getElementById('noradrenaline_dose_ett').value;
        aminesDetails.push(`noradr√©naline${dose ? ' ' + dose + ' mg/h' : ''}`);
    }
    
    if (document.getElementById('dobutamine_ett').checked) {
        const dose = document.getElementById('dobutamine_dose_ett').value;
        aminesDetails.push(`dobutamine${dose ? ' ' + dose + ' ¬µg/kg/min' : ''}`);
    }
    
    if (aminesDetails.length > 0) {
        aminesText = `sous ${aminesDetails.join(' et ')}`;
    } else {
        aminesText = "sous amines";
    }
} else {
    aminesText = "sans amine";
}


const precisionsExamen = document.getElementById('precisions_examen').value.trim();


// G√©n√©rer le titre de la section ETT
    let ettSection = `<div class="text-line" style="color: #1e40af; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">Echographie transthoracique du ${formattedDate} : ${nomOperateur.toUpperCase()} (${statutOperateur.charAt(0).toUpperCase() + statutOperateur.slice(1)})</div>`;
    // Fonction utilitaire pour v√©rifier si une valeur est d√©finie
    function valueOrDash(value) {
        return value && value !== "" ? value : "?";
    }
	
	
ettSection += `<div class="text-line">- ${echogenicite.charAt(0).toUpperCase() + echogenicite.slice(1)} √©chog√©nicit√© ; FC ${fc} bpm ; ${ventilationText} ; ${aminesText} ; ${poids} kg - ${taille} cm - SC ${sc} m¬≤${precisionsExamen ? ' ; ' + precisionsExamen : ''}</div>`;


   // Ventricule gauche : dimensions et hypertrophie nouveau 
const surfaceOG = valueOrDash(document.getElementById('surface_OG').value);
const siv = valueOrDash(document.getElementById('paroi_anteroseptale').value);
const dtdvg = valueOrDash(document.getElementById('diametre_VG').value);
const pil = valueOrDash(document.getElementById('paroi_inferolaterale').value);

// R√©cup√©ration du volume OG
let volumeOGText = "";
const surfaceCorporelle = document.getElementById('surface_corporelle').value;
const volumeOGIndexe = document.getElementById('volume_OG_indexe').value;
const volumeOGEllipsoide = document.getElementById('volume_OG_calcule').value;
const volumeOGCubique = document.getElementById('volume_OG_cubique').value;

    // Calcul du DTDVG index√© si surface corporelle disponible
let dtdvgText = "";
if (surfaceCorporelle && document.getElementById('diametre_VG').value) {
    const dtdvgValue = parseFloat(document.getElementById('diametre_VG').value);
    const surfaceValue = parseFloat(surfaceCorporelle);
    const dtdvgIndexe = (dtdvgValue / surfaceValue).toFixed(1);
    dtdvgText = `${dtdvg} mm soit ${dtdvgIndexe} mm/m¬≤`;
} else {
    dtdvgText = `${dtdvg} mm`;
}

// Construction du texte pour le volume OG - avec valeur par d√©faut "? mL" si aucune valeur
if (surfaceCorporelle && volumeOGIndexe) {
    // Si la surface corporelle est indiqu√©e et volume index√© disponible
    volumeOGText = `, V OG ${volumeOGIndexe} mL/m¬≤`;
} else if (volumeOGEllipsoide) {
    // Si pas de surface corporelle mais volume ellipso√Øde disponible
    volumeOGText = `, V OG ${volumeOGEllipsoide} mL`;
} else if (volumeOGCubique) {
    // Si pas de surface corporelle mais volume cubique disponible
    volumeOGText = `, V OG ${volumeOGCubique} mL`;
} else {
    // Si aucune valeur n'est disponible, afficher quand m√™me "V OG ? mL"
    volumeOGText = `, V OG ? mL`;
}

// D√©terminer si l'OG est dilat√©e - en tenant compte de la surface ET du volume
let ogDilatee = false;
const sexe = document.querySelector('input[name="sexe"]:checked').value;

// 1. V√©rification par la surface
if (document.getElementById('surface_OG').value) {
    const ogValue = parseFloat(document.getElementById('surface_OG').value);
    if (ogValue >= 20) {
        ogDilatee = true;
    }
}

// 2. V√©rification par le volume index√© si disponible
if (volumeOGIndexe && !ogDilatee) {
    const volumeOGIndexeValue = parseFloat(volumeOGIndexe);
    if (volumeOGIndexeValue > 34) { // Norme identique pour H/F
        ogDilatee = true;
    }
}

// 3. V√©rification par le volume absolu si pas de surface corporelle
if (!volumeOGIndexe && !ogDilatee) {
    // Volumes absolus selon le sexe
    const volumeLimit = sexe === 'homme' ? 58 : 52;
    
    if (volumeOGEllipsoide && parseFloat(volumeOGEllipsoide) > volumeLimit) {
        ogDilatee = true;
    } else if (volumeOGCubique && parseFloat(volumeOGCubique) > volumeLimit) {
        ogDilatee = true;
    }
}

// D√©terminer si le VG est dilat√©
let vgDilate = false;
if (document.getElementById('diametre_VG').value) {
    const diametreVG = parseFloat(document.getElementById('diametre_VG').value);
    
    if (sexe === 'homme' && diametreVG > 59) vgDilate = true;
    else if (sexe === 'femme' && diametreVG > 53) vgDilate = true;
}

// D√©terminer si le VG est hypertrophi√©
let vgHypertrophie = false;
if (document.getElementById('paroi_anteroseptale').value || document.getElementById('paroi_inferolaterale').value) {
    const sivValue = parseFloat(document.getElementById('paroi_anteroseptale').value) || 0;
    const pilValue = parseFloat(document.getElementById('paroi_inferolaterale').value) || 0;
    
    if ((sexe === 'homme' && (sivValue > 10 || pilValue > 10)) || 
        (sexe === 'femme' && (sivValue > 9 || pilValue > 9))) {
        vgHypertrophie = true;
    }
}

let vgDescription = "";
if (vgDilate && vgHypertrophie) vgDescription = "VG dilat√© et hypertrophi√©";
else if (vgDilate) vgDescription = "VG dilat√© et non hypertrophi√©";
else if (vgHypertrophie) vgDescription = "VG non dilat√© et hypertrophi√©";
else vgDescription = "VG non dilat√© et non hypertrophi√©";

ettSection += `<div class="text-line">- OG ${ogDilatee ? 'dilat√©e' : 'non dilat√©e'} (S OG ${surfaceOG} cm¬≤${volumeOGText}). ${vgDescription} (SIV ${siv} mm ; DTDVG ${dtdvgText} ; PIL ${pil} mm)</div>`;
    // Fonction diastolique
    const rapportEE = valueOrDash(document.getElementById('rapport_EE').value);
    const ondeE = valueOrDash(document.getElementById('onde_E').value);
    const ondeESept = valueOrDash(document.getElementById('onde_E_sept').value);
    const ondeELat = valueOrDash(document.getElementById('onde_E_lat').value);
    const volumeOG = valueOrDash(document.getElementById('volume_OG_indexe').value);
    
    // R√©cup√©rer l'interpr√©tation de la fonction diastolique
    let fonctionDiastolique = "Fonction diastolique non √©valu√©e";
    const interpretationElem = document.getElementById('interpretation_fonction_diastolique');
    if (interpretationElem && interpretationElem.style.display !== 'none' && interpretationElem.textContent) {
        fonctionDiastolique = interpretationElem.textContent.replace('Conclusion: ', '');
    }
    
    ettSection += `<div class="text-line">- ${fonctionDiastolique} (E/E' ${rapportEE} ; E ${ondeE} cm/s ; E' sept ${ondeESept} cm/s ; E' lat ${ondeELat} cm/s ; Volume OG ${volumeOG} mL/m¬≤)</div>`;
    
// Profil mitral
const rapportEA = valueOrDash(document.getElementById('rapport_EA').value);
const tde = valueOrDash(document.getElementById('TDE').value);

// R√©cup√©rer l'interpr√©tation du profil mitral et la simplifier
let profilMitral = "Profil mitral non √©valu√©";
const interpretationProfilElem = document.getElementById('interpretation_profil_mitral');
if (interpretationProfilElem && interpretationProfilElem.style.display !== 'none' && interpretationProfilElem.textContent) {
    // R√©cup√©rer le texte complet
    let texteComplet = interpretationProfilElem.textContent.replace('Conclusion: ', '');
    
    // Simplifier le texte en gardant uniquement la partie "Profil mitral de Type X"
    if (texteComplet.includes('Profil mitral de Type 1')) {
        profilMitral = "Profil mitral de Type 1";
    } else if (texteComplet.includes('Profil mitral de Type 2')) {
        profilMitral = "Profil mitral de Type 2";
    } else if (texteComplet.includes('Profil mitral de Type 3')) {
        profilMitral = "Profil mitral de Type 3";
    } else {
        profilMitral = texteComplet;
    }
}

ettSection += `<div class="text-line">- ${profilMitral} (E/A ${rapportEA} ; TDE ${tde} ms)</div>`;
    
	
	    // FEVG et ITV
    const fevg = valueOrDash(document.getElementById('FEVG').value);
    const itv = valueOrDash(document.getElementById('ITV').value);
    const methodeFEVG = document.querySelector('input[name="methode_fevg"]:checked').value;
	const strain = valueOrDash(document.getElementById('strain_global').value);
    
    // D√©terminer si la FEVG est normale
    let fevgNormale = true;
    if (document.getElementById('FEVG').value) {
        const fevgValue = parseFloat(document.getElementById('FEVG').value);
        const sexe = document.querySelector('input[name="sexe"]:checked').value;
        
        if ((sexe === 'homme' && fevgValue < 52) || (sexe === 'femme' && fevgValue < 54)) {
            fevgNormale = false;
        }
    }
	
	
    // Cin√©tique segmentaire
    const cinetiqueSegmentaire = document.querySelector('input[name="cinetique_segmentaire"]:checked').value;
    
    if (cinetiqueSegmentaire === 'normale') {

ettSection += `<div class="text-line">- Pas de trouble de la cin√©tique segmentaire. FEVG (${methodeFEVG === 'simpson' ? 'simpson biplan' : 'visuelle'}) ${fevgNormale ? 'pr√©serv√©e' : 'alt√©r√©e'} √† ${fevg}%${strain !== '?' ? `. Strain longitudinal global : ${strain}%` : ''}.</div>`;
	} else {
        // R√©cup√©rer les troubles de cin√©tique s√©lectionn√©s
        let troubles4C = Array.from(document.querySelectorAll('input[name="trouble_4c"]:checked')).map(cb => cb.value);
        let troubles2C = Array.from(document.querySelectorAll('input[name="trouble_2c"]:checked')).map(cb => cb.value);
        let troublesPPAApex = Array.from(document.querySelectorAll('input[name="trouble_ppa_apex"]:checked')).map(cb => cb.value);
        let troublesPPAMoyen = Array.from(document.querySelectorAll('input[name="trouble_ppa_moyen"]:checked')).map(cb => cb.value);
        let troublesPPABase = Array.from(document.querySelectorAll('input[name="trouble_ppa_base"]:checked')).map(cb => cb.value);
        
        let troublesListe = [];
        
        if (troubles4C.length > 0) {
            troublesListe.push(`Vue 4 cavit√©s: ${troubles4C.join(', ')}`);
        }
        
        if (troubles2C.length > 0) {
            troublesListe.push(`Vue 2 cavit√©s: ${troubles2C.join(', ')}`);
        }
        
        let ppaTroubles = [];
        if (troublesPPAApex.length > 0) {
            ppaTroubles.push(`Apex: ${troublesPPAApex.join(', ')}`);
        }
        
        if (troublesPPAMoyen.length > 0) {
            ppaTroubles.push(`Moyen: ${troublesPPAMoyen.join(', ')}`);
        }
        
        if (troublesPPABase.length > 0) {
            ppaTroubles.push(`Base: ${troublesPPABase.join(', ')}`);
        }
        
        if (ppaTroubles.length > 0) {
            troublesListe.push(`Parasternal petit axe: ${ppaTroubles.join('; ')}`);
        }
        
ettSection += `<div class="text-line">- Trouble de la cin√©tique segmentaire du VG : ${troublesListe.join(' ; ')}. FEVG (${methodeFEVG === 'simpson' ? 'simpson biplan' : 'visuelle'}) ${fevgNormale ? 'pr√©serv√©e' : 'alt√©r√©e'} √† ${fevg}%${strain !== '?' ? `. Strain longitudinal global : ${strain}%` : ''}.</div>`;
	
	}
   	
	
// D√©bit cardiaque
const debitCalcule = valueOrDash(document.getElementById('debit_calcule').value);
const debitIndexe = valueOrDash(document.getElementById('debit_indexe').value);
const surfaceCC = valueOrDash(document.getElementById('surface_CC').value);
const diametreCC = valueOrDash(document.getElementById('diametre_CC').value);

// D√©terminer si le d√©bit cardiaque est bas
let debitBas = false;
if (document.getElementById('debit_calcule').value) {
    const debitValue = parseFloat(document.getElementById('debit_calcule').value);
    
    // Si on a un d√©bit index√© (donc une surface corporelle)
    if (document.getElementById('debit_indexe').value) {
        const debitIndexeValue = parseFloat(document.getElementById('debit_indexe').value);
        if (debitIndexeValue < 2.6) {
            debitBas = true;
        }
    } 
    // Sinon on utilise la valeur absolue
    else if (debitValue < 4.5) {
        debitBas = true;
    }
}

// Construire la phrase pour le d√©bit cardiaque
let debitPhrase = "";
// V√©rifier si des donn√©es de d√©bit sont disponibles pour d√©terminer le statut
if (document.getElementById('debit_calcule').value) {
    debitPhrase = `${debitBas ? 'Bas d√©bit cardiaque' : 'D√©bit cardiaque conserv√©'}`;
} else {
    debitPhrase = "D√©bit cardiaque";  // Si aucune donn√©e n'est disponible, utiliser un texte neutre
}

// Ajouter les valeurs, en utilisant des "?" si non disponibles
if (surfaceCorporelle && document.getElementById('debit_indexe').value) {
    debitPhrase += ` calcul√© √† ${debitCalcule} L/min soit ${debitIndexe} L/min/m¬≤ (ITV ${itv} cm ; Diam√®tre chambre chasse ${diametreCC} mm ; Surface chambre chasse ${surfaceCC} cm¬≤)`;
} else {
    debitPhrase += ` calcul√© √† ${debitCalcule} L/min (ITV ${itv} cm ; Diam√®tre chambre chasse ${diametreCC} mm ; Surface chambre chasse ${surfaceCC} cm¬≤)`;
}

// Ajouter la ligne de d√©bit cardiaque, qu'il y ait des donn√©es ou non
ettSection += `<div class="text-line">- ${debitPhrase}</div>`;

	
	
    // Ventricule droit
    const diamBasalVD = valueOrDash(document.getElementById('diametre_basal_VD').value);
    const diamMedianVD = valueOrDash(document.getElementById('diametre_median_VD').value);
    const tapse = valueOrDash(document.getElementById('TAPSE').value);
    const ondeS = valueOrDash(document.getElementById('onde_S').value);
    const surfaceOD = valueOrDash(document.getElementById('surface_OD').value);
    
    // D√©terminer si l'OD est dilat√©e
    let odDilatee = false;
    if (document.getElementById('surface_OD').value) {
        const odValue = parseFloat(document.getElementById('surface_OD').value);
        if (odValue >= 18) {
            odDilatee = true;
        }
    }
    
    // D√©terminer si le VD est dilat√©
    let vdDilate = false;
    if (document.getElementById('diametre_basal_VD').value || document.getElementById('diametre_median_VD').value) {
        const basalVD = parseFloat(document.getElementById('diametre_basal_VD').value) || 0;
        const medianVD = parseFloat(document.getElementById('diametre_median_VD').value) || 0;
        
        if (basalVD > 41 || medianVD > 35) {
            vdDilate = true;
        }
    }
    
    // D√©terminer si le VD a une fonction contractile normale
    let vdFonctionNormale = true;
    if (document.getElementById('TAPSE').value || document.getElementById('onde_S').value) {
        const tapseValue = parseFloat(document.getElementById('TAPSE').value) || 0;
        const ondeSValue = parseFloat(document.getElementById('onde_S').value) || 0;
        
        if ((tapseValue > 0 && tapseValue < 17) || (ondeSValue > 0 && ondeSValue < 9.5)) {
            vdFonctionNormale = false;
        }
    }
    
    ettSection += `<div class="text-line">- OD ${odDilatee ? 'dilat√©e' : 'non dilat√©e'} (S OD ${surfaceOD} cm¬≤). VD ${vdDilate ? 'dilat√©' : 'non dilat√©'} (Diam basal ${diamBasalVD} mm ; Diam m√©dian ${diamMedianVD} mm) et ${vdFonctionNormale ? 'fonction systolique longitudinale conserv√©e' : 'avec trouble de la fonction systolique longitudinale'} (TAPSE ${tapse} mm ; Onde S' ${ondeS} cm/s)</div>`;
    
// Valves aortique et mitrale
const fuiteAortique = document.querySelector('input[name="fuite_aortique"]:checked').value;
const fuiteMitrale = document.querySelector('input[name="fuite_mitrale"]:checked').value;
const retrecissementMitral = document.querySelector('input[name="retrecissement_mitral"]:checked')?.value || 'non';

// R√©cup√©rer l'aspect et la morphologie de la valve aortique
const aspectValveAortique = document.querySelector('input[name="aspect_valve_aortique"]:checked')?.value || "fines";
const morphologieValveAortique = document.querySelector('input[name="morphologie_valve_aortique"]:checked')?.value || "tricuspide";

// Valve aortique - Fuite
let texteAortique = "Pas de fuite aortique significative";
if (fuiteAortique === 'oui') {
    const gradeAortique = document.querySelector('input[name="grade_fuite_aortique"]:checked').value;
    const precisionsAortique = document.getElementById('precisions_fuite_aortique').value;
    texteAortique = `Fuite aortique ${gradeAortique}${precisionsAortique ? ', ' + precisionsAortique : ''}`;
}

// Valve aortique - R√©tr√©cissement
const gradientMoyen = parseFloat(document.getElementById('gradient_moyen_ao').value) || 0;
const vmax = parseFloat(document.getElementById('vmax_ao').value) || 0;
const surface = parseFloat(document.getElementById('surface_ao').value) || 0;
const surfaceIndexee = document.getElementById('surface_indexee_ao').value;

let texteRetrecissementAortique = "";

// Si au moins une valeur est saisie, g√©n√©rer le texte
if (gradientMoyen > 0 || vmax > 0 || surface > 0) {
    const surfaceIndexeeNum = parseFloat(surfaceIndexee) || 0;
    
    // Analyser chaque param√®tre individuellement (m√™me logique que calculerSeveriteRA)
    let niveaux = [];
    
    // Analyse Vmax
    if (vmax > 0) {
        if (vmax >= 4.0) niveaux.push(3);
        else if (vmax >= 3.0) niveaux.push(2);
        else if (vmax >= 2.6) niveaux.push(1);
        else if (vmax < 2.5) niveaux.push(0);
    }
    
    // Analyse Gradient moyen
    if (gradientMoyen > 0) {
        if (gradientMoyen >= 40) niveaux.push(3);
        else if (gradientMoyen >= 20) niveaux.push(2);
        else if (gradientMoyen < 20 && gradientMoyen >= 10) niveaux.push(1);
        else if (gradientMoyen < 10) niveaux.push(0);
    }
    
    // Analyse Surface
    if (surface > 0) {
        if (surface <= 1.0) niveaux.push(3);
        else if (surface <= 1.5) niveaux.push(2);
        else if (surface <= 2.0) niveaux.push(1);
        else if (surface > 2.0) niveaux.push(0);
    }
    
    // Analyse Surface index√©e
    if (surfaceIndexeeNum > 0) {
        if (surfaceIndexeeNum <= 0.6) niveaux.push(3);
        else if (surfaceIndexeeNum <= 0.9) niveaux.push(2);
        else if (surfaceIndexeeNum <= 1.2) niveaux.push(1);
        else if (surfaceIndexeeNum > 1.2) niveaux.push(0);
    }
    
    // Prendre le niveau le plus √©lev√©
    const niveauMax = Math.max(...niveaux);
    
    let qualification = '';
    if (niveauMax === 3) qualification = 's√©v√®re';
    else if (niveauMax === 2) qualification = 'mod√©r√©';
    else if (niveauMax === 1) qualification = 'l√©ger';
    else qualification = 'absent';
    
    // Construction du texte avec les d√©tails
    let detailsRA = [];
    if (vmax > 0) detailsRA.push(`Vmax ${vmax} m/s`);
    if (gradientMoyen > 0) detailsRA.push(`gradient moyen ${gradientMoyen} mmHg`);
    if (surface > 0) detailsRA.push(`surface ${surface} cm¬≤`);
    if (surfaceIndexeeNum > 0) detailsRA.push(`surface index√©e ${surfaceIndexee} cm¬≤/m¬≤`);
    
    const detailsTexte = detailsRA.length > 0 ? ` (${detailsRA.join(', ')})` : '';
    
    if (qualification === 'absent') {
        texteRetrecissementAortique = `pas de r√©tr√©cissement aortique significatif${detailsTexte}`;
    } else {
        texteRetrecissementAortique = `r√©tr√©cissement aortique ${qualification}${detailsTexte}`;
    }
    
} else {
    texteRetrecissementAortique = "pas de r√©tr√©cissement aortique";
}

// Texte pour l'aspect et la morphologie de la valve aortique
let texteAspectMorphologieAortique = `${morphologieValveAortique === 'tricuspide' ? 'trois sigmo√Ødes' : 'deux sigmo√Ødes'} ${aspectValveAortique === 'fines' ? 'fines' : '√©paissies'} visualis√©es`;

// Valve mitrale
let texteMitrale = "Pas de fuite mitrale significative";
if (fuiteMitrale === 'oui') {
    const gradeMitrale = document.querySelector('input[name="grade_fuite_mitrale"]:checked').value;
    const precisionsMitrale = document.getElementById('precisions_fuite_mitrale').value;
    texteMitrale = `Fuite mitrale ${gradeMitrale}${precisionsMitrale ? ', ' + precisionsMitrale : ''}`;
}

let texteRetrecissementMitral = "pas de r√©tr√©cissement mitral";
if (retrecissementMitral === 'oui') {
    const precisionsRetrecissementMitral = document.getElementById('precisions_retrecissement_mitral').value;
    texteRetrecissementMitral = `r√©tr√©cissement mitral${precisionsRetrecissementMitral ? ' : ' + precisionsRetrecissementMitral : ''}`;
}

const aspectValveMitrale = document.querySelector('input[name="aspect_valve_mitrale"]:checked')?.value || "fines";

// Texte pour l'aspect de la valve mitrale
let texteAspectMitrale = `valve ${aspectValveMitrale === 'fines' ? 'fine' : '√©paissie'}`;


ettSection += `<div class="text-line">- ${texteAortique} ; ${texteRetrecissementAortique} ; ${texteAspectMorphologieAortique}.</div>`;
ettSection += `<div class="text-line">- ${texteMitrale} ; ${texteRetrecissementMitral} ; ${texteAspectMitrale}.</div>`;


// R√©cup√©rer les pr√©cisions sur les flux IT et IP
const fluxPrecisions = document.querySelector('input[name="flux_precisions"]:checked').value;
const septumParadoxal = document.querySelector('input[name="septum_paradoxal"]:checked').value;
let htpTexte = "";

// D√©terminer s'il y a une HTAP
let htp = false;

// V√©rifier d'abord si un septum paradoxal est pr√©sent
if (septumParadoxal === 'oui') {
    htp = true; // Si septum paradoxal coch√©, alors HTP = true
} else if (document.getElementById('PAPS').value || document.getElementById('Vmax_IT').value || document.getElementById('temps_acceleration').value) {
    // Si pas de septum paradoxal, v√©rifier les autres valeurs
    const papsValue = parseFloat(document.getElementById('PAPS').value) || 0;
    const vmaxITValue = parseFloat(document.getElementById('Vmax_IT').value) || 0;
    const taccValue = parseFloat(document.getElementById('temps_acceleration').value) || 0;
    
    if (papsValue > 25 || vmaxITValue > 2.8 || taccValue > 130) {
        htp = true;
    }
}

// R√©cup√©rer la valeur de la POD estim√©e
const podEstimee = document.getElementById('POD_estimee').value || "?";
const tacc = valueOrDash(document.getElementById('temps_acceleration').value);

// Construire le texte final en fonction de l'exploitabilit√© des flux
if (fluxPrecisions === 'non_exploitable') {
    // Si les flux ne sont pas exploitables
    ettSection += `<div class="text-line">- ${htp ? 'Arguments en faveur d\'une HTP' : 'Pas d\'argument en faveur d\'une HTP'} (pas de flux d'IP et d'IT exploitable ; Tacc pulm ${tacc} ms), ${septumParadoxal === 'oui' ? 'pr√©sence d\'un' : 'pas de'} septum paradoxal</div>`;
} else {
    // Si les flux sont exploitables
    let fluxTexte = "";
    switch(fluxPrecisions) {
        case 'IT_exploite':
            fluxTexte = "sur un flux d'IT";
            break;
        case 'IP_exploite':
            fluxTexte = "sur un flux d'IP";
            break;
        case 'IT_IP_exploites':
            fluxTexte = "flux d'IT et d'IP exploit√©s";
            break;
        default:
            fluxTexte = "";
    }
    
    const paps = valueOrDash(document.getElementById('PAPS').value);
    const vmaxIT = valueOrDash(document.getElementById('Vmax_IT').value);
    
    ettSection += `<div class="text-line">- ${htp ? 'Arguments en faveur d\'une HTP' : 'Pas d\'argument en faveur d\'une HTP'} (PAPs estim√©es ${fluxTexte} √† ${paps} mmHg pour une POD entre ${podEstimee} mmHg ; Vmax IT ${vmaxIT} m/s ; Tacc pulm ${tacc} ms), ${septumParadoxal === 'oui' ? 'pr√©sence d\'un' : 'pas de'} septum paradoxal</div>`;
}


    // P√©ricarde
    const pericarde = document.querySelector('input[name="pericarde"]:checked').value;
    
    if (pericarde === 'sec') {
        ettSection += `<div class="text-line">- P√©ricarde sec</div>`;
    } else {
        const abondance = document.querySelector('input[name="abondance_epanchement"]:checked').value;
        const decollement = valueOrDash(document.getElementById('decollement_pericardique').value);
        const precisionsPericarde = document.getElementById('precisions_pericarde').value;
        
        ettSection += `<div class="text-line">- √âpanchement p√©ricardique de ${abondance} abondance (${decollement} mm)${precisionsPericarde ? ', ' + precisionsPericarde : ''}</div>`;
    }
    
    // Aorte
    const sinus = valueOrDash(document.getElementById('sinus_valsalva').value);
    const jonction = valueOrDash(document.getElementById('jonction_sinoaortique').value);
    const aorte = valueOrDash(document.getElementById('aorte_ascendante').value);
    
    // D√©terminer s'il y a une dilatation aortique
    let aorteDilatee = false;
    if (document.getElementById('sinus_valsalva').value || document.getElementById('jonction_sinoaortique').value || document.getElementById('aorte_ascendante').value) {
        const sinusValue = parseFloat(document.getElementById('sinus_valsalva').value) || 0;
        const jonctionValue = parseFloat(document.getElementById('jonction_sinoaortique').value) || 0;
        const aorteValue = parseFloat(document.getElementById('aorte_ascendante').value) || 0;
        const sexe = document.querySelector('input[name="sexe"]:checked').value;
        
        if ((sexe === 'homme' && (sinusValue > 37 || jonctionValue > 32 || aorteValue > 34)) || 
            (sexe === 'femme' && (sinusValue > 33 || jonctionValue > 29 || aorteValue > 31))) {
            aorteDilatee = true;
        }
    }
    
    ettSection += `<div class="text-line">- ${aorteDilatee ? 'Dilatation aortique initiale sur la portion visualis√©e' : 'Pas de dilatation aortique initiale sur la portion visualis√©e'} (Sinus ${sinus} mm ; Jonction S/Ao ${jonction} mm ; Ao ${aorte} mm)</div>`;
    
    // VCI
    const vciCompliance = document.querySelector('input[name="compliance_VCI"]:checked').value;
    const vciMesure = valueOrDash(document.getElementById('VCI_mesure').value);
    
    ettSection += `<div class="text-line">- VCI ${vciCompliance === 'sup50' ? 'compliante' : 'non compliante'} mesur√©e √† ${vciMesure} mm</div>`;
    
    return ettSection;
}



// Fonction utilitaire pour v√©rifier si une valeur est d√©finie
function valueOrEmpty(value) {
    return value && value !== "" ? value : "";
}

// Fonction pour formater les valeurs num√©riques avec une d√©cimale
function formatNumeric(value) {
    if (!value || value === "") return "";
    const numValue = parseFloat(value);
    return isNaN(numValue) ? "" : numValue.toFixed(1).replace(/\.0$/, '');
}

// Function pour g√©n√©rer la section cardiovasculaire avec pouls am√©lior√©s
function generateCardiovascularSection() {
let section = `<div class="text-line"><strong class="section-title">Sur le plan h√©modynamique et cardiovasculaire :</strong></div>`;
    
    // H√©modynamique
    const hemodynStatus = document.getElementById('yescard4').checked ? 
        "H√©modynamique instable" : "H√©modynamique stable";
    
    // R√©cup√©rer FC, PAS, PAD, PAM
    const fc = valueOrEmpty(document.getElementById('FreqCard').value);
    const pas = valueOrEmpty(document.getElementById('pas').value);
    const pad = valueOrEmpty(document.getElementById('pad').value);
    const pam = valueOrEmpty(document.getElementById('map').value);
    
    // Statut FC
    let fcStatus = "";
    if (fc) {
        const fcValue = parseFloat(fc);
        if (fcValue > 100) fcStatus = "Tachycardie : ";
        else if (fcValue < 60) fcStatus = "Bradycardie : ";
    }
    
    // Statut PA
    let paStatus = "";
    if (pas && pad) {
        const pamValue = parseFloat(pam || ((parseInt(pas) + 2 * parseInt(pad)) / 3).toFixed(0));
        if (pamValue < 65) paStatus = "hypotension";
        else paStatus = "normotension";
    }
    
    // Ligne h√©modynamique avec FC et PA
    let hemodynamicLine = `<div class="text-line">${hemodynStatus}`;
    
// D√©tails de l'instabilit√© h√©modynamique si pr√©sente
if (document.getElementById('yescard4').checked) {
    let instabilityDetails = [];
    if (document.getElementById('oligurie').checked) instabilityDetails.push("oligurie");
    if (document.getElementById('confusion').checked) instabilityDetails.push("confusion");
    
    // Modification pour les marbrures avec d√©tails de localisation
    if (document.getElementById('marbrures').checked) {
        let marbruresLocalisations = [];
        let marbruresText = "marbrures";
        
        if (document.getElementById('marbruresInferieures').checked) marbruresLocalisations.push("aux membres inf√©rieurs");
        if (document.getElementById('marbruresGeneralisees').checked) marbruresLocalisations.push("g√©n√©ralis√©es");
        if (document.getElementById('marbruresAbdominales').checked) marbruresLocalisations.push("abdominales");
        
        if (marbruresLocalisations.length > 0) {
            marbruresText += ` ${marbruresLocalisations.join(', ')}`;
        }
        
        instabilityDetails.push(marbruresText);
    }
    
// Modification pour le TRC avec sa valeur
if (document.getElementById('trc').checked) {
    const trcValue = document.getElementById('trcValue').value;
    instabilityDetails.push(`TRC ${trcValue} s`);
}	
	
    if (document.getElementById('polypnee').checked) instabilityDetails.push("polypn√©e");
    
    if (instabilityDetails.length > 0) {
        hemodynamicLine += ` avec pr√©sence de signes de choc √† type de : ${instabilityDetails.join(', ')}`;
    }
}
    
    // Ajouter FC et PA
    if (fc && fcStatus) {
        hemodynamicLine += `. ${fcStatus}FC ${fc} bpm`;
    } else if (fc) {
        hemodynamicLine += `. FC ${fc}/min`;
    }
    
    if (pas && pad) {
        if (fc || hemodynamicLine.includes("choc")) hemodynamicLine += " et ";
        hemodynamicLine += `${paStatus} : PA ${pas}/${pad}`;
        if (pam) hemodynamicLine += ` (${pam})`;
        hemodynamicLine += " mmHg";
    }
    
    hemodynamicLine += ".";
    section += hemodynamicLine;
    
    // Support vasopresseur si pr√©sent
    if (document.getElementById('vasopresseurs').checked) {
        let vasopressors = [];
        
        if (document.getElementById('noradrenaline').checked) {
            const dose = document.getElementById('noradrenalineDose').value;
            vasopressors.push(`noradr√©naline${dose ? ' ' + dose : ''} mg/h`);
        }
        
        if (document.getElementById('adrenaline').checked) {
            const dose = document.getElementById('adrenalineDose').value;
            vasopressors.push(`adr√©naline${dose ? ' ' + dose : ''} mg/h`);
        }
        
        if (document.getElementById('dobutamine').checked) {
            const dose = document.getElementById('dobutamineDose').value;
            vasopressors.push(`dobutamine${dose ? ' ' + dose : ''} ¬µg/kg/min`);
        }
        
        const precisionsVP = document.getElementById('vasopresseurPrecisions').value;
        
        if (vasopressors.length > 0) {
            section += ` Le patient est sous support vasopresseur par : ${vasopressors.join(', ')}${precisionsVP ? ' (' + precisionsVP + ')' : ''}.`;
        }
    } else {
        section += ` Pas d'amine vasopressive.`;
    }
    section += "</div>";
    
    // Insuffisance cardiaque droite
    let icdText = document.getElementById('yescard5').checked ? 
        "Pr√©sence de signes d'insuffisance cardiaque droite" : "Pas de signe d'insuffisance cardiaque droite";
    
    // D√©tails de l'ICD si pr√©sente
    if (document.getElementById('yescard5').checked) {
        let icdSigns = [];
        if (document.getElementById('card5d1Input').checked) icdSigns.push("turgescence jugulaire");
        if (document.getElementById('card5d2Input').checked) icdSigns.push("reflux h√©patojugulaire");
        if (document.getElementById('card5d3Input').checked) icdSigns.push("h√©patom√©galie");
        if (document.getElementById('card5d4Input').checked) icdSigns.push("OMI");
        
        if (icdSigns.length > 0) {
            icdText += ` (${icdSigns.join(', ')})`;
        }
    }
    
    // Insuffisance cardiaque gauche
    let icgText = document.getElementById('yesicg').checked ? 
        "Pr√©sence de signes d'insuffisance cardiaque gauche" : "Pas de signe d'insuffisance cardiaque gauche";
    
    // D√©tails de l'ICG si pr√©sente
    if (document.getElementById('yesicg').checked) {
        let icgSigns = [];
        if (document.getElementById('crepitants').checked) {
            let location = "";
            if (document.getElementById('bases').checked) location = "aux bases";
            else if (document.getElementById('miChamps').checked) location = "jusqu'aux mi-champs pulmonaires";
            else if (document.getElementById('totalite').checked) location = "sur la totalit√© des champs pulmonaires";
            
            icgSigns.push(`cr√©pitants bilat√©raux et sym√©triques${location ? ' ' + location : ''}`);
        }
        if (document.getElementById('orthopnee').checked) icgSigns.push("orthopn√©e");
        
        if (icgSigns.length > 0) {
            icgText += ` (${icgSigns.join(', ')})`;
        }
    }
    
    section += `<div class="text-line">${icdText}. ${icgText}.</div>`;
    
    // POULS - NOUVELLE VERSION AM√âLIOR√âE
    const pulseAbnormal = document.querySelector('input[name="pulseType"][value="abnormal"]').checked;
    let pulseText = "";
    
    if (pulseAbnormal) {
        // R√©cup√©rer l'√©tat des pouls (pr√©sent/absent)
        const radialRight = document.querySelector('input[name="radialPulse"][value="right"]').checked;
        const radialLeft = document.querySelector('input[name="radialPulse"][value="left"]').checked;
        const poplitealRight = document.querySelector('input[name="poplitealPulse"][value="right"]').checked;
        const poplitealLeft = document.querySelector('input[name="poplitealPulse"][value="left"]').checked;
        const tibialRight = document.querySelector('input[name="tibialPulse"][value="right"]').checked;
        const tibialLeft = document.querySelector('input[name="tibialPulse"][value="left"]').checked;
        const pedialRight = document.querySelector('input[name="pedialPulse"][value="right"]').checked;
        const pedialLeft = document.querySelector('input[name="pedialPulse"][value="left"]').checked;
        
        // Format: Nom du pouls: G/D avec + pour pr√©sent et - pour absent
        const formatPouls = (name, gauche, droit) => {
            const g = gauche ? "+" : "-";
            const d = droit ? "+" : "-";
            return `${name}: ${g}/${d}`;
        };
        
        // Construire le texte pour chaque pouls
        const radialStatus = formatPouls("radiaux", radialLeft, radialRight);
        const poplitealStatus = formatPouls("poplit√©s", poplitealLeft, poplitealRight);
        const tibialStatus = formatPouls("tibiaux post√©rieurs", tibialLeft, tibialRight);
        const pedialStatus = formatPouls("p√©dieux", pedialLeft, pedialRight);
        
        // Combiner tous les pouls en une ligne
        pulseText = `Pouls p√©riph√©riques : ${radialStatus} ; ${poplitealStatus} ; ${tibialStatus} ; ${pedialStatus}.`;
    } else {
        pulseText = "Les pouls p√©riph√©riques sont per√ßus et bien frapp√©s.";
    }
    
    section += `<div class="text-line">${pulseText}`;
    
    // Thrombose veineuse profonde
    const tvpPresent = document.getElementById('yestvp').checked;
    if (tvpPresent) {
        let tvpDetails = "Pr√©sence d'une thrombose veineuse profonde ";
        
        // C√¥t√©
        const tvpSide = document.querySelector('input[name="tvpSide"]:checked').value;
        tvpDetails += tvpSide;
        
        // Localisation
        let locations = [];
        if (document.getElementById('mollet').checked) locations.push("mollet");
        if (document.getElementById('cuisse').checked) locations.push("cuisse");
        
        if (locations.length > 0) {
            tvpDetails += ` au niveau du ${locations.join(' et de la ')}`;
        }
        
        // Signes
        let signs = [];
        if (document.getElementById('douleur').checked) signs.push("douleur");
        if (document.getElementById('oedeme').checked) signs.push("≈ìd√®me inflammatoire");
        if (document.getElementById('cordon').checked) signs.push("cordon indur√©");
        if (document.getElementById('homans').checked) signs.push("signe de Homans");
        
        if (signs.length > 0) {
            tvpDetails += ` avec ${signs.join(', ')}`;
        }
        
        section += ` ${tvpDetails}.`;
    } else {
        section += " Pas de signe de thrombose veineuse profonde.";
    }
    

        section += "</div>";

    // Auscultation cardiaque
    const abnormalHeartSound = document.querySelector('input[name="heartSoundType"][value="abnormal"]').checked;
    let heartText = "L'auscultation met en √©vidence : ";
    
    if (abnormalHeartSound) {
        // Rythme
        const rhythm = document.querySelector('input[name="rhythm"]:checked').value;
        heartText += `Bruits du c≈ìur ${rhythm === "regular" ? "r√©guliers" : "irr√©guliers"}`;
        
        // Souffle
        if (document.getElementById('hasMurmur').checked) {
            // Caract√©ristiques du souffle
            let locations = Array.from(document.querySelectorAll('input[name="location"]:checked')).map(cb => {
                // Traduction des localisations
                switch(cb.value) {
                    case "aortic": return "aortique";
                    case "mitral": return "mitral";
                    case "tricuspid": return "tricuspidien";
                    case "pulmonary": return "pulmonaire";
                    default: return cb.value;
                }
            });
            
            let timbres = Array.from(document.querySelectorAll('input[name="timbre"]:checked')).map(cb => {
                // Traduction des timbres
                switch(cb.value) {
                    case "soft": return "doux hum√© aspiratif";
                    case "harsh": return "rude r√¢peux";
                    case "musical": return "en jet de vapeur piaulant";
                    case "friction": return "frottement p√©ricardique";
                    default: return cb.value;
                }
            });
            
            let timings = Array.from(document.querySelectorAll('input[name="timing"]:checked')).map(cb => {
                // Traduction des temps
                switch(cb.value) {
                    case "systolic": return "systolique";
                    case "diastolic": return "diastolique";
                    case "continuous": return "systolo-diastolique";
                    default: return cb.value;
                }
            });
            
            const intensity = document.querySelector('select[name="intensity"]').value;
            
            let radiations = Array.from(document.querySelectorAll('input[name="radiation"]:checked')).map(cb => {
                // Traduction des irradiations
                switch(cb.value) {
                    case "carotid": return "carotidienne";
                    case "axillary": return "axillaire";
                    case "none": return ""; // Ne pas inclure "sans irradiation"
                    default: return cb.value;
                }
            }).filter(r => r !== ""); // Filtrer les valeurs vides
            
            // Construction du texte du souffle
            heartText += " avec souffle";
            
            // Localisation
            if (locations.length > 0) {
                heartText += ` ${locations.join(', ')}`;
            }
            
            // Timing
            if (timings.length > 0) {
                heartText += ` ${timings.join(' et ')}`;
            }
            
            // Intensit√©
            heartText += ` d'intensit√© ${intensity}/6`;
            
            // Timbre
            if (timbres.length > 0) {
                heartText += `, ${timbres.join(', ')}`;
            }
            
            // Irradiation
            if (radiations.length > 0) {
                heartText += `, √† irradiation ${radiations.join(' et ')}`;
            }
        } else {
            heartText += " sans souffle per√ßu";
        }
    } else {
        heartText += "Bruits du c≈ìur r√©guliers sans souffle per√ßu";
    }
    
    section += `<div class="text-line">${heartText}.</div>`;
    
    section += `<br>`;
    
    return section;
}

// Fonction utilitaire pour v√©rifier si une valeur est d√©finie
function valueOrEmpty(value) {
    return value && value !== "" ? value : "";
}

// Section respiratoire
function generateRespiratorySection() {
let section = `<div class="text-line"><strong class="section-title">Sur le plan respiratoire :</strong></div>`;    
    // Fr√©quence respiratoire
    const fr = valueOrEmpty(document.getElementById('FreqResp').value);
    let frStatus = "";
    if (fr) {
        const frValue = parseFloat(fr);
        if (frValue > 20) frStatus = "Polypn√©e";
        else if (frValue < 12) frStatus = "Bradypn√©e";
        else frStatus = "Normopn√©e";
    }
    
    // Type de ventilation
    let ventilationText = "";
    if (document.getElementById('ventSpontanee').checked) {
        ventilationText = "en ventilation spontan√©e";
        if (document.getElementById('oxygenOui').checked) {
            const debitO2 = valueOrEmpty(document.getElementById('debitO2').value);
            ventilationText += ` sous oxyg√©noth√©rapie${debitO2 ? ' √† ' + debitO2 + ' L/min' : ''}`;
        }
        const sao2Spontanee = valueOrEmpty(document.getElementById('sao2Spontanee').value);
        if (sao2Spontanee) {
            ventilationText += `, SaO2 √† ${sao2Spontanee}%`;
        }
    } else if (document.getElementById('ventNonInvasive').checked) {
        ventilationText = "en ventilation non invasive";
        
        const aideInspiratoire = valueOrEmpty(document.getElementById('aideInspiratoire').value);
        const peepNonInvasive = valueOrEmpty(document.getElementById('peepNonInvasive').value);
        const fio2NonInvasive = valueOrEmpty(document.getElementById('fio2NonInvasive').value);
        const sao2NonInvasive = valueOrEmpty(document.getElementById('sao2NonInvasive').value);
        
        let parameters = [];
        if (aideInspiratoire) parameters.push(`AI ${aideInspiratoire} cmH2O`);
        if (peepNonInvasive) parameters.push(`PEP ${peepNonInvasive} cmH2O`);
        if (fio2NonInvasive) parameters.push(`FiO2 ${fio2NonInvasive}%`);
        if (sao2NonInvasive) parameters.push(`SaO2 ${sao2NonInvasive}%`);
        
        if (parameters.length > 0) {
            ventilationText += ` (${parameters.join(', ')})`;
        }
    } else if (document.getElementById('ventInvasive').checked) {
        ventilationText = "en ventilation invasive";
        
        const volumeCourant = valueOrEmpty(document.getElementById('volumeCourant').value);
        const peepInvasive = valueOrEmpty(document.getElementById('peepInvasive').value);
        const pressionPlateau = valueOrEmpty(document.getElementById('pressionPlateau').value);
        const fio2Invasive = valueOrEmpty(document.getElementById('fio2Invasive').value);
        const sao2Invasive = valueOrEmpty(document.getElementById('sao2Invasive').value);
        
        let parameters = [];
        if (volumeCourant) parameters.push(`Vt ${volumeCourant} ml`);
        if (peepInvasive) parameters.push(`PEP ${peepInvasive} cmH2O`);
        if (pressionPlateau) parameters.push(`Pplat ${pressionPlateau} cmH2O`);
        if (fio2Invasive) parameters.push(`FiO2 ${fio2Invasive}%`);
        if (sao2Invasive) parameters.push(`SaO2 ${sao2Invasive}%`);
        
        if (parameters.length > 0) {
            ventilationText += ` (${parameters.join(', ')})`;
        }
    }
    
    // Premi√®re ligne : fr√©quence respiratoire et ventilation
    let respiratoryLine = "";
    if (fr) {
        respiratoryLine = `${frStatus} √† ${fr}/min ${ventilationText}`;
    } else if (ventilationText) {
        respiratoryLine = `Patient ${ventilationText}`;
    }
    
    if (respiratoryLine) {
        section += `<div class="text-line">${respiratoryLine}.</div>`;
    }
    
    // Hypercapnie
    const hypercapnie = document.getElementById('yesresp4').checked;
    
    // Signes de lutte
    const signesLutte = document.getElementById('yesresp5').checked;
    
    let secondLine = "";
    
    // D√©tails des signes d'hypercapnie
    if (hypercapnie) {
        let hypercapnieSigns = [];
        if (document.getElementById('resp4d1Input').checked) hypercapnieSigns.push("sueurs");
        if (document.getElementById('resp4d2Input').checked) hypercapnieSigns.push("ast√©rixis");
        if (document.getElementById('resp4d3Input').checked) hypercapnieSigns.push("c√©phal√©es");
        if (document.getElementById('resp4d4Input').checked) hypercapnieSigns.push("HTA");
        if (document.getElementById('resp4d5Input').checked) hypercapnieSigns.push("agitation/confusion");
        
        if (hypercapnieSigns.length > 0) {
            secondLine += `Pr√©sence de signes d'hypercapnie √† type de : ${hypercapnieSigns.join(', ')}`;
        } else {
            secondLine += "Pr√©sence de signes d'hypercapnie";
        }
    }
    
    // D√©tails des signes de lutte
    if (signesLutte) {
        let lutteDetails = [];
        if (document.getElementById('resp5d1Input').checked) lutteDetails.push("tirage intercostal");
        if (document.getElementById('resp5d2Input').checked) lutteDetails.push("tirage susclaviculaire");
        if (document.getElementById('resp5d3Input').checked) lutteDetails.push("tirage souscostal");
        if (document.getElementById('resp5d4Input').checked) lutteDetails.push("balancement thoracoabdominal");
        
        // R√©cup√©rer l'intensit√©
        const intensitySelect = document.getElementById('resp5Intensity');
        const intensity = intensitySelect ? intensitySelect.value : "";
        
        if (lutteDetails.length > 0) {
            if (secondLine) secondLine += " et ";
            secondLine += `Signes de lutte ${intensity}s √† type de : ${lutteDetails.join(', ')}`;
        } else {
            if (secondLine) secondLine += " et ";
            secondLine += `Pr√©sence de signes de lutte ${intensity}s`;
        }
    }
    
    if (secondLine) {
        section += `<div class="text-line">${secondLine}.</div>`;
    }
    
// Inspection thoracique
let inspectionText = "";
if (document.getElementById('abnormalInspection').checked) {
    const ampliationType = document.querySelector('input[name="ampliation"]:checked').value;
    if (ampliationType === "asymetrique") {
        const side = document.querySelector('input[name="ampliationSideChoice"]:checked').value;
        inspectionText += `Ampliation thoracique asym√©trique √† ${side}`;
    } else {
        inspectionText += "Ampliation thoracique sym√©trique";
    }
    
    let thoraxSigns = [];
    if (document.getElementById('hippocratisme').checked) thoraxSigns.push("d'un hippocratisme digital");
    if (document.getElementById('cyanose').checked) thoraxSigns.push("d'une cyanose des extr√©mit√©s");
    if (document.getElementById('distension').checked) thoraxSigns.push("d'une distension thoracique");
    if (document.getElementById('freinExpiratoire').checked) thoraxSigns.push("d'un frein expiratoire");
    
    if (thoraxSigns.length > 0) {
        inspectionText += `. Pr√©sence ${thoraxSigns.join(', ')}.`;
    } else {
        inspectionText += ".";
    }
} else {
    inspectionText = "Ampliation thoracique sym√©trique. Pas d'hippocratisme digital ni de cyanose des extr√©mit√©s.";
}
    
    section += `<div class="text-line">${inspectionText}</div>`;
    
    // Percussion
    let percussionText = "";
    if (document.getElementById('abnormalPercussion').checked) {
        let percussionAbnormalities = [];
        
        if (document.getElementById('tympanisme').checked) {
            const tympanismeLocation = document.getElementById('tympanismeLocation').value;
            percussionAbnormalities.push(`tympanisme${tympanismeLocation ? ' ' + tympanismeLocation : ''}`);
        }
        
        if (document.getElementById('matite').checked) {
            const matiteLocation = document.getElementById('matiteLocation').value;
            percussionAbnormalities.push(`matit√©${matiteLocation ? ' ' + matiteLocation : ''}`);
        }
        
        percussionText = `Percussion anormale avec ${percussionAbnormalities.join(' et ')}.`;
    } else {
        percussionText = "Percussion sans anomalie.";
    }
   
    
    section += `<div class="text-line">${percussionText}</div>`;
    
    // Auscultation pulmonaire
    let auscultationText = "L'auscultation met en √©vidence : ";
    if (document.getElementById('yesresp6').checked) {
        let auscAbnormalities = [];
        
        if (document.getElementById('resp6d1Input').checked) {
            const crepitantsLocation = document.getElementById('resp6d1Text').value;
            auscAbnormalities.push(`cr√©pitants${crepitantsLocation ? ' ' + crepitantsLocation : ''}`);
        }
        
        if (document.getElementById('resp6d2Input').checked) {
            const sibilantsLocation = document.getElementById('resp6d2Text').value;
            auscAbnormalities.push(`sibilants${sibilantsLocation ? ' ' + sibilantsLocation : ''}`);
        }
        
        if (document.getElementById('resp6d3Input').checked) {
            const souffleLocation = document.getElementById('resp6d3Text').value;
            auscAbnormalities.push(`souffle tubaire${souffleLocation ? ' ' + souffleLocation : ''}`);
        }
        
        if (document.getElementById('resp6d4Input').checked) {
            const ronchisLocation = document.getElementById('resp6d4Text').value;
            auscAbnormalities.push(`ronchis${ronchisLocation ? ' ' + ronchisLocation : ''}`);
        }
        
        if (document.getElementById('resp6d5Input').checked) {
            const abolitionLocation = document.getElementById('resp6d5Text').value;
            auscAbnormalities.push(`abolition du murmure v√©siculaire${abolitionLocation ? ' ' + abolitionLocation : ''}`);
        }
        
        if (auscAbnormalities.length > 0) {
            auscultationText += auscAbnormalities.join(', ') + '.';
        } else {
            auscultationText += "Anomalie auscultatoire sans pr√©cision.";
        }
    } else {
        auscultationText += "Murmure v√©siculaire bilat√©ral et sym√©trique sans bruit surajout√©.";
    }
    
    section += `<div class="text-line">${auscultationText}</div>`;
    
    section += `<br>`;

    return section;
}

//Section digestif
function generateDigestiveSection() {
let section = `<div class="text-line"><strong class="section-title">Sur le plan uro-digestif :</strong></div>`;    
    // Hypertension portale
    let htpText = "";
    if (document.getElementById('yesdig6').checked) {
        let htpSigns = [];
        if (document.getElementById('dig6d1Input').checked) htpSigns.push("circulation veineuse collat√©rale");
        if (document.getElementById('dig6d2Input').checked) htpSigns.push("ascite");
        if (document.getElementById('dig6d3Input').checked) htpSigns.push("spl√©nom√©galie");
        
        if (htpSigns.length > 0) {
            htpText = `Pr√©sence de signes d'hypertension portale √† type de : ${htpSigns.join(', ')}.`;
        } else {
            htpText = "Pr√©sence de signes d'hypertension portale.";
        }
    } else {
        htpText = "Pas de signe d'hypertension portale.";
    }
    
    // Insuffisance h√©patocellulaire
    let ihcText = "";
    if (document.getElementById('yesdig7').checked) {
        let ihcSigns = [];
        if (document.getElementById('dig7d1Input').checked) ihcSigns.push("angiomes stellaires");
        if (document.getElementById('dig7d2Input').checked) ihcSigns.push("ast√©rixis");
        if (document.getElementById('dig7d3Input').checked) ihcSigns.push("ict√®re");
        if (document.getElementById('dig7d4Input').checked) ihcSigns.push("enc√©phalopathie");
        
        if (ihcSigns.length > 0) {
            ihcText = `Pr√©sence de signes d'insuffisance h√©patocellulaire √† type de : ${ihcSigns.join(', ')}.`;
        } else {
            ihcText = "Pr√©sence de signes d'insuffisance h√©patocellulaire.";
        }
    } else {
        ihcText = "Pas de signe d'insuffisance h√©patocellulaire.";
    }
    
    // Premi√®re ligne : HTP et IHC
    let hepatoLine = "";
    if (document.getElementById('yesdig6').checked || document.getElementById('yesdig7').checked) {
        if (htpText.startsWith("Pr√©sence") && ihcText.startsWith("Pr√©sence")) {
            hepatoLine = `${htpText} ${ihcText}`;
        } else {
            hepatoLine = `${htpText} ${ihcText}`;
        }
    } else {
        hepatoLine = `${htpText} ${ihcText}`;
    }
    
    section += `<div class="text-line">${hepatoLine}</div>`;
    
    // Globe v√©sical
    const globeVesical = document.getElementById('yesdig10').checked;
    const globeText = globeVesical ? "Pr√©sence d'un globe v√©sical" : "Pas de globe v√©sical";
    
    // Douleur fosses lombaires - CORRIG√â pour g√©rer "Non √©valuable"
    let fosseText = "";
    
    // V√©rifier l'option s√©lectionn√©e pour les douleurs lombaires
    const yesdig8 = document.getElementById('yesdig8');
    const NEdig8 = document.getElementById('NEdig8');
    
    if (yesdig8 && yesdig8.checked) {
        // Option "Douleurs" est s√©lectionn√©e
        let sides = [];
        if (document.getElementById('dig8d1Input').checked) sides.push("droite");
        if (document.getElementById('dig8d2Input').checked) sides.push("gauche");
        
        if (sides.length > 0) {
            if (sides.length === 2) {
                fosseText = "Douleur √† l'√©branlement des fosses lombaires";
            } else {
                fosseText = `Douleur √† l'√©branlement de la fosse lombaire ${sides[0]}`;
            }
        } else {
            fosseText = "Douleur √† l'√©branlement des fosses lombaires";
        }
    } else if (NEdig8 && NEdig8.checked) {
        // Option "Non √©valuable" est s√©lectionn√©e
        fosseText = "Douleur √† l'√©branlement des fosses lombaires non √©valuable";
    } else {
        // Option "Pas de douleur" est s√©lectionn√©e (par d√©faut)
        fosseText = "Pas de douleur √† l'√©branlement des fosses lombaires";
    }
    
    // Deuxi√®me ligne : globe v√©sical et fosses lombaires
    section += `<div class="text-line">${globeText}. ${fosseText}.</div>`;
    
    // Abdomen
    let abdomenText = "";
    if (document.getElementById('yesdig11').checked) {
        const abdomenDetails = document.getElementById('dig11d').value;
        abdomenText = `Anomalie √† la palpation abdominale${abdomenDetails ? ' : ' + abdomenDetails : ''}.`;
    } else {
        abdomenText = "Abdomen souple d√©pressible et indolore.";
    }
    
    // Organom√©galie
    let organoText = "";
    if (document.getElementById('yesdig9').checked) {
        const organomegalieDetails = document.getElementById('dig9d').value;
        organoText = `Pr√©sence d'une organom√©galie${organomegalieDetails ? ' : ' + organomegalieDetails : ''}.`;
    }
    
    // Troisi√®me ligne : abdomen et organom√©galie
    if (organoText) {
        section += `<div class="text-line">${abdomenText} ${organoText}</div>`;
    } else {
        section += `<div class="text-line">${abdomenText}</div>`;
    }
    
    section += `<br>`;
    
    return section;
}

// Section neurologique
function generateNeurologicalSection() {
let section = `<div class="text-line"><strong class="section-title">Sur le plan neurologique :</strong></div>`;    
    // Score de Glasgow
    const glasgow = document.getElementById('glasgow-total').value || "15";
    const yeux = document.getElementById('yeux-score').value || "4";
    const verbal = document.getElementById('verbal-score').value || "5";
    const moteur = document.getElementById('moteur-score').value || "6";
    const patientSedate = document.getElementById('sedate').checked;
    
// Conscience et Glasgow
let glasgowText = "";
const calculateLiege = document.getElementById('calculate-liege').checked;
const liegeScore = document.getElementById('liege-score').value || "5";

if (calculateLiege) {
    // Version avec score de Li√®ge
    const glasgowLiegeTotal = document.getElementById('glasgow-liege-total').value || "20";
    
    if (parseInt(glasgow) < 15) {
        glasgowText = `Trouble de la conscience avec score de Glasgow-Li√®ge √† ${glasgowLiegeTotal}/20 (Y${yeux} V${verbal} M${moteur} Li√®ge ${liegeScore})`;
    } else {
        glasgowText = `Patient conscient, score de Glasgow-Li√®ge √† ${glasgowLiegeTotal}/20 (Y${yeux} V${verbal} M${moteur} Li√®ge ${liegeScore})`;
    }
} else {
    // Version standard sans score de Li√®ge
    if (parseInt(glasgow) < 15) {
        glasgowText = `Trouble de la conscience avec score de Glasgow √† ${glasgow}/15 (Y${yeux} V${verbal} M${moteur})`;
    } else {
        glasgowText = `Patient conscient, score de Glasgow √† ${glasgow}/15 (Y${yeux} V${verbal} M${moteur})`;
    }
}

if (patientSedate) {
    const glasgowAnterieur = document.getElementById('glasgow-anterieur').value;
    if (glasgowAnterieur) {
        glasgowText += ` sous s√©dation (score avant s√©dation : ${glasgowAnterieur}/15)`;
    } else {
        glasgowText += " sous s√©dation";
    }
} else {
    glasgowText += " sans s√©dation";
}
    
    section += `<div class="text-line">${glasgowText}.</div>`;
    
    // Pupilles
    let pupilleGauche = document.getElementById('pupille-gauche-taille').value;
    let pupilleDroite = document.getElementById('pupille-droite-taille').value;
    let rpmDirectGauche = document.getElementById('rpm-direct-gauche').value;
    let rpmDirectDroit = document.getElementById('rpm-direct-droit').value;
    let rpmConsensuelGauche = document.getElementById('rpm-consensuel-gauche').value;
    let rpmConsensuelDroit = document.getElementById('rpm-consensuel-droit').value;
    
    // Format les signes +/- pour la r√©activit√©
    const formatReactivite = (valeur) => valeur === 'present' ? '+' : '-';
    
    let pupillesText = "";
    
    // Taille
    if (pupilleGauche === pupilleDroite) {
        pupillesText = `Pupilles ${pupilleGauche}s sym√©triques`;
    } else {
        pupillesText = `Pupilles asym√©triques (gauche ${pupilleGauche}, droite ${pupilleDroite})`;
    }
    
    // R√©activit√©
    pupillesText += ` avec RPM direct ${formatReactivite(rpmDirectGauche)}/${formatReactivite(rpmDirectDroit)} et RPM consensuel ${formatReactivite(rpmConsensuelGauche)}/${formatReactivite(rpmConsensuelDroit)}`;
    
    section += `<div class="text-line">${pupillesText}.</div>`;
    
    // ROT et RCP
    let rotText = "";
    const rcpDroit = document.getElementById('rcp-droit').value;
    const rcpGauche = document.getElementById('rcp-gauche').value;
    
    // ROT
    if (document.getElementById('abnormalReflex').checked) {
        let rotAbnormalities = [];
        
        // Check each reflex group
        const reflexGroups = ['bicipital', 'tricipital', 'rotulien', 'achill√©en'];
        for (const reflex of reflexGroups) {
            if (document.getElementById(reflex).checked) {
                // Get affected sides for this reflex
                const rightChecked = document.querySelector(`.side-checkbox[data-side="droite"][data-reflex="${reflex}"]`).checked;
                const leftChecked = document.querySelector(`.side-checkbox[data-side="gauche"][data-reflex="${reflex}"]`).checked;
                
                if (!rightChecked && !leftChecked) continue; // Skip if no side selected
                
                let reflexDescription = `ROT ${reflex}`;
                let rightDetails = [];
                let leftDetails = [];
                
                // Collect right side anomalies
                if (rightChecked) {
                    if (document.getElementById(`${reflex}-vif-droit`).checked) rightDetails.push("vif");
                    if (document.getElementById(`${reflex}-diffuse-droit`).checked) rightDetails.push("diffus√©");
                    if (document.getElementById(`${reflex}-poly-droit`).checked) rightDetails.push("polycin√©tique");
                    if (document.getElementById(`${reflex}-zone-droit`).checked) rightDetails.push("zone r√©flexog√®ne √©tendue");
                    if (document.getElementById(`${reflex}-aboli-droit`).checked) rightDetails.push("aboli");
                }
                
                // Collect left side anomalies
                if (leftChecked) {
                    if (document.getElementById(`${reflex}-vif-gauche`).checked) leftDetails.push("vif");
                    if (document.getElementById(`${reflex}-diffuse-gauche`).checked) leftDetails.push("diffus√©");
                    if (document.getElementById(`${reflex}-poly-gauche`).checked) leftDetails.push("polycin√©tique");
                    if (document.getElementById(`${reflex}-zone-gauche`).checked) leftDetails.push("zone r√©flexog√®ne √©tendue");
                    if (document.getElementById(`${reflex}-aboli-gauche`).checked) leftDetails.push("aboli");
                }
                
                // Format the description for this reflex
                if (rightDetails.length > 0 && leftDetails.length > 0) {
                    reflexDescription += ` : ${rightDetails.join(', ')} √† droite, ${leftDetails.join(', ')} √† gauche`;
                } else if (rightDetails.length > 0) {
                    reflexDescription += ` : ${rightDetails.join(', ')} √† droite`;
                } else if (leftDetails.length > 0) {
                    reflexDescription += ` : ${leftDetails.join(', ')} √† gauche`;
                }
                
                rotAbnormalities.push(reflexDescription);
            }
        }
        
        if (rotAbnormalities.length > 0) {
            rotText = `Anomalies des ROT : ${rotAbnormalities.join('. ')}`;
        } else {
            rotText = "Anomalies des ROT non pr√©cis√©es";
        }
    } else {
        rotText = "ROT sym√©triques non diffus√©s non polycin√©tiques et non vifs";
    }
    
    // RCP
    let rcpText = "RCP ";
    
    if (rcpDroit === rcpGauche) {
        if (rcpDroit === 'flexion') {
            rcpText += "en flexion bilat√©rale";
        } else if (rcpDroit === 'indifferent') {
            rcpText += "indiff√©rent bilat√©ral";
        } else if (rcpDroit === 'extension') {
            rcpText += "en extension bilat√©rale";
        }
    } else {
        rcpText += `√† droite en ${rcpDroit}, √† gauche ${rcpGauche === 'flexion' ? 'en flexion' : rcpGauche === 'extension' ? 'en extension' : 'indiff√©rent'}`;
    }
    
    section += `<div class="text-line">${rotText}. ${rcpText}.</div>`;
    
    // D√©ficit moteur et D√©ficit sensitif
    let moteurText = "";
    if (document.getElementById('yesDeficitMoteur').checked) {
        let deficits = [];
        
        // D√©ficit MS
        if (document.getElementById('deficitMS').checked) {
            let msDeficits = [];
            
            // V√©rifier si des groupes musculaires sont s√©lectionn√©s
            const muscleGroups = ['deltoide', 'biceps', 'triceps', 'extenseursradiaux', 'flechisseurscarpe'];
            let hasDetailedDeficit = false;
            
            for (const muscle of muscleGroups) {
                if (document.getElementById(muscle) && document.getElementById(muscle).checked) {
                    hasDetailedDeficit = true;
                    break;
                }
            }
            
            if (hasDetailedDeficit) {
                // Il y a des d√©tails sp√©cifiques √† inclure
                for (const muscle of muscleGroups) {
                    if (document.getElementById(muscle) && document.getElementById(muscle).checked) {
                        // R√©cup√©rer les valeurs de force
                        const rightForceSelector = document.querySelector(`#${muscle} + div.force-selector.right .force-value`);
                        const leftForceSelector = document.querySelector(`#${muscle} + div.force-selector.left .force-value`);
                        
                        const rightForce = rightForceSelector ? rightForceSelector.getAttribute('data-value') : "5";
                        const leftForce = leftForceSelector ? leftForceSelector.getAttribute('data-value') : "5";
                        
                        // Ne d√©crire que si diff√©rent de 5/5
                        if (rightForce !== "5" || leftForce !== "5") {
                            let muscleText = muscle;
                            
                            if (rightForce !== "5" && leftForce !== "5") {
                                msDeficits.push(`${muscleText} c√¥t√© droit ${rightForce}/5, c√¥t√© gauche ${leftForce}/5`);
                            } else if (rightForce !== "5") {
                                msDeficits.push(`${muscleText} c√¥t√© droit ${rightForce}/5`);
                            } else if (leftForce !== "5") {
                                msDeficits.push(`${muscleText} c√¥t√© gauche ${leftForce}/5`);
                            }
                        }
                    }
                }
                
                if (msDeficits.length > 0) {
                    deficits.push(`D√©ficit moteur aux membres sup√©rieurs : ${msDeficits.join(' ; ')}`);
                } else {
                    deficits.push("D√©ficit moteur aux membres sup√©rieurs non pr√©cis√©");
                }
            } else {
                deficits.push("D√©ficit moteur aux membres sup√©rieurs non pr√©cis√©");
            }
        }
        
        // D√©ficit MI
        if (document.getElementById('deficitMI').checked) {
            let miDeficits = [];
            
            // V√©rifier si des groupes musculaires sont s√©lectionn√©s
            const muscleGroups = ['psoas', 'quadriceps', 'ischiojambiers', 'adducteurs', 'tibialant', 'tricepssural'];
            let hasDetailedDeficit = false;
            
            for (const muscle of muscleGroups) {
                if (document.getElementById(muscle) && document.getElementById(muscle).checked) {
                    hasDetailedDeficit = true;
                    break;
                }
            }
            
            if (hasDetailedDeficit) {
                // Il y a des d√©tails sp√©cifiques √† inclure
                for (const muscle of muscleGroups) {
                    if (document.getElementById(muscle) && document.getElementById(muscle).checked) {
                        // R√©cup√©rer les valeurs de force
                        const rightForceSelector = document.querySelector(`#${muscle} + div.force-selector.right .force-value`);
                        const leftForceSelector = document.querySelector(`#${muscle} + div.force-selector.left .force-value`);
                        
                        const rightForce = rightForceSelector ? rightForceSelector.getAttribute('data-value') : "5";
                        const leftForce = leftForceSelector ? leftForceSelector.getAttribute('data-value') : "5";
                        
                        // Ne d√©crire que si diff√©rent de 5/5
                        if (rightForce !== "5" || leftForce !== "5") {
                            let muscleText = muscle;
                            
                            if (rightForce !== "5" && leftForce !== "5") {
                                miDeficits.push(`${muscleText} c√¥t√© droit ${rightForce}/5, c√¥t√© gauche ${leftForce}/5`);
                            } else if (rightForce !== "5") {
                                miDeficits.push(`${muscleText} c√¥t√© droit ${rightForce}/5`);
                            } else if (leftForce !== "5") {
                                miDeficits.push(`${muscleText} c√¥t√© gauche ${leftForce}/5`);
                            }
                        }
                    }
                }
                
                if (miDeficits.length > 0) {
                    deficits.push(`D√©ficit moteur aux membres inf√©rieurs : ${miDeficits.join(' ; ')}`);
                } else {
                    deficits.push("D√©ficit moteur aux membres inf√©rieurs non pr√©cis√©");
                }
            } else {
                deficits.push("D√©ficit moteur aux membres inf√©rieurs non pr√©cis√©");
            }
        }
        
        if (!document.getElementById('deficitMS').checked && !document.getElementById('deficitMI').checked) {
            deficits.push("D√©ficit moteur non pr√©cis√©");
        }
        
        if (deficits.length > 0) {
            moteurText = deficits.join('. ');
        } else {
            moteurText = "D√©ficit moteur non pr√©cis√©";
        }
    } else if (document.getElementById('NEDeficitMoteur').checked) {
        moteurText = "D√©ficit moteur non √©valuable";
    } else {
        moteurText = "Pas de d√©ficit moteur";
    }
    
    // D√©ficit sensitif
    let sensitifText = "";
    if (document.getElementById('yesDeficitSensitif').checked) {
        let deficits = [];
        
        // MS
        if (document.getElementById('deficitMSS').checked) {
            const description = document.getElementById('deficitMSSDescription').value;
            deficits.push(`d√©ficit sensitif aux membres sup√©rieurs${description ? ' : ' + description : ''}`);
        }
        
        // MI
        if (document.getElementById('deficitMIS').checked) {
            const description = document.getElementById('deficitMISDescription').value;
            deficits.push(`d√©ficit sensitif aux membres inf√©rieurs${description ? ' : ' + description : ''}`);
        }
        
        if (deficits.length > 0) {
            sensitifText = `Pr√©sence d'un ${deficits.join(' et d\'un ')}`;
        } else {
            sensitifText = "D√©ficit sensitif non pr√©cis√©";
        }
    } else if (document.getElementById('NEDeficitSensitif').checked) {
        sensitifText = "D√©ficit sensitif non √©valuable";
    } else {
        sensitifText = "Pas de d√©ficit sensitif";
    }
    
    // Paralysie faciale
    let facialText = "";
    if (document.getElementById('yes_paralysie_faciale').checked) {
        const intensity = document.getElementById('facial_paralysis_intensity').value;
        const type = document.querySelector('input[name="type_paralysie_faciale"]:checked').value;
        facialText = `Pr√©sence d'une paralysie faciale ${type} ${intensity}`;
    } else {
        facialText = "Pas de paralysie faciale";
    }
    
    section += `<div class="text-line">${moteurText}. ${sensitifText}. ${facialText}.</div>`;
    
    // Syndrome m√©ning√©
    let meningeText = "";
    if (document.getElementById('yesSyndromeMening√©').checked) {
        let signes = [];
        if (document.getElementById('kernig').checked) signes.push("signe de Kernig");
        if (document.getElementById('brudzinski').checked) signes.push("signe de Brudzinski");
        if (document.getElementById('photophonophobie').checked) signes.push("photophonophobie");
        if (document.getElementById('raideurNucale').checked) signes.push("raideur nucale");
        if (document.getElementById('purpura').checked) signes.push("purpura");
        
        const precisions = document.getElementById('meningePrecisions').value;
        
        if (signes.length > 0) {
            meningeText = `Pr√©sence d'un syndrome m√©ning√© : ${signes.join(', ')}${precisions ? ' (' + precisions + ')' : ''}`;
        } else {
            meningeText = `Pr√©sence d'un syndrome m√©ning√©${precisions ? ' (' + precisions + ')' : ''}`;
        }
    } else if (document.getElementById('NESyndromeMening√©').checked) {
        meningeText = "Syndrome m√©ning√© non √©valuable";
    } else {
        meningeText = "Pas de syndrome m√©ning√©";
    }
    
    section += `<div class="text-line">${meningeText}.</div>`;
    
    section += `<br>`;

    return section;
}

function generateAdditionalSection() {
    let section = `<div class="text-line"><strong class="section-title">Par ailleurs :</strong></div>`;
    
    // Temp√©rature
    const temperature = valueOrEmpty(document.getElementById('temperature').value);
    if (temperature) {
        let tempStatus = "";
        const tempNum = parseFloat(temperature);
        if (!isNaN(tempNum)) {
            if (tempNum < 36) tempStatus = "Hypothermie √†";
            else if (tempNum >= 38) tempStatus = "Hyperthermie √†";
            else tempStatus = "Temp√©rature √†";
        }
        section += `<div class="text-line">${tempStatus} ${temperature} ¬∞C</div>`;
    }
    
    // Glyc√©mie
    const glycemie = valueOrEmpty(document.getElementById('glycemie').value);
    if (glycemie) {
        let glycStatus = "";
        const glycNum = parseFloat(glycemie);
        if (!isNaN(glycNum)) {
            if (glycNum < 0.7) glycStatus = "Hypoglyc√©mie √†";
            else if (glycNum > 1.3) glycStatus = "Hyperglyc√©mie √†";
            else glycStatus = "Glyc√©mie √†";
        }
        section += `<div class="text-line">${glycStatus} ${glycemie} g/L</div>`;
    }
    
    // Cath√©ters
    const cathetersText = generateCathetersText();
    if (cathetersText) {
        section += `<div class="text-line">${cathetersText}</div>`;
    }
    
    // Sonde urinaire
    const sondeText = generateSondeUrinaireText();
    if (sondeText) {
        section += `<div class="text-line">${sondeText}</div>`;
    }
    
    // Autres informations cliniques
    const autresInfos = document.getElementById('CliniqueAutre').value;
    if (autresInfos) {
        section += `<div class="text-line">Le reste de l'examen clinique retrouve : ${autresInfos}</div>`;
    }
    
    // Information aux proches
    const infoProches = document.getElementById('infoProches').value;
    let infoPText = "Informations aux proches : ";
    if (infoProches === "informes") {
        infoPText += "Les membres de la famille/les proches ont √©t√© inform√©s de la situation.";
    } else {
        infoPText += "Les membres de la famille/les proches n'ont pas encore pu √™tre inform√©s de la situation.";
    }
    
    section += `<div class="text-line">${infoPText}</div>`;
    
    // Personne de confiance
    const personneConfiance = document.getElementById('personneConfiance').value;
    let pcText = "Personne de confiance : ";
    
    switch (personneConfiance) {
        case "nonconnue":
            pcText += "Non connue";
            break;
        case "oralement":
            pcText += "D√©sign√©e oralement";
            const nomPCOral = document.getElementById('nomPersonneConfiance').value;
            if (nomPCOral) pcText += `, ${nomPCOral}`;
            break;
        case "ecrit":
            pcText += "D√©sign√©e par √©crit";
            const nomPCEcrit = document.getElementById('nomPersonneConfiance').value;
            if (nomPCEcrit) pcText += `, ${nomPCEcrit}`;
            break;
        case "impossible":
            pcText += "Recueil impossible";
            break;
    }
    
    section += `<div class="text-line">${pcText}</div>`;
    
    // Directives anticip√©es
    const directivesAnticipees = document.getElementById('directivesAnticipees').value;
    let daText = "Directives anticip√©es : ";
    
    switch (directivesAnticipees) {
        case "nonconnue":
            daText += "Non connues";
            break;
        case "oralement":
            daText += "Exprim√©es oralement";
            break;
        case "ecrit":
            daText += "R√©dig√©es par √©crit";
            break;
        case "impossible":
            daText += "Recueil impossible";
            break;
    }
    
    section += `<div class="text-line">${daText}</div>`;
    

    return section;
}

// Fonction pour g√©n√©rer le texte des cath√©ters
function generateCathetersText() {
    if (!document.getElementById('yesCatheters') || !document.getElementById('yesCatheters').checked) {
        return "Patient sans cath√©ter.";
    }
    
    let catheterTexts = [];
    
    // KTA
    if (document.getElementById('kta') && document.getElementById('kta').checked) {
        const side = document.querySelector('input[name="ktaSide"]:checked').value;
        const status = document.querySelector('input[name="ktaStatus"]:checked').value;
		const location = document.querySelector('input[name="ktaLocation"]:checked').value;
catheterTexts.push(`KTA ${location} ${side}, ${status}`);
    }
    
    // KTC
    if (document.getElementById('ktc') && document.getElementById('ktc').checked) {
        const side = document.querySelector('input[name="ktcSide"]:checked').value;
        const location = document.querySelector('input[name="ktcLocation"]:checked').value;
        const status = document.querySelector('input[name="ktcStatus"]:checked').value;
        catheterTexts.push(`KT central ${location} ${side}, ${status}`);
    }
    
    // PICC LINE
    if (document.getElementById('piccline') && document.getElementById('piccline').checked) {
        const side = document.querySelector('input[name="picclineSide"]:checked').value;
        const status = document.querySelector('input[name="picclineStatus"]:checked').value;
        catheterTexts.push(`PICC LINE ${side}, ${status}`);
    }
    
    // VVP
    if (document.getElementById('vvp') && document.getElementById('vvp').checked) {
        const side = document.querySelector('input[name="vvpSide"]:checked').value;
        const location = document.querySelector('input[name="vvpLocation"]:checked').value;
        const locationText = location === 'membre_superieur' ? 'au membre sup√©rieur' : 'au membre inf√©rieur';
        const status = document.querySelector('input[name="vvpStatus"]:checked').value;
        catheterTexts.push(`VVP ${side} ${locationText}, ${status}`);
        
        // Autres VVP
        const autresVVP = document.getElementById('autresVVP').value;
        if (autresVVP) {
            catheterTexts.push(`autres VVP : ${autresVVP}`);
        }
    }
    
    // MIDLINE
    if (document.getElementById('midline') && document.getElementById('midline').checked) {
        const side = document.querySelector('input[name="midlineSide"]:checked').value;
        const status = document.querySelector('input[name="midlineStatus"]:checked').value;
        catheterTexts.push(`MIDLINE ${side}, ${status}`);
    }
    
    if (catheterTexts.length === 0) {
        return "Patient avec cath√©ter(s) non pr√©cis√©(s).";
    }
    
    return `Patient porteur de : ${catheterTexts.join(' ; ')}.`;
}

// Fonction pour g√©n√©rer le texte de la sonde urinaire
function generateSondeUrinaireText() {
    if (!document.getElementById('yesSondeUrinaire') || !document.getElementById('yesSondeUrinaire').checked) {
        return "Patient sans sonde urinaire.";
    }
    
    const aspectUrines = document.querySelector('input[name="aspectUrines"]:checked').value;
    let sondeText = "Patient porteur d'une sonde urinaire, urines ";
    
    if (aspectUrines === 'claires') {
        sondeText += "claires et translucides.";
    } else {
        const descriptionUrines = document.getElementById('descriptionUrines').value;
        sondeText += `anormales${descriptionUrines ? ' : ' + descriptionUrines : ''}.`;
    }
    
    return sondeText;
}

// Fonction pour calculer automatiquement la surface de la chambre de chasse √† partir du diam√®tre
function updateSurfaceChambreChasse() {
    const diametre = parseFloat(document.getElementById('diametre_CC').value);
    const surfaceCC = document.getElementById('surface_CC');
    const surfaceStatus = document.getElementById('surface-CC-status');
    
    if (!isNaN(diametre) && diametre > 0) {
        // Conversion mm -> cm et calcul de la surface : œÄ √ó (d/2)¬≤
        const diametreCm = diametre / 10; // Conversion mm en cm
        const surface = Math.PI * Math.pow(diametreCm / 2, 2);
        surfaceCC.value = surface.toFixed(2);
        
        // Validation de la surface (normes: 3-4 cm¬≤)
        if (surface >= 3 && surface <= 4) {
            surfaceStatus.textContent = 'Normal';
            surfaceStatus.style.color = 'green';
        } else if (surface < 3) {
            surfaceStatus.textContent = 'Diminu√©e';
            surfaceStatus.style.color = 'orange';
        } else {
            surfaceStatus.textContent = 'Augment√©e';
            surfaceStatus.style.color = 'orange';
        }
        
        // D√©clencher le calcul du d√©bit cardiaque
        updateDebitCardiaque();
    } else {
        surfaceCC.value = '';
        surfaceStatus.textContent = '';
    }
}


// Fonction pour appliquer les animations au texte g√©n√©r√©
function applyTextAnimations() {
    // Ajouter les styles d'animation si ce n'est pas d√©j√† fait
    if (!document.getElementById('animation-styles')) {
        const styleSheet = document.createElement('style');
        styleSheet.id = 'animation-styles';
        styleSheet.textContent = `
            .text-line {
                transform: translateY(20px);
                opacity: 0;
                transition: all 0.5s ease;
                margin-bottom: 8px;
            }
            .text-line.animate-in {
                transform: translateY(0);
                opacity: 1;
            }
        `;
        document.head.appendChild(styleSheet);
    }
    
    // Ajouter un d√©lai pour que les animations se d√©clenchent apr√®s le rendu initial
    setTimeout(() => {
        // S√©lectionner toutes les lignes et ajouter la classe d'animation avec un d√©lai croissant
        const lines = document.querySelectorAll('.text-line');
        lines.forEach((line, index) => {
            setTimeout(() => {
                line.classList.add('animate-in');
            }, index * 100); // D√©lai croissant pour chaque ligne
        });
    }, 50);
}


// Fonction pour copier le texte g√©n√©r√© dans le presse-papier
document.addEventListener('DOMContentLoaded', function() {
  // Ajouter l'ic√¥ne Font Awesome au bouton
  const copyButton = document.getElementById('copyText');
  
  // V√©rifier si le bouton existe avant de le modifier
  if (copyButton) {
    copyButton.innerHTML = '<i class="fas fa-copy"></i> Copier texte';
  }
  
  // Fonction pour cr√©er et afficher la notification
  function showNotification(message) {
    // Cr√©er un √©l√©ment pour la notification
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.position = 'fixed';
    notification.style.right = '20px';
    notification.style.bottom = '100px';
    notification.style.padding = '10px 20px';
    notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
    notification.style.color = 'white';
    notification.style.borderRadius = '5px';
    notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
    notification.style.zIndex = '1000';
    notification.style.fontWeight = '500';
    notification.style.opacity = '0';
    notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
    notification.style.transform = 'translateY(20px)';
    
    // Ajuster pour le mode sombre
    if (document.documentElement.getAttribute('data-theme') === 'dark') {
      notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
    }
    
    // Ajouter au DOM
    document.body.appendChild(notification);
    
    // Animation d'apparition
    setTimeout(() => {
      notification.style.opacity = '1';
      notification.style.transform = 'translateY(0)';
    }, 10);
    
    // Retirer la notification apr√®s l'animation
    setTimeout(() => {
      // Faire dispara√Ætre la notification
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      
      // Supprimer du DOM apr√®s la disparition
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 1500);
  }
  
  // Fonction d'animation de l'ic√¥ne seulement
  function animateCopyIcon(button) {
    const icon = button.querySelector('i');
    if (icon) {
      // Ajouter la classe d'animation √† l'ic√¥ne uniquement
      icon.classList.add('icon-pulse');
      
      // Retirer la classe d'animation apr√®s la fin de l'animation
      setTimeout(() => {
        icon.classList.remove('icon-pulse');
      }, 500);
    }
  }
  
  // Associer la fonction de g√©n√©ration au bouton si n√©cessaire
  const generateButton = document.getElementById('generateText');
  if (generateButton) {
    generateButton.addEventListener('click', function() {
      if (typeof generateTextType === 'function') {
        generateTextType();
      }
    });
  }
  
  // Ajouter notre gestionnaire d'√©v√©nements optimis√© pour mobile
  if (copyButton) {
    copyButton.addEventListener('click', function() {
      const textArea = document.getElementById('generatedTextArea');
      
      // V√©rifier s'il y a du contenu √† copier
      if (!textArea || !textArea.textContent.trim()) {
        return;
      }
      
      // Animation de l'ic√¥ne
      animateCopyIcon(this);
      
      // R√©cup√©rer le texte avec mise en forme pr√©serv√©e
      // Utiliser innerText au lieu de textContent pour conserver les retours √† la ligne
      let textToCopy = textArea.innerText;
      
      // Nettoyer les retours √† la ligne excessifs tout en pr√©servant la mise en forme
      textToCopy = textToCopy.replace(/\n\s*\n\s*\n/g, '\n\n');
      
      // M√©thode moderne : API Clipboard (fonctionne sur la plupart des navigateurs modernes)
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(textToCopy)
          .then(() => {
            showNotification('Texte copi√© !');
          })
          .catch(err => {
            console.error('Erreur API Clipboard: ', err);
            // Utiliser la m√©thode de secours
            fallbackCopy(textToCopy);
          });
      } else {
        // M√©thode de secours pour les navigateurs qui ne supportent pas l'API ou contextes non s√©curis√©s
        fallbackCopy(textToCopy);
      }
    });
    
    // Fonction de secours am√©lior√©e pour mobile
    function fallbackCopy(text) {
      // Cr√©er un textarea temporaire
      const tempTextArea = document.createElement('textarea');
      // Assigner la valeur pour pr√©server les retours √† la ligne
      tempTextArea.value = text;
      
      // Styles pour rendre le textarea accessible mais invisible
      tempTextArea.style.position = 'fixed';
      tempTextArea.style.left = '0';
      tempTextArea.style.top = '0';
      tempTextArea.style.opacity = '0';
      tempTextArea.style.width = '100%';
      tempTextArea.style.height = '100%';
      tempTextArea.style.zIndex = '-1';
      // Ajouter √ßa pour √©viter un scroll ind√©sirable
      tempTextArea.style.pointerEvents = 'none';
      
      // Sp√©cial pour iOS
      if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
        tempTextArea.contentEditable = true;
        tempTextArea.readOnly = false;
      }
      
      document.body.appendChild(tempTextArea);
      
      // Focus et s√©lection sp√©cifiques pour iOS
      tempTextArea.focus();
      tempTextArea.select();
      
      try {
        // Pour les appareils iOS
        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
          const range = document.createRange();
          range.selectNodeContents(tempTextArea);
          
          const selection = window.getSelection();
          selection.removeAllRanges();
          selection.addRange(range);
          
          // S√©lection iOS sp√©cifique
          tempTextArea.setSelectionRange(0, 999999);
        }
        
        // Tentative de copie via execCommand
        const successful = document.execCommand('copy');
        if (successful) {
          showNotification('Texte copi√© !');
        } else {
          throw new Error('La commande copy a √©chou√©');
        }
      } catch (err) {
        console.error('Erreur lors de la copie: ', err);
        alert('La copie a √©chou√©. Essayez de s√©lectionner et copier manuellement.');
      } finally {
        // Nettoyer
        document.body.removeChild(tempTextArea);
      }
    }
  }
});



// Fonction pour basculer la visibilit√© d'une section
function toggleSection(button) {
    const section = button.closest('.section');
    const content = section.querySelector('.section-content');
    const isHidden = !content.classList.contains('hidden');
    
    content.classList.toggle('hidden');
    
    // Mise √† jour du texte et de l'ic√¥ne du bouton
    if (isHidden) {
        button.innerHTML = '<i class="fas fa-eye"></i> Afficher';
    } else {
        button.innerHTML = '<i class="fas fa-eye-slash"></i> Masquer';
    }
    
    section.setAttribute('data-hidden', isHidden);
    
    // Ajout d'une classe pour animer l'ic√¥ne lors du changement
    button.classList.add('icon-transition');
    setTimeout(() => {
        button.classList.remove('icon-transition');
    }, 300);
}

// Initialiser les boutons au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const toggleButtons = document.querySelectorAll('.toggle-button:not(.ficheECG):not([onclick*="reset"])');
    
    toggleButtons.forEach(button => {
        if (button.textContent.trim() === 'Masquer') {
            button.innerHTML = '<i class="fas fa-eye-slash"></i> Masquer';
        } else if (button.textContent.trim() === 'Afficher') {
            button.innerHTML = '<i class="fas fa-eye"></i> Afficher';
        }
    });
});

// S'assurer que la fonction est accessible globalement
window.toggleSection = toggleSection;

// Ajouter des √©couteurs d'√©v√©nements aux boutons existants au chargement
document.addEventListener('DOMContentLoaded', function() {
    const toggleButtons = document.querySelectorAll('.section .toggle-button');
    toggleButtons.forEach(button => {
        if (button.textContent === 'Masquer' || button.textContent === 'Afficher') {
            // Ne pas ajouter de nouvel √©couteur si l'attribut onclick est d√©j√† d√©fini
            if (!button.hasAttribute('onclick')) {
                button.setAttribute('onclick', 'toggleSection(this)');
            }
        }
    });
});

//pdf
document.getElementById('generatePdf').addEventListener('click', function() {
    // V√©rifier si le texte a √©t√© g√©n√©r√©
    const textArea = document.getElementById('generatedTextArea');
    if (!textArea.innerHTML.trim()) {
        alert('Veuillez d\'abord g√©n√©rer le texte type avant de cr√©er un PDF.');
        return;
    }
    
    // Afficher l'indicateur de chargement
    const pdfButton = this;
    const originalText = pdfButton.innerHTML;
    pdfButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> G√©n√©ration...';
    pdfButton.disabled = true;
    
    try {
        // Cr√©er une nouvelle instance de jsPDF
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF({
            orientation: 'portrait',
            unit: 'mm',
            format: 'a4'
        });
        
        // Configurer les couleurs
        const primaryColor = [30, 64, 175]; // #1e40af en RGB
        const textColor = [30, 41, 59]; // #1e293b en RGB
        
        // D√©finir les styles de base
        doc.setFont('helvetica', 'normal');
        doc.setFontSize(9); // Taille de police r√©duite
        doc.setTextColor(textColor[0], textColor[1], textColor[2]);
        
        // Cr√©er l'en-t√™te
        doc.setFillColor(primaryColor[0], primaryColor[1], primaryColor[2]);
        doc.rect(0, 0, 210, 18, 'F');
        
        // Titre principal
        doc.setTextColor(255, 255, 255);
        doc.setFont('helvetica', 'bold');
        doc.setFontSize(14);
        doc.text('TypixClin - Examen r√©animation', 105, 12, { align: 'center' });
        
        // Ligne de s√©paration
        doc.setDrawColor(primaryColor[0], primaryColor[1], primaryColor[2]);
        doc.setLineWidth(0.3);
        doc.line(15, 23, 195, 23);
        
        // Extracting content from textArea
        let contentLines = [];
        // R√©cup√©rer le contenu et le diviser en lignes
        const contentText = textArea.innerText.trim();
        contentLines = contentText.split('\n');
        
        // Afficher le contenu
        let yPosition = 30;
        const lineHeight = 5.5;
        
        // Liste des titres √† mettre en gras et en couleur
        const boldKeywords = [
            "Examen clinique r√©animation :",
            "ETT du"
        ];
        
        // Liste des sous-titres √† mettre en gras seulement (sans couleur)
        const boldBlackKeywords = [
            "Sur le plan h√©modynamique et cardiovasculaire :",
            "Sur le plan respiratoire :",
            "Sur le plan uro-digestif :",
            "Sur le plan neurologique :",
            "Par ailleurs :"
        ];
        
        // Traiter chaque ligne
        for (let i = 0; i < contentLines.length; i++) {
            const line = contentLines[i].trim();
            
            // Traiter les lignes vides (sauts de ligne)
            if (line === '') {
                yPosition += lineHeight;
                continue;
            }
            
            // V√©rifier si c'est un titre √† mettre en gras
const isBoldTitle = boldKeywords.some(keyword => line.startsWith(keyword));
            
            // Nouvelle page si n√©cessaire
            if (yPosition > 260) {
                doc.addPage();
                yPosition = 20;
            }
            
            // Formater selon le type de ligne
            if (isBoldTitle) {
                // Titre de section en gras
                doc.setFont('helvetica', 'bold');
                doc.setFontSize(10);
                doc.setTextColor(primaryColor[0], primaryColor[1], primaryColor[2]);
                doc.text(line, 15, yPosition);
            } else {
                // V√©rifier si la ligne contient un des sous-titres √† mettre en gras et noir
                let isBoldBlack = false;
                let boldBlackText = '';
                
                for (const keyword of boldBlackKeywords) {
                    if (line.includes(keyword)) {
                        isBoldBlack = true;
                        boldBlackText = keyword;
                        break;
                    }
                }
                
                if (isBoldBlack) {
                    // Sous-titre en gras et noir
                    doc.setFont('helvetica', 'bold');
                    doc.setFontSize(9); // Garde la m√™me taille
                    doc.setTextColor(textColor[0], textColor[1], textColor[2]); // Noir
                    doc.text(line, 15, yPosition);
                } else {
                    // Texte normal
                    doc.setFont('helvetica', 'normal');
                    doc.setFontSize(9);
                    doc.setTextColor(textColor[0], textColor[1], textColor[2]);
                    
                    // Diviser la ligne en morceaux g√©rables
                    const maxWidth = 180;
                    const splitText = doc.splitTextToSize(line, maxWidth);
                    
                    // Dessiner le texte
                    for (let j = 0; j < splitText.length; j++) {
                        if (j > 0) yPosition += lineHeight;
                        doc.text(splitText[j], 15, yPosition);
                    }
                }
            }
            
            // Avancer √† la ligne suivante
            yPosition += lineHeight;
        }
        
        // Ajouter le pied de page
        const pageCount = doc.internal.getNumberOfPages();
        for (let i = 1; i <= pageCount; i++) {
            doc.setPage(i);
            
            const pageHeight = doc.internal.pageSize.height;
            doc.setDrawColor(200, 200, 200);
            doc.setLineWidth(0.3);
            doc.line(15, pageHeight - 12, 195, pageHeight - 12);
            
            // Date de g√©n√©ration
            const today = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = today.toLocaleDateString('fr-FR', options);
            
            doc.setTextColor(100, 100, 100);
            doc.setFontSize(8);
            doc.text('TypixClin ¬© 2025, Jean ZENNARO - Document g√©n√©r√© le ' + formattedDate, 105, pageHeight - 8, { align: 'center' });
            
            // Num√©ro de page
            doc.text('Page ' + i + '/' + pageCount, 185, pageHeight - 8);
        }
        
        // G√©n√©rer le PDF et l'ouvrir dans une nouvelle fen√™tre
        const pdfBlob = doc.output('blob');
        const pdfUrl = URL.createObjectURL(pdfBlob);
        window.open(pdfUrl, '_blank');
        
    } catch (error) {
        console.error('Erreur lors de la g√©n√©ration du PDF:', error);
        alert('Une erreur est survenue lors de la g√©n√©ration du PDF. Veuillez r√©essayer.');
    } finally {
        // Restaurer le bouton
        setTimeout(() => {
            pdfButton.innerHTML = originalText;
            pdfButton.disabled = false;
        }, 1000);
    }
});

// Ajout des effets de survol pour le bouton PDF
document.getElementById('generatePdf').addEventListener('mouseover', function() {
    this.style.backgroundColor = 'rgba(239, 68, 68, 0.9)';
    this.style.transform = 'translateY(-2px)';
});

document.getElementById('generatePdf').addEventListener('mouseout', function() {
    this.style.backgroundColor = 'rgba(220, 38, 38, 0.8)';
    this.style.transform = 'translateY(0)';
});

// Ajout des effets de survol pour le bouton email text
document.getElementById('emailText').addEventListener('mouseover', function() {
    this.style.backgroundColor = 'rgb(255, 230, 0)';
    this.style.transform = 'translateY(-2px)';
});

document.getElementById('emailText').addEventListener('mouseout', function() {
    this.style.backgroundColor = 'rgb(255, 215, 0)';
    this.style.transform = 'translateY(0)';
});


// Ajouter les ic√¥nes aux boutons de r√©initialisation
document.addEventListener('DOMContentLoaded', function() {
  // Trouver tous les boutons de r√©initialisation
  const resetButtons = document.querySelectorAll('.toggle-button[onclick*="reset"]');
  
  // Ajouter l'ic√¥ne Font Awesome √† chaque bouton
  resetButtons.forEach(button => {
    if (button.textContent.trim() === 'R√©initialiser') {
      button.innerHTML = '<i class="fas fa-sync-alt"></i> R√©initialiser';
    }
  });
  
  // Intercepter les clics sur les boutons de r√©initialisation pour ajouter l'animation
  resetButtons.forEach(button => {
    button.addEventListener('click', function() {
      const icon = this.querySelector('.fa-sync-alt');
      if (icon) {
        icon.classList.add('spinning');
        setTimeout(() => {
          icon.classList.remove('spinning');
        }, 800);
      }
      
      // Cr√©er un √©l√©ment pour la notification de r√©initialisation
      const notification = document.createElement('div');
      notification.textContent = 'R√©initialisation effectu√©e !';
      notification.style.position = 'fixed';
      notification.style.right = '20px';
      notification.style.bottom = '100px';
      notification.style.padding = '10px 20px';
      notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
      notification.style.color = 'white';
      notification.style.borderRadius = '5px';
      notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
      notification.style.zIndex = '1000';
      notification.style.fontWeight = '500';
      notification.style.opacity = '0';
      notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
      notification.style.transform = 'translateY(20px)';
      
      // Ajuster pour le mode sombre
      if (document.documentElement.getAttribute('data-theme') === 'dark') {
        notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
      }
      
      // Ajouter au DOM
      document.body.appendChild(notification);
      
      // Animation d'apparition
      setTimeout(() => {
        notification.style.opacity = '1';
        notification.style.transform = 'translateY(0)';
      }, 10);
      
      // Retirer la notification apr√®s l'animation
      setTimeout(() => {
        // Faire dispara√Ætre la notification
        notification.style.opacity = '0';
        notification.style.transform = 'translateY(-20px)';
        
        // Supprimer du DOM apr√®s la disparition
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 1500);
    });
  });
});



</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Ajoutez ce style plus sp√©cifique pour r√©soudre le probl√®me de survol -->
<style>



/* Assurer que l'ic√¥ne est correctement align√©e pour le bouton copier */
#copyText i {
  margin-right: 8px;
}

/* Alignement des ic√¥nes pour les boutons g√©n√©rer */
#generateTextExamClin i,
#generateTextETT i {
  margin-right: 8px;
}

/* Animation de grossissement-r√©duction pour l'ic√¥ne */
.icon-pulse {
  animation: iconPulse 0.5s ease-in-out;
  display: inline-block;
}

@keyframes iconPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.5); }
  100% { transform: scale(1); }
}

/* Animation pour l'ic√¥ne uniquement */
.icon-animation {
  animation: iconPulse 0.5s ease;
}

@keyframes iconPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.5); }
  100% { transform: scale(1); }
}


/* Animation pour l'ic√¥ne de r√©initialisation */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.spinning {
  animation: spin 0.8s ease-in-out;
}


    /* Variables pour le mode clair (par d√©faut) */
    :root {
        --primary-color: #2563eb;
        --primary-light: #3b82f6;
        --primary-dark: #1d4ed8;
        --secondary-color: #0f2167;
        --background: #f8fafc;
        --card-bg: #ffffff;
        --text-dark: #1e293b;
        --text-gray: #64748b;
        --border-color: #e2e8f0;
        --input-background: #ffffff;
        --section-background: white;
        --subsection-background: #f8fafc;
        --subsection-border: #e5e7eb;
        --header-gradient-start: #1e40af;
        --header-gradient-end: #0f2167;
        --diagnostic-border: #1e40af;
        --nav-button-bg: #ffffff;
        --nav-button-text: #1e293b;
        --nav-button-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    /* Variables pour le mode sombre */
    [data-theme="dark"] {
        --primary-color: #3b82f6;
        --primary-light: #60a5fa;
        --primary-dark: #93c5fd;
        --secondary-color: #2563eb;
        --background: #0f172a;
        --card-bg: #1e293b;
        --text-dark: #f1f5f9;
        --text-gray: #cbd5e1;
        --border-color: #334155;
        --input-background: #1e293b;
        --section-background: #1e293b;
        --subsection-background: #0f172a;
        --subsection-border: #334155;
        --header-gradient-start: #0f172a;
        --header-gradient-end: #1e293b;
        --diagnostic-border: #60a5fa;
        --nav-button-bg: #1e293b;
        --nav-button-text: #f1f5f9;
        --nav-button-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    

    /* Application des variables g√©n√©rales */
    [data-theme="dark"] body {
        background-color: var(--background);
        color: var(--text-dark);
    }

    [data-theme="dark"] .header, 
    [data-theme="dark"] .sticky-wrapper {
        background: linear-gradient(135deg, var(--header-gradient-start), var(--header-gradient-end)) !important;
    }

    /* Styles sp√©cifiques pour corriger les boutons de navigation */
    [data-theme="dark"] .nav-button:not(.active) {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] .nav-button:not(.active):hover {
        background-color: #2d3748 !important;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4) !important;
    }

    [data-theme="dark"] .nav-button.active {
        background: linear-gradient(135deg, #3b82f6, #2563eb) !important;
        color: white !important;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4) !important;
    }

    /* SOLUTION RADICALE pour les sections en survol */
    [data-theme="dark"] .section {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
    }

    [data-theme="dark"] .section:hover {
        background-color: #1e293b !important;
        box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.6), 0 8px 10px -5px rgba(0, 0, 0, 0.4) !important;
    }

    [data-theme="dark"] .section-header {
        background: linear-gradient(135deg, #3b82f6, #2563eb) !important;
    }

    [data-theme="dark"] .section-content {
        background-color: #1e293b !important;
    }

    [data-theme="dark"] .subsection {
        background-color: #0f172a !important;
        border: 1px solid #334155 !important;
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .subsection h4 {
        color: #93c5fd !important;
        border-bottom-color: #334155 !important;
    }

    [data-theme="dark"] #GDS_generatedTextArea {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] input[type="number"], 
    [data-theme="dark"] input[type="text"] {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border-color: #334155 !important;
    }

    [data-theme="dark"] input[type="number"]:hover, 
    [data-theme="dark"] input[type="text"]:hover {
        border-color: #3b82f6 !important;
    }

    [data-theme="dark"] label {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .step-values {
        background-color: #0f172a !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] footer {
        background-color: #1e293b !important;
        color: #cbd5e1 !important;
        border-top: 1px solid #334155 !important;
    }
	
	.section-title {
    color: black;
}

[data-theme="dark"] .section-title {
    color: white;
}

/* Correction pour les zones d'√©valuation en mode sombre */
[data-theme="dark"] #resultatFonctionDiastolique,
[data-theme="dark"] #resultatProfilMitral {
    background-color: #0f172a !important;
    border-left: 4px solid #3b82f6 !important;
}

[data-theme="dark"] #message_par_defaut,
[data-theme="dark"] #message_profil_par_defaut {
    color: #ef4444 !important;
}

[data-theme="dark"] #criteres_fonction_diastolique,
[data-theme="dark"] #interpretation_fonction_diastolique,
[data-theme="dark"] #criteres_profil_mitral,
[data-theme="dark"] #interpretation_profil_mitral {
    color: #f1f5f9 !important;
}

/* Correction pour les textes de statut √† l'int√©rieur des √©valuations */
[data-theme="dark"] #resultatFonctionDiastolique span[style*="color: #dc2626"],
[data-theme="dark"] #resultatProfilMitral span[style*="color: #dc2626"] {
    color: #ef4444 !important; /* Rouge plus vif pour le mode sombre */
}

[data-theme="dark"] #resultatFonctionDiastolique span[style*="color: #16a34a"],
[data-theme="dark"] #resultatProfilMitral span[style*="color: #16a34a"] {
    color: #22c55e !important; /* Vert plus vif pour le mode sombre */
}

/* Correction pour les titres des sections d'√©valuation */
[data-theme="dark"] #resultatFonctionDiastolique h5,
[data-theme="dark"] #resultatProfilMitral h5 {
    color: #60a5fa !important;
}

/* Correction pour le textarea en mode sombre */
[data-theme="dark"] textarea,
[data-theme="dark"] .form-textarea,
[data-theme="dark"] #CliniqueAutre {
    background-color: #1e293b !important;
    color: #f1f5f9 !important;
    border-color: #334155 !important;
}

[data-theme="dark"] textarea:hover,
[data-theme="dark"] .form-textarea:hover,
[data-theme="dark"] #CliniqueAutre:hover {
    border-color: #3b82f6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3) !important;
}

[data-theme="dark"] textarea:focus,
[data-theme="dark"] .form-textarea:focus,
[data-theme="dark"] #CliniqueAutre:focus {
    outline: none !important;
    border-color: #60a5fa !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4) !important;
}

/* Correction pour la zone de texte g√©n√©r√©e */
[data-theme="dark"] #generatedTextArea {
    background-color: #1e293b !important;
    color: #f1f5f9 !important;
    border-color: #334155 !important;
}

/* Correction pour les sections ad√©nopathie et ROT */
[data-theme="dark"] .localisation-group .side-options .sides-container > div {
    border-left-color: #3b82f6 !important;
}

[data-theme="dark"] .localisation-group .side-options .sides-container > div > div {
    background-color: #0f172a !important;
    border-color: #334155 !important;
}

/* Styles sp√©cifiques pour les d√©tails des c√¥t√©s dans ROT et ad√©nopathies */
[data-theme="dark"] .details-droite,
[data-theme="dark"] .details-gauche {
    color: #f1f5f9 !important;
}

[data-theme="dark"] .details-droite > div,
[data-theme="dark"] .details-gauche > div {
    border-left-color: #3b82f6 !important;
}

[data-theme="dark"] .details-droite > div span,
[data-theme="dark"] .details-gauche > div span {
    color: #93c5fd !important;
}

[data-theme="dark"] .details-droite > div:nth-child(2),
[data-theme="dark"] .details-gauche > div:nth-child(2) {
    background-color: #0f172a !important;
    border-color: #334155 !important;
}

/* Ciblage direct des √©l√©ments avec style inline */
[data-theme="dark"] div[style*="border-left: 4px solid #1e40af"] {
    border-left-color: #3b82f6 !important;
}

[data-theme="dark"] span[style*="color: #1e40af"] {
    color: #93c5fd !important;
}

[data-theme="dark"] div[style*="padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background-color: white"] {
    background-color: #0f172a !important;
    border-color: #334155 !important;
}

/* Style pour les d√©tails sp√©cifiques (vif, diffus√©, etc.) */
[data-theme="dark"] .reflex-group .localisation-group .side-options .sides-container div[style*="background-color: white"] {
    background-color: #0f172a !important;
    border-color: #334155 !important;
}

/* S'assurer que les textes dans ces zones sont visibles */
[data-theme="dark"] .reflex-group .localisation-group .side-options label,
[data-theme="dark"] .localisation-group .side-options label {
    color: #f1f5f9 !important;
}

/* Styles pour les cases √† cocher et boutons radio dans ces zones */
[data-theme="dark"] .custom-control .checkmark {
    border-color: #4b5563 !important;
    background-color: #1e293b !important;
}

[data-theme="dark"] .custom-control input:checked ~ .checkmark {
    background-color: #3b82f6 !important;
    border-color: #3b82f6 !important;
}

[data-theme="dark"] .custom-control:hover .checkmark {
    background-color: rgba(59, 130, 246, 0.2) !important;
}



</style>



<!-- Ajoutez ce script juste avant la fermeture du body -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const themeSwitch = document.getElementById('themeSwitch');
        const themeIcon = themeSwitch.querySelector('i');
        
        // V√©rifie si un th√®me est d√©j√† enregistr√© dans le localStorage
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        // Applique le th√®me enregistr√© au chargement de la page
        if (currentTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            themeIcon.classList.remove('fa-sun');
            themeIcon.classList.add('fa-moon');
        }
        
        // Fonction pour basculer entre les th√®mes
        function toggleTheme() {
            themeSwitch.classList.add('rotate');
            
            // Timeout pour permettre √† l'animation de se terminer avant de changer l'ic√¥ne
            setTimeout(() => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                
                if (currentTheme === 'dark') {
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('theme', 'light');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
                
                // Retire la classe pour permettre de futures animations
                setTimeout(() => {
                    themeSwitch.classList.remove('rotate');
                }, 500);
            }, 250);
        }
        
        // Ajoute l'√©couteur d'√©v√©nement pour le clic sur le bouton
        themeSwitch.addEventListener('click', toggleTheme);
    });
	
	
	



</script>




<style>
/* Styles communs pour les boutons flottants */
.floating-button {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 50px;
  width: 50px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.floating-button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
}

.floating-button i {
  font-size: 1.5rem;
  color: white;
  transition: transform 0.3s ease;
}

/* Bouton Theme Switcher */
.theme-switch-wrapper {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  z-index: 998;
}

.theme-switch {
  background-color: var(--primary-color);
}

.theme-switch:hover {
  background-color: var(--primary-light);
}

.theme-switch:hover i {
  transform: rotate(30deg);
}

.theme-switch.rotate i {
  animation: rotate 0.5s ease;
}

/* Bouton Scroll Top */
.scroll-top {
  position: fixed;
  bottom: 2rem;
  right: 6rem;
  background-color: var(--primary-color);
  z-index: 998;
  transform: translateY(100px);
  opacity: 0;
}

.scroll-top.visible {
  transform: translateY(0);
  opacity: 1;
}

.scroll-top:hover {
  transform: scale(1.1);

  background-color: var(--primary-light);
}

.scroll-top.clicked i {
  animation: bounce 0.3s ease;
}

/* Animations */
@keyframes rotate {
  0% { transform: rotate(0); }
  100% { transform: rotate(360deg); }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Responsive styles */
@media (max-width: 768px) {
  .floating-button {
    height: 45px;
    width: 45px;
  }
  
  .floating-button i {
    font-size: 1.3rem;
  }
  
  .theme-switch-wrapper {
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  .scroll-top {
    bottom: 1.5rem;
    right: 5.5rem;
  }
}

@media (max-width: 480px) {
  .floating-button {
    height: 42px;
    width: 42px;
  }
  
  .floating-button i {
    font-size: 1.1rem;
  }
  
  .scroll-top {
    right: 5rem;
  }
}

</style>

<script>
// JavaScript pour le bouton scroll-top
document.addEventListener('DOMContentLoaded', function() {
  const scrollTopBtn = document.getElementById('scrollTop');
  
  window.addEventListener('scroll', function() {
    if (window.scrollY > 300) {
      scrollTopBtn.classList.add('visible');
    } else {
      scrollTopBtn.classList.remove('visible');
    }
  });
  
  scrollTopBtn.addEventListener('click', function() {
    // Ajouter un effet visuel lors du clic
    scrollTopBtn.classList.add('clicked');
    
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
    
    // Retirer l'effet apr√®s l'animation
    setTimeout(function() {
      scrollTopBtn.classList.remove('clicked');
    }, 300);
  });
});

</Script>
<!-- HTML pour les boutons -->
<div class="theme-switch-wrapper">
  <div class="theme-switch floating-button" id="themeSwitch">
    <i class="fas fa-sun"></i>
  </div>
</div>

<div class="scroll-top floating-button" id="scrollTop">
  <i class="fas fa-arrow-up"></i>
</div>




</body>
</html>