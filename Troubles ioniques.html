<!DOCTYPE html>
<html lang="fr">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KGHT97MD');</script>
<!-- End Google Tag Manager -->


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C2D5ENP3F1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C2D5ENP3F1');
</script>

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="TypixClin" />
<link rel="manifest" href="/site.webmanifest" />


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="Analyse et interpr√©tation des troubles hydr√©lectrolytiques en ligne propos√© par TypixClin.">

<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <title>TypixClin - Troubles ioniques</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KGHT97MD"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



 
<div id="react-root"></div>

<style>
/* Ajustements de base pour √©crans plus petits */
@media (max-width: 768px) {
  /* Ajustement de la taille de base */
  html {
    font-size: 14px; /* R√©duction de la taille de base de la police */
  }



  /* Ajustement des boutons de navigation */
  .nav-button {
    min-height: 70px !important; /* Hauteur r√©duite */
    padding: 0.5rem !important;
  }

  .nav-icon {
    font-size: 1.2rem !important; /* Ic√¥nes plus petites */
    margin-bottom: 0.15rem !important;
  }

  /* R√©duction du padding des sections */
  .section {
    margin-bottom: 1rem;
  }

  .section-header {
    padding: 0.75rem 1rem;
  }

  .section-header h3 {
    font-size: 1rem;
  }

  .section-content {
    padding: 1rem;
  }

  /* Ajustement des input groups */
  .input-group {
    gap: 5px;
  }

  .input-group label {
    font-size: 0.9rem;
    min-width: 160px !important;
  }

  /* Ajustement des valeurs normales */
  .input-group span {
    font-size: 0.8rem;
  }

  /* Ajustement du texte des statuts */
  [id$="-status"] {
    font-size: 0.8rem;
  }

  /* R√©duction de la taille des sous-sections */
  .subsection {
    padding: 0.75rem;
    margin-bottom: 1rem;
  }

  .subsection h4 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
  }
}

/* Ajustements suppl√©mentaires pour tr√®s petits √©crans */
@media (max-width: 480px) {
  html {
    font-size: 12px;
  }

  /* Ajustement de la grille des boutons de navigation */
  div[style*="grid-template-columns: repeat(5, 1fr)"] {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 0.5rem !important;
  }

  .nav-button {
    min-height: 60px !important;
  }

  .input-group label {
    min-width: 140px !important;
  }

  /* Optimisation pour les petits √©crans */
  .section-header {
    flex-direction: column;
    gap: 0.5rem;
  }

  .button-group {
    width: 100%;
    justify-content: center;
  }

  .toggle-button {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
  }

  /* Ajustement des espaces dans l'analyse */
  .analysis-step {
    padding: 0.75rem;
  }

  .step-values {
    padding: 0.75rem;
  }

  /* Ajustement des boutons de navigation */
  .nav-button {
    font-size: 0.8rem;
  }

  .nav-icon {
    font-size: 1rem !important;
  }
}

/* Optimisation pour √©crans moyens */
@media (min-width: 481px) and (max-width: 768px) {
  div[style*="grid-template-columns: repeat(5, 1fr)"] {
    grid-template-columns: repeat(5, 1fr) !important;
    gap: 0.5rem !important;
  }

  .nav-button {
    min-height: 65px !important;
  }
}

@media (max-width: 768px) {
    nav.tcl-floating-nav {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

@media (max-width: 768px) {
    .tcl-nav-items {
        display: none;
    }

/* Ajout d'une meta viewport pour contr√¥ler le zoom */
</style>

<script>
// Ajout dynamique de la meta viewport
const meta = document.createElement('meta');
meta.name = 'viewport';
meta.content = 'width=device-width, initial-scale=0.86, maximum-scale=5.0, minimum-scale=0.86';
document.head.appendChild(meta);
</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">


<!-- Barre de progression -->
<div class="tcl-progress-bar" id="tclProgressBar"></div>

<!-- Navigation flottante lat√©rale -->
<nav class="tcl-floating-nav" id="tclFloatingNav">
    <a href="#Natr√©mie" class="tcl-nav-indicator active" data-section="Hypo/Hypernatr√©mie" data-icon="fas fa-tint">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">üíß</span>
        <span class="tcl-nav-label">Natr√©mie</span>
    </a>
    
    <a href="#Kali√©mie" class="tcl-nav-indicator" data-section="Hypo/Hyperkali√©mie" data-icon="fas fa-bolt">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">üçå</span>
        <span class="tcl-nav-label">Kali√©mie</span>
    </a>
    
    <a href="#Calc√©mie" class="tcl-nav-indicator" data-section="Hypo/Hypercalc√©mie" data-icon="fas fa-bone">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">ü•õ</span>
        <span class="tcl-nav-label">Calc√©mie</span>
    </a>
    
    <a href="#IRA" class="tcl-nav-indicator" data-section="Alt√©ration fonction r√©nale" data-icon="fas fa-kidneys">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">üí¶</span>
        <span class="tcl-nav-label">IRA</span>
    </a>
    
    <a href="#Texte-Type" class="tcl-nav-indicator" data-section="Conclusion" data-icon="fas fa-file-alt">
        <span class="tcl-nav-dot"></span>
        <span class="tcl-nav-icon">‚úçÔ∏è</span>
        <span class="tcl-nav-label">Conclusion</span>
    </a>
</nav>

<!-- Indicateur de section en bas -->
<div class="tcl-section-indicator" id="tclSectionIndicator">
    <div class="tcl-section-indicator-icon">üíß</div>
    <div class="tcl-section-indicator-text">Hypo/Hypernatr√©mie</div>
</div>

<!-- Header principal -->
<header class="tcl-header" id="tclHeader">
    <div class="tcl-header-container">
        <a href="index.html" class="tcl-logo">
            <span class="tcl-logo-icon"><i class="fas fa-heartbeat"></i></span>
            TypixClin
        </a>
        
        <nav class="tcl-nav">
            <ul class="tcl-nav-items">
                                <li class="tcl-nav-dropdown">
                    <a href="javascript:void(0)" class="tcl-nav-link tcl-nav-tools">
                        <i class="fas fa-clipboard"></i> Fiches
                        <i class="fas fa-chevron-down tcl-dropdown-icon"></i>
                    </a>
                    <div class="tcl-nav-dropdown-content">
                        						
						<a href="Fiche-examen-clinique.html" class="tcl-dropdown-item">
                            <i class="fas fa-notes-medical"></i> Fiche Examen Clinique
                        </a>
                        <a href="Fiche-ECG.html" class="tcl-dropdown-item">
                            <i class="fas fa-heartbeat"></i> Fiche ECG
                        </a>


                    </div>
                </li>
				
				<li class="tcl-nav-dropdown">
                    <a href="javascript:void(0)" class="tcl-nav-link tcl-nav-tools">
                        <i class="fas fa-toolbox"></i> Outils
                        <i class="fas fa-chevron-down tcl-dropdown-icon"></i>
                    </a>
                    <div class="tcl-nav-dropdown-content">
                        <a href="examen-adulte.html" class="tcl-dropdown-item">
                            <i class="fas fa-user-md"></i> Examen Adulte
                        </a>
                        <a href="examen-p√©diatrique.html" class="tcl-dropdown-item">
                            <i class="fas fa-baby"></i> Examen P√©diatrique
                        </a>
                        <a href="examen-r√©animation.html" class="tcl-dropdown-item">
                            <i class="fas fa-procedures"></i> Examen R√©animation
                        </a>
                        <a href="ecg.html" class="tcl-dropdown-item">
                            <i class="fas fa-heartbeat"></i> ECG
                        </a>
                        <a href="gds.html" class="tcl-dropdown-item">
                            <i class="fas fa-tint"></i> Gaz du Sang
                        </a>
                        <a href="Troubles ioniques.html" class="tcl-dropdown-item active">
                            <i class="fas fa-flask"></i> Troubles Ioniques
                        </a>
                    </div>
                </li>
            </ul>
      
            
        </nav>
    </div>
</header>

<!-- Section Hero -->
<section class="tcl-hero">
    <div class="tcl-hero-container">
        <div class="tcl-hero-content">
            <h1 class="tcl-hero-title">Troubles Ioniques</h1>
            <p class="tcl-hero-subtitle">Analysez les troubles ioniques de vos patients et obtenez une interpr√©tation automatique. Remplissez les valeurs ci-dessous pour g√©n√©rer un compte-rendu d√©taill√©.</p>
            
            <div class="tcl-tool-navigation">
                <a href="examen-adulte.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üßë</span>
                    <span class="tcl-tool-text">Examen Adulte</span>
                </a>
                
                <a href="examen-p√©diatrique.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üë∂</span>
                    <span class="tcl-tool-text">Examen P√©d.</span>
                </a>
                
                <a href="examen-r√©animation.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">üöë</span>
                    <span class="tcl-tool-text">Examen R√©a.</span>
                </a>
                
                <a href="ecg.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon">‚ö°</span>
                    <span class="tcl-tool-text">ECG</span>
                </a>
                
                <a href="gds.html" class="tcl-tool-link">
                    <span class="tcl-tool-icon"><i class="fas fa-tint" style="color: #ef4444;"></i></span>
                    <span class="tcl-tool-text">GDS</span>
                </a>
                
                <a href="Troubles ioniques.html" class="tcl-tool-link active">
                    <span class="tcl-tool-icon">üîã</span>
                    <span class="tcl-tool-text">Troubles ioniques</span>
                </a>
            </div>
        </div>
    </div>
    
    <a href="#Natr√©mie" class="tcl-scroll-indicator">
        <i class="fas fa-chevron-down"></i>
    </a>
	
</section>

<style>
html {
    scroll-behavior: smooth;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const tclNavLinks = document.querySelectorAll('.tcl-nav-indicator');
    const tclSectionIndicator = document.getElementById('tclSectionIndicator');
    const tclSectionIndicatorIcon = document.querySelector('.tcl-section-indicator-icon');
    const tclSectionIndicatorText = document.querySelector('.tcl-section-indicator-text');
    const tclProgressBar = document.getElementById('tclProgressBar');
    const tclScrollIndicator = document.getElementById('tclScrollIndicator');
    const tclThemeToggle = document.getElementById('tclThemeToggle');
    
    let tclLastActiveSection = null;
    let tclIndicatorTimer;
    
    // Configuration des sections - ADAPTER ICI POUR CHAQUE PAGE
    const sectionConfig = [
        { id: 'Natr√©mie', name: 'Hypo/Hypernatr√©mie', icon: 'üíß' },
        { id: 'Kali√©mie', name: 'Hypo/Hyperkali√©mie', icon: 'üçå' },
        { id: 'Calc√©mie', name: 'Hypo/Hypercalc√©mie', icon: 'ü•õ' },
        { id: 'IRA', name: 'Alt√©ration fonction r√©nale', icon: 'üí¶' },
        { id: 'Texte-Type', name: 'Conclusion', icon: '‚úçÔ∏è' }
    ];
    
    // Trouver la position d'une section
    function getSectionPosition(sectionId) {
        const anchor = document.getElementById(sectionId);
        if (anchor) return anchor.offsetTop;
        return 999999;
    }
    
    function updateActiveSection() {
        const scrollY = window.scrollY + 200;
        const heroEl = document.querySelector('.tcl-hero');
        const heroBottom = heroEl ? heroEl.offsetTop + heroEl.offsetHeight : 0;
        
        let activeId = null;
        
        // Si on est dans le hero
        if (scrollY < heroBottom) {
            activeId = null;
        } else {
            // Trouver la section active (parcourir √† l'envers)
            for (let i = sectionConfig.length - 1; i >= 0; i--) {
                const pos = getSectionPosition(sectionConfig[i].id);
                if (scrollY >= pos) {
                    activeId = sectionConfig[i].id;
                    break;
                }
            }
            // Fallback: premi√®re section
            if (!activeId && scrollY >= heroBottom) {
                activeId = sectionConfig[0].id;
            }
        }
        
        // Si changement de section
        if (activeId !== tclLastActiveSection) {
            tclLastActiveSection = activeId;
            
            // Mettre √† jour la navigation flottante
            tclNavLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (activeId && href === '#' + activeId) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
            // Mettre √† jour l'indicateur en bas
            if (activeId) {
                const config = sectionConfig.find(s => s.id === activeId);
                if (config) {
                    if (tclSectionIndicatorIcon) tclSectionIndicatorIcon.textContent = config.icon;
                    if (tclSectionIndicatorText) tclSectionIndicatorText.textContent = config.name;
                    
                    clearTimeout(tclIndicatorTimer);
                    if (tclSectionIndicator) {
                        tclSectionIndicator.classList.add('visible');
                        tclIndicatorTimer = setTimeout(() => {
                            tclSectionIndicator.classList.remove('visible');
                        }, 3000);
                    }
                }
            } else {
                if (tclSectionIndicator) tclSectionIndicator.classList.remove('visible');
            }
        }
    }
    
    // Barre de progression
    function updateProgress() {
        const scrollY = window.scrollY;
        const height = document.documentElement.scrollHeight - window.innerHeight;
        const progress = height > 0 ? (scrollY / height) * 100 : 0;
        if (tclProgressBar) tclProgressBar.style.width = progress + '%';
    }
    
    // Scroll listener
    window.addEventListener('scroll', function() {
        updateProgress();
        updateActiveSection();
    }, { passive: true });
    
    // Clic sur navigation flottante
    tclNavLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const target = document.getElementById(targetId);
            if (target) {
                window.scrollTo({ top: target.offsetTop - 80, behavior: 'smooth' });
            }
        });
    });
    
    // Clic sur fl√®che scroll
    if (tclScrollIndicator) {
        tclScrollIndicator.addEventListener('click', function(e) {
            e.preventDefault();
            const firstSection = document.querySelector('.section') || document.getElementById(sectionConfig[0].id);
            if (firstSection) {
                window.scrollTo({ top: firstSection.offsetTop - 80, behavior: 'smooth' });
            }
        });
    }
    
    // Toggle th√®me
    if (tclThemeToggle) {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            const icon = tclThemeToggle.querySelector('i');
            if (icon) {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }
        
        tclThemeToggle.addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const icon = this.querySelector('i');
            
            if (currentTheme === 'dark') {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                if (icon) { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                if (icon) { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); }
            }
        });
    }
    
    // Init
    updateProgress();
    setTimeout(updateActiveSection, 200);
});
</script>
<style>
/* =============================================
   VARIABLES TYPIXCLIN HEADER (pr√©fixe tcl-)
   ============================================= */
:root {
    /* Couleurs TCL Header */
    --tcl-primary: #3b82f6;
    --tcl-primary-dark: #1d4ed8;
    --tcl-primary-light: #60a5fa;
    --tcl-primary-gradient: linear-gradient(135deg, #3b82f6, #2563eb);
    --tcl-accent: #8b5cf6;
    --tcl-accent-dark: #6d28d9;
    
    /* Grays */
    --tcl-gray-100: #f3f4f6;
    --tcl-gray-200: #e5e7eb;
    --tcl-gray-300: #d1d5db;
    --tcl-gray-500: #6b7280;
    --tcl-gray-600: #4b5563;
    --tcl-gray-700: #374151;
    --tcl-gray-800: #1f2937;
    --tcl-gray-900: #111827;
    
    /* Shadows */
    --tcl-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --tcl-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --tcl-shadow-blue: 0 10px 25px -5px rgba(59, 130, 246, 0.5);
    
    /* Transitions */
    --tcl-transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --tcl-transition-bounce: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
    
    /* Fonts */
    --tcl-font-display: 'Outfit', system-ui, -apple-system, sans-serif;
    --tcl-font-body: 'Space Grotesk', system-ui, -apple-system, sans-serif;
    
    /* Dimensions */
    --tcl-header-height: 70px;
}

/* Dark theme variables */
[data-theme="dark"] {
    --tcl-primary: #60a5fa;
    --tcl-primary-dark: #3b82f6;
    --tcl-primary-light: #93c5fd;
    --tcl-primary-gradient: linear-gradient(135deg, #60a5fa, #3b82f6);
    --tcl-accent: #a78bfa;
    --tcl-shadow-blue: 0 10px 25px -5px rgba(96, 165, 250, 0.3);
}

/* =============================================
   BARRE DE PROGRESSION EN HAUT
   ============================================= */
.tcl-progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    background: var(--tcl-primary-gradient);
    width: 0%;
    z-index: 1002;
    transition: width 0.1s ease;
}

/* =============================================
   HEADER PRINCIPAL
   ============================================= */
.tcl-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--tcl-header-height);
    z-index: 100;
    transition: transform var(--tcl-transition-normal), background-color var(--tcl-transition-normal), box-shadow var(--tcl-transition-normal);
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: var(--tcl-shadow-md);
}

[data-theme="dark"] .tcl-header {
    background-color: rgba(30, 41, 59, 0.95);
}

.tcl-header-container {
    height: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Logo */
.tcl-logo {
    font-family: var(--tcl-font-display);
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--tcl-primary);
    letter-spacing: -0.05em;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    transition: transform var(--tcl-transition-normal);
}

.tcl-logo:hover {
    transform: scale(1.02);
}

.tcl-logo-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background: var(--tcl-primary-gradient);
    border-radius: 0.5rem;
    color: white;
    font-size: 1.5rem;
}

.tcl-logo:hover .tcl-logo-icon {
    animation: tcl-pulse 1s infinite;
}

@keyframes tcl-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Navigation */
.tcl-nav {
    display: flex;
    align-items: center;
}

.tcl-nav-items {
    display: flex;
    list-style: none;
    gap: 2rem;
    margin: 0;
    padding: 0;
}

.tcl-nav-link {
    font-family: var(--tcl-font-body);
    font-weight: 500;
    color: var(--tcl-gray-700);
    transition: color var(--tcl-transition-normal), transform var(--tcl-transition-normal);
    position: relative;
    text-decoration: none;
    padding: 0.5rem 0;
}

[data-theme="dark"] .tcl-nav-link {
    color: var(--tcl-gray-300);
}

.tcl-nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--tcl-primary-gradient);
    transition: width var(--tcl-transition-normal);
}

.tcl-nav-link:hover {
    color: var(--tcl-primary);
    transform: translateY(-2px);
}

.tcl-nav-link:hover::after {
    width: 100%;
}

/* Dropdown Menu */
.tcl-nav-dropdown {
    position: relative;
}

.tcl-nav-tools {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
}

.tcl-dropdown-icon {
    font-size: 0.75rem;
    transition: transform 0.3s ease;
}

.tcl-nav-dropdown:hover .tcl-dropdown-icon {
    transform: rotate(180deg);
}

.tcl-nav-dropdown-content {
    position: absolute;
    top: 100%;
    left: -10px;
    background: white;
    min-width: 220px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.tcl-nav-dropdown:hover .tcl-nav-dropdown-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(5px);
}

.tcl-dropdown-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    color: var(--tcl-gray-700);
    text-decoration: none;
    transition: all 0.2s ease;
    font-family: var(--tcl-font-body);
}

.tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-100);
    color: var(--tcl-primary);
}

.tcl-dropdown-item.active {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--tcl-primary);
    font-weight: 500;
}

[data-theme="dark"] .tcl-nav-dropdown-content {
    background: var(--tcl-gray-800);
    border-color: var(--tcl-gray-700);
}

[data-theme="dark"] .tcl-dropdown-item {
    color: var(--tcl-gray-300);
}

[data-theme="dark"] .tcl-dropdown-item:hover {
    background-color: var(--tcl-gray-700);
    color: var(--tcl-primary-light);
}

/* Bouton Fiche ECG sp√©cial */
.tcl-nav-link-special {
    background-color: #7c3aed;
    border: 2px solid #7c3aed;
    border-radius: 8px;
    padding: 8px 16px !important;
    color: white !important;
    font-weight: 600;
    transition: all 0.3s ease;
    position: relative !important;
    top: 4px !important;
}

.tcl-nav-link-special:hover {
    background-color: #9d70f8;
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.tcl-nav-link-special::after {
    display: none;
}

[data-theme="dark"] .tcl-nav-link-special {
    background-color: rgba(139, 92, 246, 0.2);
    border-color: #8b5cf6;
    color: #c4b5fd !important;
}

[data-theme="dark"] .tcl-nav-link-special:hover {
    background-color: #8b5cf6;
    color: white !important;
}

/* Theme Toggle */
.tcl-theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: var(--tcl-gray-100);
    border-radius: 50%;
    color: var(--tcl-gray-600);
    font-size: 1.25rem;
    cursor: pointer;
    margin-left: 1.5rem;
    transition: all var(--tcl-transition-normal);
    border: none;
}

[data-theme="dark"] .tcl-theme-toggle {
    background: var(--tcl-gray-700);
    color: var(--tcl-gray-300);
}

.tcl-theme-toggle:hover {
    background: var(--tcl-primary-light);
    color: white;
    transform: rotate(15deg);
}

/* Mobile menu button */
.tcl-mobile-menu-btn {
    display: none;
    font-size: 1.5rem;
    color: var(--tcl-gray-700);
    background: none;
    border: none;
    cursor: pointer;
    transition: color var(--tcl-transition-normal);
}

.tcl-mobile-menu-btn:hover {
    color: var(--tcl-primary);
}

/* =============================================
   NAVIGATION FLOTTANTE LAT√âRALE
   ============================================= */
nav.tcl-floating-nav {
    position: fixed !important;
    right: 20px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 15px !important;
    z-index: 99 !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    padding: 15px 12px !important;
    border-radius: 1rem !important;
    box-shadow: var(--tcl-shadow-lg) !important;
    border: 1px solid var(--tcl-gray-200) !important;
    transition: all var(--tcl-transition-normal) !important;
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
}

[data-theme="dark"] nav.tcl-floating-nav {
    background: rgba(30, 41, 59, 0.95) !important;
    border-color: var(--tcl-gray-700) !important;
}

nav.tcl-floating-nav:hover {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15) !important;
    transform: translateY(-50%) translateX(-5px) !important;
}

a.tcl-nav-indicator {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
    text-decoration: none !important;
    color: var(--tcl-gray-600) !important;
    font-family: var(--tcl-font-body) !important;
    font-weight: 500 !important;
    font-size: 0.9rem !important;
    transition: all var(--tcl-transition-normal) !important;
    padding: 10px 14px !important;
    border-radius: 0.5rem !important;
    background: transparent !important;
    border: none !important;
    width: auto !important;
    height: auto !important;
}

[data-theme="dark"] a.tcl-nav-indicator {
    color: var(--tcl-gray-400) !important;
}

a.tcl-nav-indicator:hover {
    background-color: rgba(59, 130, 246, 0.1) !important;
    color: var(--tcl-primary) !important;
    transform: none !important;
}

a.tcl-nav-indicator.active {
    color: var(--tcl-primary) !important;
    font-weight: 600 !important;
    background-color: rgba(59, 130, 246, 0.1) !important;
}

a.tcl-nav-indicator.active .tcl-nav-dot {
    transform: translateY(-50%) scale(1) !important;
    opacity: 1 !important;
}

.tcl-nav-indicator .tcl-nav-icon {
    font-size: 18px !important;
    width: 24px !important;
    text-align: center !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.tcl-nav-dot {
    position: absolute !important;
    left: 0 !important;
    top: 50% !important;
    transform: translateY(-50%) scale(0) !important;
    width: 4px !important;
    height: 20px !important;
    border-radius: 2px !important;
    background: var(--tcl-primary-gradient) !important;
    transition: all var(--tcl-transition-bounce) !important;
    opacity: 0 !important;
}

.tcl-nav-label {
    white-space: nowrap !important;
    font-size: 12px !important;
    max-width: 70px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}
/* =============================================
   INDICATEUR DE SECTION EN BAS
   ============================================= */
.tcl-section-indicator {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: white;
    border-radius: 50px;
    padding: 12px 30px;
    box-shadow: var(--tcl-shadow-lg);
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    transition: all var(--tcl-transition-bounce);
    z-index: 90;
    border: 2px solid var(--tcl-primary-light);
}

[data-theme="dark"] .tcl-section-indicator {
    background: var(--tcl-gray-800);
    border-color: var(--tcl-primary);
}

.tcl-section-indicator.visible {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
}

.tcl-section-indicator-icon {
    color: var(--tcl-primary);
    font-size: 1.2rem;
}

.tcl-section-indicator-text {
    color: var(--tcl-gray-800);
    font-weight: 600;
    font-family: var(--tcl-font-display);
}

[data-theme="dark"] .tcl-section-indicator-text {
    color: white;
}

/* =============================================
   HERO SECTION
   ============================================= */
.tcl-hero {
    padding-top: calc(var(--tcl-header-height) + 3rem);
    padding-bottom: 4rem;
    background: linear-gradient(135deg, rgba(239, 246, 255, 0.9) 0%, rgba(219, 234, 254, 0.9) 100%);
    overflow: hidden;
    position: relative;
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

[data-theme="dark"] .tcl-hero {
    background: linear-gradient(135deg, rgba(17, 24, 39, 0.9) 0%, rgba(31, 41, 55, 0.9) 100%);
}

.tcl-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2000 1500'%3E%3Cdefs%3E%3Ccircle id='a' fill='none' stroke='%233b82f6' stroke-width='1' stroke-opacity='.1' r='300'/%3E%3C/defs%3E%3Cuse href='%23a' transform='translate(0 0)'/%3E%3Cuse href='%23a' transform='translate(300 200)'/%3E%3Cuse href='%23a' transform='translate(600 0)'/%3E%3Cuse href='%23a' transform='translate(900 200)'/%3E%3Cuse href='%23a' transform='translate(1200 0)'/%3E%3Cuse href='%23a' transform='translate(1500 200)'/%3E%3Cuse href='%23a' transform='translate(0 400)'/%3E%3Cuse href='%23a' transform='translate(300 600)'/%3E%3Cuse href='%23a' transform='translate(600 400)'/%3E%3Cuse href='%23a' transform='translate(900 600)'/%3E%3Cuse href='%23a' transform='translate(1200 400)'/%3E%3C/svg%3E");
    background-size: cover;
    opacity: 0.5;
    z-index: 0;
}

.tcl-hero-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-items: center;
    text-align: center;
    position: relative;
    z-index: 1;
}

.tcl-hero-content {
    max-width: 800px;
    animation: tcl-fadeInUp 0.6s ease-out forwards;
}

@keyframes tcl-fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.tcl-hero-title {
    font-family: var(--tcl-font-display);
    font-size: 3rem;
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    background: var(--tcl-primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.tcl-hero-subtitle {
    font-family: var(--tcl-font-body);
    font-size: 1.15rem;
    color: var(--tcl-gray-600);
    margin-bottom: 2rem;
    line-height: 1.7;
}

[data-theme="dark"] .tcl-hero-subtitle {
    color: var(--tcl-gray-400);
}

/* Navigation des outils */
.tcl-tool-navigation {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 1rem;
    margin-top: 2rem;
    width: 100%;
    max-width: 900px;
}

.tcl-tool-link {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 1.25rem 0.75rem;
    border-radius: 1rem;
    background: white;
    box-shadow: var(--tcl-shadow-md);
    transition: all var(--tcl-transition-bounce);
    color: var(--tcl-gray-800);
    text-decoration: none;
    position: relative;
    overflow: hidden;
}

[data-theme="dark"] .tcl-tool-link {
    background: var(--tcl-gray-800);
    color: var(--tcl-gray-200);
}

.tcl-tool-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: var(--tcl-primary-gradient);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--tcl-transition-normal);
}

.tcl-tool-link:hover {
    transform: translateY(-8px);
    box-shadow: var(--tcl-shadow-lg);
}

.tcl-tool-link:hover::before {
    transform: scaleX(1);
}

.tcl-tool-link.active {
    background: var(--tcl-primary-gradient);
    color: white;
    transform: translateY(-5px);
    box-shadow: var(--tcl-shadow-blue);
}

.tcl-tool-link.active::before {
    display: none;
}

.tcl-tool-icon {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
    transition: transform var(--tcl-transition-normal);
}

.tcl-tool-link:hover .tcl-tool-icon {
    transform: scale(1.2);
}

.tcl-tool-text {
    font-family: var(--tcl-font-body);
    font-size: 0.8rem;
    font-weight: 600;
}

/* Scroll indicator */
.tcl-scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    animation: tcl-bounce 2s infinite;
    color: var(--tcl-primary);
    font-size: 1.75rem;
    cursor: pointer;
    z-index: 5;
    width: 50px;
    height: 50px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--tcl-shadow-md);
    transition: all var(--tcl-transition-normal);
    text-decoration: none;
}

[data-theme="dark"] .tcl-scroll-indicator {
    background: var(--tcl-gray-800);
}

.tcl-scroll-indicator:hover {
    background: var(--tcl-primary);
    color: white;
    transform: translateY(-5px) translateX(-50%);
    box-shadow: var(--tcl-shadow-blue);
}

@keyframes tcl-bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
    }
    40% {
        transform: translateY(-15px) translateX(-50%);
    }
    60% {
        transform: translateY(-8px) translateX(-50%);
    }
}

/* =============================================
   RESPONSIVE
   ============================================= */
@media (max-width: 1200px) {
    .tcl-tool-navigation {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 992px) {
    .tcl-hero-title {
        font-size: 2.5rem;
    }
    
    .tcl-nav-items {
        gap: 1.5rem;
    }
}

@media (max-width: 768px) {
    .tcl-header {
        height: 60px;
    }
    
    .tcl-nav-items {
        display: none;
    }
    
    .tcl-mobile-menu-btn {
        display: block;
    }
    
    .tcl-theme-toggle {
        margin-left: 1rem;
    }
    
    .tcl-hero {
        padding-top: calc(60px + 2rem);
        min-height: auto;
        padding-bottom: 3rem;
    }
    
    .tcl-hero-title {
        font-size: 2rem;
    }
    
    .tcl-hero-subtitle {
        font-size: 1rem;
    }
    
    .tcl-tool-navigation {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .tcl-floating-nav {
        bottom: 20px;
        top: auto;
        right: 20px;
        transform: translateY(0);
        flex-direction: row;
        padding: 10px;
    }
    
    .tcl-floating-nav:hover {
        transform: translateY(0) translateX(0);
    }
    
    .tcl-nav-label {
        display: none;
    }
    
    .tcl-nav-dot {
        display: none;
    }
    
    .tcl-section-indicator {
        padding: 8px 15px;
        max-width: calc(100% - 40px);
    }
    
    .tcl-section-indicator-text {
        font-size: 0.9rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .tcl-scroll-indicator {
        display: none;
    }
}

@media (max-width: 480px) {
    .tcl-hero-title {
        font-size: 1.75rem;
    }
    
    .tcl-tool-link {
        padding: 1rem 0.5rem;
    }
    
    .tcl-tool-icon {
        font-size: 1.5rem;
    }
    
    .tcl-tool-text {
        font-size: 0.7rem;
    }
    
    .tcl-logo {
        font-size: 1.4rem;
    }
    
    .tcl-logo-icon {
        width: 2rem;
        height: 2rem;
        font-size: 1.2rem;
    }
}

/* Espacement pour le contenu principal apr√®s le hero */
.tcl-main-content {
    padding-top: 2rem;
}

/* Ajustement du scroll pour les ancres */
section[id] {
    scroll-margin-top: calc(var(--tcl-header-height) + 20px);
}



@media (max-width: 768px) {
    nav.tcl-floating-nav {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }
}

@media (max-width: 768px) {
    .tcl-nav-items {
        display: none;
    }

</style>



<!-- Styles pour les deux sticky wrappers -->
<style>
/* Style original pour le premier sticky wrapper */
.sticky-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1001; /* Z-index plus √©lev√© que le second sticky wrapper */
    transform: translateY(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    padding: 0.2rem 0.3rem;
    opacity: 0;
    pointer-events: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

/* Style pour le sticky wrapper du titre de section */
.section-title-wrapper {
    position: fixed;
    top: 60px; /* Position juste en dessous du premier sticky wrapper */
    left: 0;
    right: 0;
    z-index: 1000;
    transform: translateY(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
    background: linear-gradient(135deg, #2563eb, #1e40af);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    padding: 0.5rem;
    opacity: 0;
    pointer-events: none;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.section-title-container {
    max-width: 1160px;
    width: 100%;
    margin: 0 auto;
    padding: 0 1rem;
    display: flex;
    justify-content: center;
}

/* Style du titre pour qu'il s'accorde avec le fond bleu */
.section-title-wrapper h2 {
    margin: 0;
    font-size: 1.2rem;
    color: white; /* Texte blanc pour contraster avec le fond bleu */
    font-weight: 600;
    text-align: center;
    transition: all 0.3s ease;
    background-color: rgba(255, 255, 255, 0.1); /* Fond l√©g√®rement plus clair */
    padding: 0.25rem 1.5rem;
    border-radius: 0.5rem;
    display: inline-block;
}

/* Pour le mode sombre */
[data-theme="dark"] .section-title-wrapper {
    background: linear-gradient(135deg, #1e40af, #0f2167);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .section-title-wrapper h2 {
    color: white;
    background-color: rgba(255, 255, 255, 0.15);
}

/* Classes visible pour les deux sticky wrappers */
.sticky-wrapper.visible {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
}

.section-title-wrapper.visible {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
}

/* Style pour l'indicateur visuel sur l'onglet actif */
.nav-link {
    position: relative;
}

.nav-link.active::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: 6px;
    background-color: white;
    border-radius: 50%;
    opacity: 0.8;
    transition: all 0.3s ease;
}

/* Animation pour l'apparition du point */
@keyframes pointAppear {
    from {
        opacity: 0;
        transform: translateX(-50%) scale(0);
    }
    to {
        opacity: 0.8;
        transform: translateX(-50%) scale(1);
    }
}

.nav-link.active::after {
    animation: pointAppear 0.3s ease forwards;
}

/* Adaptation pour le mode sombre */
[data-theme="dark"] .nav-link.active::after {
    background-color: white;
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.5);
}

/* Styles responsifs */
@media (max-width: 768px) {
    .sticky-wrapper,
    .section-title-wrapper {
        display: none;
    }
}
</style>

<!-- Script pour g√©rer le comportement des deux sticky wrappers -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const stickyWrapper = document.querySelector('.sticky-wrapper');
    const sectionTitleWrapper = document.querySelector('.section-title-wrapper');
    const header = document.querySelector('header:not(.sticky-wrapper header)'); // Le header principal, pas celui du sticky
    const currentSectionTitle = document.getElementById('current-section-title');
    const navLinks = document.querySelectorAll('.nav-link');
    let isSticky = false;
    let isSectionTitleVisible = false;
    
    // Configuration de l'offset d'anticipation (en pixels)
    const ANTICIPATION_OFFSET = 200;
    
    // Cr√©er un tableau des sections avec leurs positions
    const sectionPositions = [];
    
    function updateSectionPositions() {
        sectionPositions.length = 0;
        
        // Ajouter chaque section avec son ID et sa position
        const sectionContainers = document.querySelectorAll('section[id]');
        sectionContainers.forEach(section => {
            const id = section.getAttribute('id');
            // Trouver le premier √©l√©ment .section qui suit notre section anchor
            const sectionElement = section.nextElementSibling;
            let title = id; // Titre par d√©faut si on ne trouve pas la section header
            
            // Si on a trouv√© la section, chercher son header
            if (sectionElement && sectionElement.classList.contains('section')) {
                const sectionHeader = sectionElement.querySelector('.section-header h3');
                if (sectionHeader) {
                    title = sectionHeader.textContent;
                }
            }
            
            // Chercher le titre complet dans les attributs data-section-title des liens de navigation
            const navLink = document.querySelector(`.nav-link[href="#${id}"]`);
            let fullTitle = title;
            if (navLink && navLink.getAttribute('data-section-title')) {
                fullTitle = navLink.getAttribute('data-section-title');
            }
            
            sectionPositions.push({
                id: id,
                position: section.offsetTop,
                title: fullTitle
            });
        });
        
        // Trier par position (du haut de la page vers le bas)
        sectionPositions.sort((a, b) => a.position - b.position);
    }
    
    function handleScroll() {
        if (window.innerWidth <= 768) {
            // Cacher les deux wrappers sur mobile
            if (stickyWrapper) stickyWrapper.classList.remove('visible');
            if (sectionTitleWrapper) sectionTitleWrapper.classList.remove('visible');
            return;
        }
        
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const threshold = header ? header.offsetTop + header.offsetHeight : 300;
        
        // G√©rer l'affichage du premier sticky wrapper
        if (scrollTop > threshold && !isSticky) {
            if (stickyWrapper) {
                stickyWrapper.classList.add('visible');
                isSticky = true;
            }
        } else if (scrollTop <= threshold && isSticky) {
            if (stickyWrapper) {
                stickyWrapper.classList.remove('visible');
                isSticky = false;
            }
        }
        
        // D√©terminer la section actuelle bas√©e sur la position de d√©filement
        let currentSection = null;
        
        // Parcourir les sections du bas vers le haut de la page
        for (let i = sectionPositions.length - 1; i >= 0; i--) {
            // Si la position de d√©filement + zone d'anticipation d√©passe la position de la section
            if (scrollTop + ANTICIPATION_OFFSET >= sectionPositions[i].position) {
                currentSection = sectionPositions[i];
                break;
            }
        }
        
        // Si aucune section n'est trouv√©e, utiliser la premi√®re
        if (!currentSection && sectionPositions.length > 0) {
            currentSection = sectionPositions[0];
        }
        
        // Mettre √† jour le titre de la section actuelle et afficher le second sticky wrapper
        if (currentSection) {
            // Mettre √† jour le titre
            if (currentSectionTitle) {
                currentSectionTitle.textContent = currentSection.title;
            }
            
            // Afficher le wrapper du titre de section si on n'est pas tout en haut de la page
            if (scrollTop > threshold + 50) {
                // Ajouter un d√©calage suppl√©mentaire pour ne pas le montrer imm√©diatement apr√®s le premier wrapper
                if (!isSectionTitleVisible) {
                    sectionTitleWrapper.classList.add('visible');
                    isSectionTitleVisible = true;
                }
            } else {
                // Cacher le wrapper du titre pr√®s du haut de la page
                if (isSectionTitleVisible) {
                    sectionTitleWrapper.classList.remove('visible');
                    isSectionTitleVisible = false;
                }
            }
            
            // Mettre √† jour la classe active sur les liens de navigation
            navLinks.forEach(link => {
                if (link.getAttribute('href') === `#${currentSection.id}`) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
    }
    
    // Mettre √† jour les positions des sections lors du chargement et du redimensionnement
    window.addEventListener('load', updateSectionPositions);
    window.addEventListener('resize', updateSectionPositions);
    
    // G√©rer le d√©filement pour mettre √† jour le titre et l'affichage
    window.addEventListener('scroll', handleScroll);
    
    // Initialiser l'√©tat au chargement
    updateSectionPositions();
    handleScroll();
    
    // Ajouter des √©couteurs d'√©v√©nements aux liens de navigation
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            const sectionTitle = this.getAttribute('data-section-title');
            if (sectionTitle && currentSectionTitle) {
                currentSectionTitle.textContent = sectionTitle;
                
                // Mettre √† jour la classe active
                navLinks.forEach(navLink => navLink.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });
});



function scrollToTop(event) {
    event.preventDefault();
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}



// Fonction pour basculer la visibilit√© d'une section
function toggleSection(button) {
    const section = button.closest('.section');
    const content = section.querySelector('.section-content');
    const isHidden = !content.classList.contains('hidden');
    
    content.classList.toggle('hidden');
    
    // Mise √† jour du texte et de l'ic√¥ne du bouton
    if (isHidden) {
        button.innerHTML = '<i class="fas fa-eye"></i> Afficher';
    } else {
        button.innerHTML = '<i class="fas fa-eye-slash"></i> Masquer';
    }
    
    section.setAttribute('data-hidden', isHidden);
    
    // Ajout d'une classe pour animer l'ic√¥ne lors du changement
    button.classList.add('icon-transition');
    setTimeout(() => {
        button.classList.remove('icon-transition');
    }, 300);
}

// Initialiser les boutons au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const toggleButtons = document.querySelectorAll('.toggle-button:not(.ficheECG):not([onclick*="reset"])');
    
    toggleButtons.forEach(button => {
        if (button.textContent.trim() === 'Masquer') {
            button.innerHTML = '<i class="fas fa-eye-slash"></i> Masquer';
        } else if (button.textContent.trim() === 'Afficher') {
            button.innerHTML = '<i class="fas fa-eye"></i> Afficher';
        }
    });
});

// Ajouter les ic√¥nes aux boutons de r√©initialisation
document.addEventListener('DOMContentLoaded', function() {
  // Trouver tous les boutons de r√©initialisation
  const resetButtons = document.querySelectorAll('.toggle-button[onclick*="reset"]');
  
  // Ajouter l'ic√¥ne Font Awesome √† chaque bouton
  resetButtons.forEach(button => {
    if (button.textContent.trim() === 'R√©initialiser') {
      button.innerHTML = '<i class="fas fa-sync-alt"></i> R√©initialiser';
    }
  });
  
  // Intercepter les clics sur les boutons de r√©initialisation pour ajouter l'animation
  resetButtons.forEach(button => {
    button.addEventListener('click', function() {
      const icon = this.querySelector('.fa-sync-alt');
      if (icon) {
        icon.classList.add('spinning');
        setTimeout(() => {
          icon.classList.remove('spinning');
        }, 800);
      }
      
      // Cr√©er un √©l√©ment pour la notification de r√©initialisation
      const notification = document.createElement('div');
      notification.textContent = 'R√©initialisation effectu√©e !';
      notification.style.position = 'fixed';
      notification.style.right = '20px';
      notification.style.bottom = '100px';
      notification.style.padding = '10px 20px';
      notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
      notification.style.color = 'white';
      notification.style.borderRadius = '5px';
      notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
      notification.style.zIndex = '1000';
      notification.style.fontWeight = '500';
      notification.style.opacity = '0';
      notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
      notification.style.transform = 'translateY(20px)';
      
      // Ajuster pour le mode sombre
      if (document.documentElement.getAttribute('data-theme') === 'dark') {
        notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
      }
      
      // Ajouter au DOM
      document.body.appendChild(notification);
      
      // Animation d'apparition
      setTimeout(() => {
        notification.style.opacity = '1';
        notification.style.transform = 'translateY(0)';
      }, 10);
      
      // Retirer la notification apr√®s l'animation
      setTimeout(() => {
        // Faire dispara√Ætre la notification
        notification.style.opacity = '0';
        notification.style.transform = 'translateY(-20px)';
        
        // Supprimer du DOM apr√®s la disparition
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 1500);
    });
  });
});

</script>


    <style>
	
	/* Animation pour l'ic√¥ne de r√©initialisation */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.spinning {
  animation: spin 0.8s ease-in-out;
}

/* Effets de survol pour les boutons de navigation */
.container a:not([href="gds.html"]):hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.container a:not([href="gds.html"]):before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #2563eb, #1e40af);
    transform: scaleX(0);
    transition: transform 0.3s ease;
    transform-origin: left;
}

.container a:not([href="gds.html"]):hover:before {
    transform: scaleX(1);
}

/* Style sp√©cifique pour les ic√¥nes au survol */
.container a:hover div:first-child {
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Responsive */
@media (max-width: 768px) {
    .container div {
        grid-template-columns: 1fr;
    }
}


	
/* Variables */
:root {
    --primary-color: #2563eb;
    --secondary-color: #1e40af;
    --background-color: #f8fafc;
    --text-color: #1e293b;
    --border-color: #e2e8f0;
    --input-background: #ffffff;
    --hover-color: #3b82f6;
}

/* Base styles */
body {
    font-family: 'Inter', -apple-system, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    line-height: 1.5;
}

/* Scrollbar styles */
body::-webkit-scrollbar {
    width: 8px;
}

body::-webkit-scrollbar-track {
    background: var(--background-color);
}

body::-webkit-scrollbar-thumb {
    background-color: var(--secondary-color);
    border-radius: 4px;
}

/* Header styles */


h1 {
    font-size: 2.5rem;
    margin: 0;
    font-weight: 700;
}

h2 {
    font-size: 1.25rem;
    margin: 0.5rem 0;
    font-weight: 500;
    opacity: 0.9;
}

/* Navigation styles - Normal */
.main-nav {
    background-color: #e5e7eb;
    padding: 0.75rem 1rem;
    border-radius: 50px;
    width: 800px;
    margin: 0 auto 2rem auto;
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.nav-link {
    background-color: transparent;
    color: var(--text-color);
    padding: 0.75rem 3rem;
    border-radius: 50px;
    text-decoration: none;
    font-size: 1.2rem;
    font-weight: 700;
    width: 300px;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-link:hover {
    background-color: rgba(37, 99, 235, 0.1);
}

.nav-link.active {
    background-color: var(--primary-color);
    color: white;
}

/* Sticky header styles - COMPACT & OPTIMIZED */
section[id] {
    scroll-margin-top: 150px; /* Ajustez cette valeur selon la hauteur de votre sticky header */
}

.sticky-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    transform: translateY(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    padding: 0.2rem 0.3rem; /* R√©duction de la hauteur */
    opacity: 0;
    pointer-events: none;
    display: flex;
    flex-direction: column;
    align-items: center;
	    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

}

/* When visible */
.sticky-wrapper.visible {
    transform: translateY(0);
    opacity: 1;
    pointer-events: all;
}

/* Header Styling */

/* Par ceci : */
.header h1,
.sticky-wrapper h1 {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-weight: 800;
    color: white;
    text-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin: 0;
}


.sticky-wrapper h1 {
    font-size: 1.8rem;
    letter-spacing: 1px;
    text-align: center;
    width: 100%;
    position: relative;
    z-index: 2;
}


/* Barre blanche sous le titre */
.separator-bar {
    width: 80%;
    height: 2px;
    background: white;
    margin: 0.3rem auto; /* Espacement r√©duit */
    border-radius: 1px;
}

/* Navigation Bar - SINGLE LINE */
.main-nav2 {
    display: flex;
    justify-content: center;
    gap: 0.4rem; /* R√©duction de l‚Äôespace entre les ic√¥nes */
    padding: 0.3rem 0;
    margin: 0 auto;
    width: 100%;
    max-width: 900px;
}

/* Navigation Buttons - SMALL ICONS ONLY */
.nav-link {
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: white;
    font-size: 0.6rem; /* Taille des ic√¥nes ajust√©e */
    padding: 0.4rem; /* Moins de padding */
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transition: background 0.3s ease, transform 0.2s ease;
    width: 2rem; /* Carr√© compact */
    height: 2rem;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.4);
    transform: scale(1.1);
}

/* Ajustement des ic√¥nes */
.nav-link span {
    font-size: 1.4rem; /* Taille ajust√©e */
}


/* Container and Section styles */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
    box-sizing: border-box;
}


.section h4 {
    color: var(--secondary-color);
    font-size: 1.1rem;
    margin: 1rem 0;
}

.icon {
    font-size: 1.5rem;
    color: var(--secondary-color);
}

/* Buttons */
.toggle-button {
    background-color: #1e40af;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    color: white;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s;
    margin-left: 10px;
}

.toggle-button:hover {
    background-color: #3b82f6;
}

.button-container {
    display: flex;
    gap: 10px;
}

/* Form Elements */

/* Style de base pour les inputs texte */
input[type="text"] {
    padding: 0.4rem 0.8rem;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    font-size: 0.9rem;
    transition: all 0.2s ease;
    background-color: white;
    color: #1e293b;
}

/* Style sp√©cifique pour les petits inputs */
input[type="text"].small {
    width: 60px;
}

/* Style sp√©cifique pour les inputs moyens */
input[type="text"].medium {
    width: 120px;
}

/* Style sp√©cifique pour les grands inputs */
input[type="text"].large {
    width: 300px;
}

/* Effet de survol */
input[type="text"]:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Style de focus */
input[type="text"]:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

/* Style pour les inputs en lecture seule */
input[type="text"][readonly] {
    background-color: #f8fafc;
    border-color: #e2e8f0;
    cursor: not-allowed;
}

/* Style pour les inputs avec fond color√© (comme pour le QTc normal) */
input[type="text"].success {
    background-color: #dcfce7;
    color: #16a34a;
    border-color: #86efac;
}

/* Style pour les inputs avec fond d'erreur (comme pour le QTc anormal) */
input[type="text"].error {
    background-color: #fee2e2;
    color: #dc2626;
    border-color: #fca5a5;
}

/* Placeholder style */
input[type="text"]::placeholder {
    color: #94a3b8;
    opacity: 1;
}

textarea {
    width: 100%;
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-size: 1rem;
    resize: vertical;
    min-height: 150px;
    font-family: 'Calibri', 'Segoe UI', 'Arial', sans-serif;
    line-height: 1.6;
    background-color: #fafafa;
    letter-spacing: 0.3px;
    color: #2d3748;
}

/* Section Content Animations */
.section-content {
    max-height: 20000px;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out;
    opacity: 1;
}

.section-content.hidden {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
    margin-bottom: 0;
}

/* Animations de base */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


/* Style du header */
.header {
    opacity: 0;
    animation: fadeIn 0.8s ease-out forwards;
}

/* Style des boutons de navigation */
.nav-button {
    opacity: 0;
    animation: fadeInUp 0.5s ease-out forwards;
}

.nav-button:nth-of-type(1) {
    animation-delay: 0.1s;
}

.nav-button:nth-of-type(2) {
    animation-delay: 0.2s;
}

.nav-button:nth-of-type(3) {
    animation-delay: 0.3s;
}

.nav-button:nth-of-type(4) {
    animation-delay: 0.4s;
}
.nav-button:nth-of-type(5) {
    animation-delay: 0.5s;
}
.nav-button:nth-of-type(6) {
    animation-delay: 0.6s;
}

/* Style des sections */
.section {
    opacity: 0;
    animation: fadeInUp 0.5s ease-out forwards;
}

.section:nth-of-type(1) {
    animation-delay: 0.4s;
}

.section:nth-of-type(2) {
    animation-delay: 0.5s;
}

.section:nth-of-type(3) {
    animation-delay: 0.6s;
}



/* Responsive styles - UPDATED */
@media (max-width: 1024px) {
    .main-nav,
    .sticky-wrapper .main-nav {
        width: 95%;
    }
}


@media (max-width: 768px) {
    .sticky-wrapper {
        display: none;
    }

    .main-nav {
        width: 90%;
        padding: 0.5rem;
        gap: 0.5rem;
        flex-direction: column;
        box-sizing: border-box;
    }

    .nav-link {
        width: 100%;
        padding: 0.5rem 0;
        font-size: 1rem;
        margin: 0;
        box-sizing: border-box;
    }

    .section-header {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        text-align: center;
        padding: 1rem;
    }

    .section-header h3 {
        margin-bottom: 10px;
        justify-content: center;
        width: 100%;
        text-align: center;
    }

    .button-group {
        display: flex;
        gap: 10px;
        justify-content: center;
        width: 100%;
    }
}

@media (max-width: 480px) {
    .main-nav {
        width: 90%;
        padding: 0.5rem;
    }

    .nav-link {
        font-size: 0.95rem;
        padding: 0.5rem 0;
    }

    .button-group {
        flex-direction: row;
        gap: 8px;
    }

    .toggle-button {
        font-size: 13px;
        padding: 6px 12px;
        min-width: auto;
    }
}

/* AJOUTEZ ces nouveaux styles */
.section {
    background: white;
    border-radius: 1rem;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    margin-bottom: 1.5rem;
}

.section:hover {
    box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
    transform: translateY(-10px);
}

.section-header {
    background: linear-gradient(135deg, #2563eb, #1e40af);
    padding: 1.25rem 1.5rem;
    border-radius: 0;
    margin: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: none;
    box-shadow: none;
}

.section-header h3 {
    color: white;
    font-size: 1.25rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.section-header .icon {
    color: white;
}

.section-content {
    padding: 1.5rem;
}

.subsection {
    background: #f8fafc;
    border-radius: 0.75rem;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
    border: 1px solid #e5e7eb;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.subsection:hover {
    background: #f1f5f9;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.subsection:last-child {
    margin-bottom: 0;
}

.subsection h4 {
    color: #1e40af;
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #e2e8f0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.toggle-button {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 0.3s ease;
    color: white;
    margin-left: 0.5rem;
}

.toggle-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

/* Styles communs pour les conteneurs de radio et checkbox */
.custom-control {
    position: relative;
    display: inline-flex;
    align-items: center;
    padding-left: 1.25rem;
    margin-right: 1rem;
    cursor: pointer;
    font-size: 0.9rem;
    user-select: none;
    transition: all 0.2s ease;
}

/* Cache l'input original */
.custom-control input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Style de base pour la checkbox et radio personnalis√©e */
.checkmark {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    height: 12px;
    width: 12px;
    background-color: #fff;
    border: 1px solid #2563eb;
    transition: all 0.2s ease;
}

/* Style sp√©cifique pour la radio */
.radio .checkmark {
    border-radius: 50%;
}

/* Style sp√©cifique pour la checkbox */
.checkbox .checkmark {
    border-radius: 2px;
}

/* Effet de survol sur le conteneur */
.custom-control:hover {
    color: #2563eb;
}

/* Effet de survol sur la marque */
.custom-control:hover .checkmark {
    background-color: rgba(37, 99, 235, 0.15);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
    transform: translateY(-50%) scale(1.1);
}

/* Style quand coch√© - commun */
.custom-control input:checked ~ .checkmark {
    background-color: #2563eb;
    border-color: #2563eb;
}

/* Style du point pour radio - petit point blanc centr√© */
.radio .checkmark:after {
    content: "";
    position: absolute;
    display: none;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: white;
}

/* Style du checkmark pour checkbox - style naturel */
.checkbox .checkmark:after {
    content: "";
    position: absolute;
    display: none;
    left: 3px;
    top: 0px;
    width: 3px;
    height: 7px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Affiche la marque quand coch√© */
.custom-control input:checked ~ .checkmark:after {
    display: block;
}

/* Animation de focus */
.custom-control input:focus ~ .checkmark {
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

/* Style d√©sactiv√© */
.custom-control.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

@media (max-width: 768px) {
  .custom-control {
    padding-left: 1.5rem;
    margin-right: 0.6rem;
    font-size: 0.85rem;
  }
  
  .checkmark {
    height: 10px;
    width: 10px;
    left: 3px;
  }
  
  .checkbox .checkmark:after {
    left: 2.5px;
    top: 0px;
    width: 2.5px;
    height: 6px;
  }
}

@media (max-width: 480px) {
  .custom-control {
    padding-left: 1.4rem;
    margin-right: 0.4rem;
    font-size: 0.8rem;
  }
  
  .checkbox, .radio {
    margin-bottom: 0.3rem;
  }
  
  div[style*="display: flex; flex-wrap: wrap"] label.custom-control {
    margin-bottom: 0.4rem;
  }
  
  .subsection p {
    margin-bottom: 0.6rem;
  }
}

@media (max-width: 768px) {
  .custom-control span.checkmark + span,
  .custom-control input + span + span {
    vertical-align: middle;
    line-height: 1.2;
  }
  
  .subsection label.custom-control {
    padding-right: 0.2rem;
  }
}

/* Styles pour la zone de texte g√©n√©r√© */
#generatedTextArea {
    background-color: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 1.5rem;
    min-height: 400px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    line-height: 1.5;
    color: #1e293b; /* Couleur de texte fonc√©e pour assurer la lisibilit√© */
    white-space: pre-wrap;
    overflow-y: auto;
}

#generatedTextArea div {
    margin-bottom: 0.5rem;
}

#generatedTextArea strong {
    font-weight: 600;
    color: #1e40af; /* Bleu fonc√© pour les titres en gras */
}

/* Animation pour l'apparition du texte */
@keyframes fadeInAnimation {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#generatedTextArea div {
    opacity: 0;
    animation: fadeInAnimation 0.5s ease-out forwards;
}



#THE_generatedTextArea {
    font-family: inherit;
    font-size: 0.95rem;
    line-height: 1.6;
    color: #1e293b;
    background-color: white;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    cursor: text;
    overflow-y: auto;
}

#THE_generatedTextArea:hover {
    border-color: #93c5fd;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

#THE_generatedTextArea:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

@keyframes fadeInContent {
    from {
        opacity: 0;
        transform: translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in {
    animation: fadeInContent 0.3s ease-out forwards;
}

/* Style pour le contenu HTML dans la zone de texte */
#THE_generatedTextArea strong {
    font-weight: 600;
    color: #1e40af;
}



/* Cibler uniquement les champs de texte longs */
@media (max-width: 900px) {
    /* Style uniquement pour les longues zones de texte */
    input[type="text"][style*="width: 300px"],
    input[type="text"][style*="width: 274px"] {
        width: 90% !important;
        max-width: 300px;
    }
    


@media (max-width: 480px) {
    input[type="text"][style*="width: 300px"],
    input[type="text"][style*="width: 274px"] {
        width: 85% !important;
    }
	
	
	
    
@keyframes blink {
    0% {
        border-color: #1e40af;
        box-shadow: 0 0 5px #1e40af;
    }
    50% {
        border-color: #dbeafe;
        box-shadow: 0 0 2px #dbeafe;
    }
    100% {
        border-color: #1e40af;
        box-shadow: 0 0 5px #1e40af;
    }
}

.blink {
    animation: blink 2s infinite;
    border-width: 2px !important;
}

.radio-group-blink {
    padding: 8px;
    border-radius: 8px;
    animation: radioBlink 2s infinite;
}

@keyframes radioBlink {
    0% {
        background-color: transparent;
        box-shadow: 0 0 5px transparent;
    }
    50% {
        background-color: rgba(30, 64, 175, 0.1);
        box-shadow: 0 0 5px rgba(30, 64, 175, 0.5);
    }
    100% {
        background-color: transparent;
        box-shadow: 0 0 5px transparent;
    }
}

    </style>
</head>
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />


<body>

			 <section id="Natr√©mie">
 </section>
 
<div class="tcl-main-content">

<div class="container THE-section">    
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">üíß</span>Analyse d'une hypo/hypernatr√©mie</h3>
            <div class="button-group">
			    <button class="toggle-button" onclick="analyzeTHENa()">Analyser</button>
				                <button class="toggle-button" onclick="resetNatremia()">R√©initialiser</button>

				<button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
				
            </div>
        </div>
        <div class="section-content">
		
<div class="subsection">
    <h4>Donn√©es</h4>
	
	    <div style="display: flex; flex-direction: column; gap: 10px;">
		
        <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Natr√©mie (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Na">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">135 - 145</span>
                <span id="Na-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		 <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Glyc√©mie (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Gly">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">3,5 - 8</span>
                <span id="Gly-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		 <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Osmolarit√© plasmatique (mosm/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" readonly id="Osmp" 
                    style="width: 50px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" 
                    class="small">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">280 - 290</span>
				        <span id="Osmp-status" style="font-weight: bold;"></span>

            </div>
        </div>
		

		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Natriur√®se (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Nau">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Nau-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Kaliur√®se (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ku">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ku-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Glycosurie (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Glyu">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Glyu-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Ur√©e urinaire (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ur√©eu">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ur√©eu-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Osmolarit√© urinaire (mosm/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" readonly id="Osmu" 
                    style="width: 50px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" 
                    class="small">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
				        <span id="Osmu-status" style="font-weight: bold;"></span>

            </div>
        </div>
		
		        <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Secteur extracellulaire :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 20px;">
                <label class="custom-control radio">
                    <input type="radio" name="secteur_ec" value="diminue">
                    <span class="checkmark"></span>
                    Diminu√©
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="secteur_ec" value="normal" checked>
                    <span class="checkmark"></span>
                    Normal
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="secteur_ec" value="augmente">
                    <span class="checkmark"></span>
                    Augment√©
                </label>
            </div>
        </div>
		
	<div id="deficitSection" style="display: none;">
	<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>Secteur intracellulaire :</strong></label>
</div>
    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 200px; min-width: 200px;">Sexe :</label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 20px;">
            <label class="custom-control radio">
                <input type="radio" name="sexe" value="homme" checked>
                <span class="checkmark"></span>
                Homme
            </label>
            <label class="custom-control radio">
                <input type="radio" name="sexe" value="femme">
                <span class="checkmark"></span>
                Femme
            </label>
        </div>
    </div>

    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 200px; min-width: 200px;">Type :</label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 20px;">
            <label class="custom-control radio">
                <input type="radio" name="type" value="adulte" checked>
                <span class="checkmark"></span>
                Adulte
            </label>
            <label class="custom-control radio">
                <input type="radio" name="type" value="age">
                <span class="checkmark"></span>
                √Çg√©
            </label>
            <label class="custom-control radio">
                <input type="radio" name="type" value="enfant">
                <span class="checkmark"></span>
                Enfant
            </label>
            <label class="custom-control radio">
                <input type="radio" name="type" value="nourrisson">
                <span class="checkmark"></span>
                Nourrisson
            </label>
        </div>
    </div>

    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 200px; min-width: 200px;">Poids (kg) :</label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" step="0.1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;" class="small" id="THE_poids">
        </div>
    </div>

    <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
        <label style="width: 200px; min-width: 200px;">D√©ficit en eau libre (L) :</label>
        <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
            <input type="number" readonly id="deficit" 
                style="width: 50px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" 
                class="small">
        </div>
    </div>
</div>
		
		</div>
		
		<style>
.norms-note {
    font-style: italic;
    color: #94a3b8;
    font-size: 0.8rem;
    text-align: right;
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid #e2e8f0;
}

/* Style pour le mode sombre */
[data-theme="dark"] .norms-note {
    color: #cbd5e1;
    border-top-color: #334155;
}
</style>

    <div class="norms-note">
        * Normes tir√©es des coll√®ges des enseignants, susceptibles de varier en fonction des laboratoires
    </div>
	
		</div>
		
				 <div class="subsection">
          <h4>Analyse pr√©liminaire natr√©mie</h4>
    
    <div id="analysisStepsNa" class="analysis-stepsNa">
        <!-- Le contenu sera inject√© dynamiquement ici -->
    </div>
	
         </div>
		 
	</div>	
</div>	
</div>


<script>

// Natr√©mie
document.getElementById('THE_Na').addEventListener('input', function() {
    const na = parseFloat(this.value);
    const statusElement = document.getElementById('Na-status');
    const glycemieInput = document.getElementById('THE_Gly');
    
    if (!this.value) {
        statusElement.textContent = '';
        glycemieInput.classList.remove('blink');
        handleUrinaryFieldsBlinking();
        return;
    }
    
    if (na < 135) {
        statusElement.textContent = 'Hyponatr√©mie';
        statusElement.style.color = '#dc2626';
        // Ne faire clignoter que si la glyc√©mie n'a pas de valeur
        if (!glycemieInput.value) {
            glycemieInput.classList.add('blink');
        } else {
            glycemieInput.classList.remove('blink');
        }
    } else if (na > 145) {
        statusElement.textContent = 'Hypernatr√©mie';
        statusElement.style.color = '#dc2626';
        glycemieInput.classList.remove('blink');
    } else {
        statusElement.textContent = '';
        statusElement.style.color = '#16a34a';
        glycemieInput.classList.remove('blink');
    }
    
    handleUrinaryFieldsBlinking();
});

// Glyc√©mie
document.getElementById('THE_Gly').addEventListener('input', function() {
    const gly = parseFloat(this.value);
    const statusElement = document.getElementById('Gly-status');
    
    // Si une valeur est entr√©e, enlever le clignotement
    if (this.value) {
        this.classList.remove('blink');
    }
    
    if (!this.value) {
        statusElement.textContent = '';
        handleUrinaryFieldsBlinking();
        return;
    }
    
    if (gly < 5.5) {
        statusElement.textContent = 'Hypoglyc√©mie';
        statusElement.style.color = '#dc2626';
    } else if (gly > 8) {
        statusElement.textContent = 'Hyperglyc√©mie';
        statusElement.style.color = '#dc2626';
    } else {
        statusElement.textContent = '';
        statusElement.style.color = '#16a34a';
    }
    
    handleUrinaryFieldsBlinking();
});

// √âcouteur pour les champs urinaires
['THE_Nau', 'THE_Ku', 'THE_Glyu', 'THE_Ur√©eu'].forEach(fieldId => {
    document.getElementById(fieldId).addEventListener('input', function() {
        if (this.value) {
            this.classList.remove('blink');
        }
        handleUrinaryFieldsBlinking();
    });
});

// √âcouteur pour le secteur EC
document.querySelectorAll('input[name="secteur_ec"]').forEach(radio => {
    radio.addEventListener('change', handleUrinaryFieldsBlinking);
});

// Fonction principale de gestion des clignotements
function handleUrinaryFieldsBlinking() {
    const na = parseFloat(document.getElementById('THE_Na').value);
    const gly = parseFloat(document.getElementById('THE_Gly').value);
    const volumeEC = document.querySelector('input[name="secteur_ec"]:checked')?.value;
    const nauInput = document.getElementById('THE_Nau');
    
    // R√©initialiser tous les clignotements
    const fields = ['THE_Nau', 'THE_Ku', 'THE_Glyu', 'THE_Ur√©eu'];
    fields.forEach(fieldId => {
        const input = document.getElementById(fieldId);
        if (input) {
            input.classList.remove('blink');
        }
    });
    
    // Si pas de natr√©mie, on arr√™te
    if (!na) return;
    
    // Cas d'hypernatr√©mie avec secteur EC diminu√©
    if (na > 145 && volumeEC === 'diminue' && !nauInput.value) {
        nauInput.classList.add('blink');
    }
    
    // Cas d'hyponatr√©mie hypotonique
    if (na < 135 && gly) {
        const osmolarity = (2 * na) + gly;
        if (osmolarity < 280) {
            fields.forEach(fieldId => {
                const input = document.getElementById(fieldId);
                if (input && !input.value) {
                    input.classList.add('blink');
                }
            });
        }
    }
}



// osmolarit√© plasmatique
const naInput = document.getElementById('THE_Na');
const glyInput = document.getElementById('THE_Gly');
const osmpOutput = document.getElementById('Osmp');
const osmpStatus = document.getElementById('Osmp-status');

function calculateOsmolarity() {
    const na = parseFloat(naInput.value) || '';
    const gly = parseFloat(glyInput.value) || '';
    
    // V√©rifier si toutes les valeurs sont pr√©sentes
    if (na === '' || gly === '') {
        osmpOutput.value = '';
        osmpStatus.textContent = '';
        handleUrinaryFieldsBlinking(false); // Arr√™ter le clignotement si valeurs manquantes
        return;
    }
    
    // Si toutes les valeurs sont pr√©sentes, calculer l'osmolarit√©
    const osmolarity = (2 * na) + gly;
    osmpOutput.value = osmolarity.toFixed(0);
    
    if (osmolarity < 280) {
        osmpStatus.textContent = 'Hypoosmolarit√©';
        osmpStatus.style.color = '#dc2626';
        handleUrinaryFieldsBlinking(true);
    } else if (osmolarity > 290) {
        osmpStatus.textContent = 'Hyperosmolarit√©';
        osmpStatus.style.color = '#dc2626';
        handleUrinaryFieldsBlinking(false);
    } else {
        osmpStatus.textContent = 'Isoosmolarit√©';
        osmpStatus.style.color = '#16a34a';
        handleUrinaryFieldsBlinking(false);
    }
}

naInput.addEventListener('input', calculateOsmolarity);
glyInput.addEventListener('input', calculateOsmolarity);



// Osmolarit√© urinaire
const nauInput = document.getElementById('THE_Nau');
const kuInput = document.getElementById('THE_Ku');
const ureeInput = document.getElementById('THE_Ur√©eu');
const glyuInput = document.getElementById('THE_Glyu');

function calculateUrineOsmolarity() {
    const nau = parseFloat(nauInput.value);
    const ku = parseFloat(kuInput.value);
    const uree = parseFloat(ureeInput.value);
    const glyu = parseFloat(glyuInput.value);
    const osmuOutput = document.getElementById('Osmu');
    const osmuStatus = document.getElementById('Osmu-status');
    
    if (isNaN(nau) || isNaN(ku) || isNaN(uree) || isNaN(glyu)) {
        osmuOutput.value = '';
        osmuStatus.textContent = '';
        return;
    }
    
    const osmolarity = (2 * (nau + ku)) + uree + glyu;
    osmuOutput.value = osmolarity.toFixed(0);
    
    const osmp = parseFloat(document.getElementById('Osmp').value);
    
    if (!isNaN(osmp)) {
        if (osmolarity < 100) {
            osmuStatus.textContent = '< 100 mosm/L';
            osmuStatus.style.color = '#dc2626';
        } else if (osmolarity > 100) {
            osmuStatus.textContent = '> 100 mosm/L';
            osmuStatus.style.color = '#16a34a';
        } else {
            osmuStatus.textContent = '';
            osmuStatus.style.color = '#2563eb';
        }
    }
}

nauInput.addEventListener('input', calculateUrineOsmolarity);
kuInput.addEventListener('input', calculateUrineOsmolarity);
ureeInput.addEventListener('input', calculateUrineOsmolarity);
glyuInput.addEventListener('input', calculateUrineOsmolarity);

//d√©ficit en eau libre
document.getElementById('THE_Na').addEventListener('input', function() {
    const na = parseFloat(this.value);
    const deficitSection = document.getElementById('deficitSection');
    const poidsInput = document.getElementById('THE_poids');
    
    if (na > 145) {
        deficitSection.style.display = 'block';
        if (!poidsInput.value) {
            poidsInput.classList.add('blink');
        }
        calculateDeficit();
    } else {
        deficitSection.style.display = 'none';
        poidsInput.classList.remove('blink');
    }
});

document.getElementById('THE_poids').addEventListener('input', function() {
    const na = parseFloat(document.getElementById('THE_Na').value);
    if (this.value || na <= 145) {
        this.classList.remove('blink');
    } else if (na > 145) {
        this.classList.add('blink');
    }
    calculateDeficit();
});

// Fonction pour calculer le facteur selon le type et le sexe
function getFacteur() {
    const sexe = document.querySelector('input[name="sexe"]:checked').value;
    const type = document.querySelector('input[name="type"]:checked').value;
    
    if (type === 'nourrisson') return 0.7;
    if (type === 'enfant') return 0.6;
    if (type === 'adulte') {
        return sexe === 'homme' ? 0.6 : 0.5;
    }
    if (type === 'age') {
        return sexe === 'homme' ? 0.5 : 0.45;
    }
}

// Fonction de calcul du d√©ficit
function calculateDeficit() {
    const na = parseFloat(document.getElementById('THE_Na').value);
    const poids = parseFloat(document.getElementById('THE_poids').value);
    const deficitInput = document.getElementById('deficit');
    
    if (!na || !poids || na <= 145) {
        deficitInput.value = '';
        return;
    }
    
    const facteur = getFacteur();
    const deficit = poids * facteur * ((140 - na) / 140);
    deficitInput.value = Math.abs(deficit).toFixed(1);
}

// Ajouter les √©couteurs d'√©v√©nements pour recalculer le d√©ficit
['sexe', 'type'].forEach(name => {
    document.getElementsByName(name).forEach(radio => {
        radio.addEventListener('change', calculateDeficit);
    });
});

document.getElementById('THE_poids').addEventListener('input', calculateDeficit);



</script>

					 <section id="Kali√©mie">
 </section>
 
 
<div class="container THE-section">    
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">üçå</span>Analyse d'une hypo/hyperkali√©mie</h3>
            <div class="button-group">
			    <button class="toggle-button" onclick="analyzeTHEK()">Analyser</button>
				                <button class="toggle-button" onclick="resetKalemia()">R√©initialiser</button>           

				<button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
				</div>
        </div>
        <div class="section-content">
		
		<div class="subsection">
		
		    <h4>Donn√©es</h4>

		<div style="display: flex; flex-direction: column; gap: 10px;">

        <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Kali√©mie (mmHg) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_K">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">3,5 - 5</span>
                <span id="K-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Kaliur√®se (mmol/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ku2">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ku-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		        <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;"><strong>Pression art√©rielle :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 20px;">
                <label class="custom-control radio">
                    <input type="radio" name="pressure" value="normal" checked>
                    <span class="checkmark"></span>
                    PA normale/basse
                </label>
                <label class="custom-control radio">
                    <input type="radio" name="pressure" value="high">
                    <span class="checkmark"></span>
                    PA augment√©e
                </label>
            </div>
			</div>
		
		
		</div>
		
		</div>
		
	<div class="subsection">
          <h4>Analyse pr√©liminaire kali√©mie</h4>

    <div id="analysisStepsK" class="analysis-stepsK">
        <!-- Le contenu sera inject√© dynamiquement ici -->
    </div>
	
         </div>
		
</div>
</div>		
</div>

		
<script>




// Add event listener to kali√©mie input
document.getElementById('THE_K').addEventListener('input', function() {
    const k = parseFloat(this.value);
    const statusElement = document.getElementById('K-status');
    
    if (!this.value) {
        statusElement.textContent = '';
        return;
    }
    
    if (k < 3.5) {
        statusElement.textContent = 'Hypokali√©mie';
        statusElement.style.color = '#dc2626';
    } else if (k > 5) {
        statusElement.textContent = 'Hyperkali√©mie';
        statusElement.style.color = '#dc2626';
    } else {
        statusElement.textContent = 'Normokali√©mie';
        statusElement.style.color = '#16a34a';
    }
});

// Add event listener to kali√©mie input
document.getElementById('THE_K').addEventListener('input', function() {
   const k = parseFloat(this.value);
   const statusElement = document.getElementById('K-status');
   const kaliureseInput = document.getElementById('THE_Ku2');
   
   if (!this.value) {
       statusElement.textContent = '';
       kaliureseInput.classList.remove('blink');
       return;
   }
   
   if (k < 3.5) {
       statusElement.textContent = 'Hypokali√©mie';
       statusElement.style.color = '#dc2626';
       if (!kaliureseInput.value) {
           kaliureseInput.classList.add('blink');
       }
   } else if (k > 5) {
       statusElement.textContent = 'Hyperkali√©mie';
       statusElement.style.color = '#dc2626';
       kaliureseInput.classList.remove('blink');
   } else {
       statusElement.textContent = 'Normokali√©mie';
       statusElement.style.color = '#16a34a';
       kaliureseInput.classList.remove('blink');
   }
});

// Add event listener for kaliur√®se
document.getElementById('THE_Ku2').addEventListener('input', function() {
   const k = parseFloat(document.getElementById('THE_K').value);
   if (this.value) {
       this.classList.remove('blink');
   } else if (k < 3.5) {
       this.classList.add('blink');
   }
});



</script>


				 <section id="Calc√©mie">
 </section>
	
<div class="container THE-section">    
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">ü•õ</span>Analyse d'une hypo/hypercalc√©mie</h3>
            <div class="button-group">
			    <button class="toggle-button" onclick="analyzeTHECa()">Analyser</button>
				                <button class="toggle-button" onclick="resetCalcemia()">R√©initialiser</button>            

				<button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
				</div>
        </div>
        <div class="section-content">
		
<div class="subsection">

<h4>Donn√©es</h4>
			    <div style="display: flex; flex-direction: column; gap: 10px;">

		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
			<label style="width: 200px; min-width: 200px;"><strong>Calc√©mie mesur√© (mmol/L) :</strong></label>
			<div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
				<input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Cam">
				<span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"> 2,2 - 2,6</span>
				<span id="Ca-status" style="font-weight: bold;"></span>
			</div>
		</div>
		
		   <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
		            <label style="width: 200px; min-width: 200px;"><strong>Albumine (g/L) :</strong></label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;" class="small" id="THE_Albu">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">40</span>
                <span id="Albu-status" style="font-weight: bold;"></span>
            </div>
			</div>
			
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>Calc√©mie corrig√©e (mmol/L) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" readonly id="Cac" 
            style="width: 50px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" 
            class="small">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">2,2 - 2,6</span>
        <span id="Cac-status" style="font-weight: bold;"></span>
    </div>
</div>
			
<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>PTH (pg/mL) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;" class="small" id="THE_PTN">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">15 - 65</span>
        <span id="PTH-status" style="font-weight: bold;"></span>
    </div>
</div>
			
			<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>Vitamine D (ng/mL) :</strong></label>
    <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
        <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px;" class="small" id="THE_VitD">
        <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">20 - 80</span>
        <span id="VitD-status" style="font-weight: bold;"></span>
    </div>
</div>

			
			
		</div>
		</div>
		
		 		 <div class="subsection">
          <h4>Analyse pr√©liminaire calc√©mie</h4>
    
    <div id="analysisStepsCa" class="analysis-stepsCa">
        <!-- Le contenu sera inject√© dynamiquement ici -->
    </div>
	
         </div>	
		
	</div>
	
</div>
</div>	

<script>
// Calcul de la calc√©mie corrig√©e
function calculateCorrectedCalcium() {
    const ca = parseFloat(document.getElementById('THE_Cam').value);
    const albu = parseFloat(document.getElementById('THE_Albu').value);
    const cacOutput = document.getElementById('Cac');
    const cacStatus = document.getElementById('Cac-status');
    const pthInput = document.getElementById('THE_PTN');
    
    // Si calc√©mie absente, on ne fait rien
    if (!ca) {
        cacOutput.value = '';
        cacStatus.textContent = '';
        pthInput.classList.remove('blink');
        return;
    }
    
    // Calculer la calc√©mie corrig√©e
    let correctedCa;
    if (!isNaN(albu)) {
        correctedCa = ca + 0.025 * (40 - albu);
    } else {
        correctedCa = ca; // Si pas d'albumine, utiliser calc√©mie mesur√©e
    }
    
    cacOutput.value = correctedCa.toFixed(2);
    
    // Mise √† jour du statut et du clignotement PTH
    if (correctedCa < 2.2) {
        cacStatus.textContent = 'Hypocalc√©mie';
        cacStatus.style.color = '#dc2626';
        if (!pthInput.value) {
            pthInput.classList.add('blink');
        }
    } else if (correctedCa > 2.6) {
        cacStatus.textContent = 'Hypercalc√©mie';
        cacStatus.style.color = '#dc2626';
        if (!pthInput.value) {
            pthInput.classList.add('blink');
        }
    } else {
        cacStatus.textContent = 'Normale';
        cacStatus.style.color = '#16a34a';
        pthInput.classList.remove('blink');
    }
}

// Ajout des √©couteurs d'√©v√©nements pour la calc√©mie et l'albumine
document.getElementById('THE_Cam').addEventListener('input', calculateCorrectedCalcium);
document.getElementById('THE_Albu').addEventListener('input', calculateCorrectedCalcium);


// √âcouteurs pour albumine
document.getElementById('THE_Albu').addEventListener('input', function() {
    calculateCorrectedCalcium();
    if (this.value) {
        this.classList.remove('blink');
    }
});

// √âcouteur pour PTH
document.getElementById('THE_PTN').addEventListener('input', function() {
    if (this.value) {
        this.classList.remove('blink');
    }
});

		
// Affichage de l'√©tape 0 au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const analysisStepsCa = document.getElementById('analysisStepsCa');
    analysisStepsCa.innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Calc√©mie</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Calc√©mie +/- Albumine, PTH
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
});


function analyzeTHECa() {
    const ca = parseFloat(document.getElementById('THE_Cam').value);
    const albu = parseFloat(document.getElementById('THE_Albu').value);
    const pth = parseFloat(document.getElementById('THE_PTN').value);
    const vitD = parseFloat(document.getElementById('THE_VitD').value);

    const analysisStepsCa = document.getElementById('analysisStepsCa');
    analysisStepsCa.innerHTML = '';

    // Fonction pour cr√©er une √©tape avec d√©lai
    function createStepWithDelay(stepContent, delay) {
        setTimeout(() => {
            const stepElement = document.createElement('div');
            stepElement.className = 'analysis-step';
            stepElement.innerHTML = stepContent;
            analysisStepsCa.appendChild(stepElement);
        }, delay);
    }

    // √âTAPE 1: Analyse de la calc√©mie
    let step1Content = `
        <div class="step-number">√âtape 1</div>
        <div class="step-content">
            <div>Analyse de la calc√©mie</div>
            <div class="step-values">`;

    if (!ca) {
        step1Content += `<span class="coherence-check missing">Calc√©mie non renseign√©e</span>`;
        step1Content += `</div></div>`;
        createStepWithDelay(step1Content, 0);
        return;
    }

    // Calculer la calc√©mie corrig√©e si l'albumine est disponible
    let calciumCorrige = ca;
    if (!isNaN(albu)) {
        calciumCorrige = ca + 0.025 * (40 - albu);
        step1Content += `
            <div class="value-calculation">
                Calc√©mie corrig√©e = ${ca} + 0.025 √ó (40 - ${albu})
                = ${calciumCorrige.toFixed(2)} mmol/L
            </div>`;
    }

    if (calciumCorrige < 2.2) {
        step1Content += `<span class="coherence-check ta-high">Hypocalc√©mie ${!isNaN(albu) ? 'corrig√©e ' : ''}(${calciumCorrige.toFixed(2)} mmol/L)</span>`;
    } else if (calciumCorrige > 2.6) {
        step1Content += `<span class="coherence-check ta-high">Hypercalc√©mie ${!isNaN(albu) ? 'corrig√©e ' : ''}(${calciumCorrige.toFixed(2)} mmol/L)</span>`;
    } else {
        step1Content += `<span class="coherence-check normal">Calc√©mie normale (${calciumCorrige.toFixed(2)} mmol/L)</span>`;
    }

    step1Content += `</div></div>`;
    createStepWithDelay(step1Content, 0);

    // Si calc√©mie normale, on s'arr√™te l√†
    if (calciumCorrige >= 2.2 && calciumCorrige <= 2.6) return;

    // √âTAPE 2: Analyse de la PTH
    let step2Content = `
        <div class="step-number">√âtape 2</div>
        <div class="step-content">
            <div>Analyse de la PTH</div>
            <div class="step-values">`;

    if (!pth) {
        step2Content += `<span class="coherence-check missing">PTH non renseign√©e - Affichage de toutes les √©tiologies possibles</span>`;
    } else {
        if (calciumCorrige < 2.2) {
            if (pth < 65) {
                step2Content += `<span class="coherence-check ta-negative">PTH basse ou normale (Inadapt√©e) : Hypoparathyro√Ødie</span>`;
            } else {
                step2Content += `<span class="coherence-check ta-high">PTH √©lev√©e (Adapt√©e) : Hypocalc√©mie par perte r√©nale ou d√©ficit en vitamine D</span>`;
            }
        } else if (calciumCorrige > 2.6) {
            if (pth > 15) {
                step2Content += `<span class="coherence-check ta-high">PTH normale ou √©lev√©e (Inadapt√©e) : Hyperparathyro√Ødie primaire</span>`;
            } else {
                step2Content += `<span class="coherence-check ta-negative">PTH basse (Adapt√©e) : Hypercalc√©mie PTH-ind√©pendante</span>`;
            }
        }
    }
    
    step2Content += `</div></div>`;
    createStepWithDelay(step2Content, 400);

    // √âTAPE 3: Analyse de la vitamine D
    let step3Content = `
        <div class="step-number">√âtape 3</div>
        <div class="step-content">
            <div>Analyse de la vitamine D</div>
            <div class="step-values">`;

    if (!vitD) {
        step3Content += `<span class="coherence-check missing">Vitamine D non renseign√©e</span>`;
    } else {
        if (calciumCorrige > 2.6) {
            if (vitD > 80) {
                step3Content += `<span class="coherence-check ta-high">Vitamine D √©lev√©e (> 80 ng/mL) : Intoxication</span>`;
            } else {
                step3Content += `<span class="coherence-check ta-negative">Vitamine D normale (< 80 ng/mL)</span>`;
            }
        } else if (calciumCorrige < 2.2) {
            if (vitD < 20) {
                step3Content += `<span class="coherence-check ta-high">Vitamine D basse (< 20 ng/mL) : Carence</span>`;
            } else {
                step3Content += `<span class="coherence-check ta-negative">Vitamine D normale (> 20 ng/mL)</span>`;
            }
        }
    }
    
    step3Content += `</div></div>`;
    createStepWithDelay(step3Content, 800);

    // √âTAPE 4: Conclusion et √©tiologies
    let conclusionContent = `
        <div class="step-number">Conclusion</div>
        <div class="step-content">
            <div>√âtiologies et traitement</div>
            <div class="step-values">`;

    if (calciumCorrige < 2.2) {
        if (!pth) {
            conclusionContent += `
                <div class="causes-box">
                    <strong>Causes d'hypocalc√©mie avec PTH basse (Hypoparathyro√Ødie)</strong>
                    <ul>
                        <li>Post-chirurgicale (thyro√Ødectomie, parathyro√Ødectomie)</li>
                        <li>Auto-immune (Syndrome polyendocrinien de type 1)</li>
                        <li>Infiltrative (h√©mochromatose, Wilson, m√©tastases)</li>
                        <li>G√©n√©tique (DiGeorge, mutation CaSR)</li>
                    </ul>
                </div>
                <div class="causes-box">
                    <strong>Causes d'hypocalc√©mie avec PTH √©lev√©e</strong>
                    <ul>
                        <li>Carence en vitamine D</li>
                        <li>Malabsorption</li>
                        <li>Insuffisance r√©nale chronique</li>
                        <li>Hypomagn√©s√©mie</li>
                        <li>Syndrome de lyse tumorale</li>
                    </ul>
                </div>`;
        } else {
            if (pth < 65) {
                conclusionContent += `
                    <div class="causes-box">
                        <strong>Hypoparathyro√Ødie</strong>
                        <ul>
                            <li>Post-chirurgicale (thyro√Ødectomie, parathyro√Ødectomie)</li>
                            <li>Auto-immune (Syndrome polyendocrinien de type 1)</li>
                            <li>Infiltrative (h√©mochromatose, Wilson, m√©tastases)</li>
                            <li>G√©n√©tique (DiGeorge, mutation CaSR)</li>
                        </ul>
                    </div>`;
            } else {
                conclusionContent += `
                    <div class="causes-box">
                        <strong>PTH √©lev√©e adapt√©e</strong>
                        <ul>
                            <li>Insuffisance r√©nale chronique</li>
                            <li>Hypomagn√©s√©mie</li>
                            <li>Syndrome de lyse tumorale</li>
                        </ul>
                    </div>`;
            }
        }

        // Ajouter section vitamine D pour hypocalc√©mie si vitD < 20
        if (vitD && vitD < 20) {
            conclusionContent += `
                <div class="causes-box">
                    <strong>Carence en vitamine D</strong>
                    <ul>
                        <li>D√©ficit d'apport</li>
                        <li>Malabsorption</li>
                        <li>Manque d'exposition solaire</li>
                        <li>Insuffisance h√©patique</li>
                        <li>M√©dicaments inducteurs enzymatiques</li>
                    </ul>
                </div>`;
        }

    } else if (calciumCorrige > 2.6) {
        if (!pth) {
            conclusionContent += `
                <div class="causes-box">
                    <strong>Causes d'hypercalc√©mie avec PTH √©lev√©e</strong>
                    <ul>
                        <li>Hyperparathyro√Ødie primaire :</li>
                        <ul>
                            <li>Ad√©nome parathyro√Ødien</li>
                            <li>Hyperplasie des 4 glandes</li>
                            <li>Carcinome parathyro√Ødien (rare)</li>
                        </ul>
                    </ul>
                </div>
                <div class="causes-box">
                    <strong>Causes d'hypercalc√©mie avec PTH basse</strong>
                    <ul>
                        <li>Hypercalc√©mie maligne :</li>
                        <ul>
                            <li>M√©tastases ost√©olytiques</li>
                            <li>My√©lome</li>
                            <li>Production de PTHrp</li>
                        </ul>
                    </ul>
                </div>`;
        } else {
            if (pth > 15) {
                conclusionContent += `
                    <div class="causes-box">
                        <strong>Hyperparathyro√Ødie primaire</strong>
                        <ul>
                            <li>Ad√©nome parathyro√Ødien</li>
                            <li>Hyperplasie des 4 glandes</li>
                            <li>Carcinome parathyro√Ødien (rare)</li>
                        </ul>
                    </div>`;
            } else {
                conclusionContent += `
                    <div class="causes-box">
                        <strong>Hypercalc√©mie maligne</strong>
                        <ul>
                            <li>M√©tastases ost√©olytiques</li>
                            <li>My√©lome</li>
                            <li>Production de PTHrp</li>
                        </ul>
                    </div>`;
            }
        }

        // Ajouter section vitamine D pour hypercalc√©mie si vitD > 80
        if (vitD && vitD > 80) {
            conclusionContent += `
                <div class="causes-box">
                    <strong>Intoxication √† la vitamine D</strong>
                    <ul>
                        <li>Surdosage en vitamine D</li>
                        <li>Granulomatoses</li>
                        <ul>
                            <li>Sarco√Ødose</li>
                            <li>Tuberculose</li>
                        </ul>
                        <li>Lymphomes</li>
                    </ul>
                </div>`;
        }
    }

    // Ajouter la section traitement
    if (calciumCorrige < 2.2) {
        conclusionContent += `
            <div class="treatment-box">
                <strong>Traitement de l'hypocalc√©mie</strong>
                <ul>
                    <li>Apport de calcium IV si symptomatique</li>
                    <li>Suppl√©mentation vitamino-calcique per os</li>
                    <li>Correction d'une √©ventuelle hypomagn√©s√©mie</li>
                    <li>Traitement de la cause</li>
                </ul>
            </div>`;
    } else if (calciumCorrige > 2.6) {
        conclusionContent += `
            <div class="treatment-box">
                <strong>Traitement de l'hypercalc√©mie</strong>
                <ul>
                    <li>Hydratation par s√©rum physiologique</li>
                    <li>Biphosphonates</li>
                    <li>Calcitonine si urgence</li>
                    <li>Traitement de la cause</li>
                </ul>
            </div>`;
    }

    // Ajouter les signes ECG
    if (calciumCorrige < 2.2) {
        conclusionContent += `
            <div class="ecg-signs-box">
                <strong>Signes ECG</strong>
                <ul>
                    <li>Allongement du QT</li>
					<li>BAV, fibrillation ventriculaire</li>
                    <li>Troubles de l‚Äôexcitabilit√© ou de la conduction cardiaque</li>

                </ul>
            </div>`;
    } else if (calciumCorrige > 2.6) {
        conclusionContent += `
            <div class="ecg-signs-box">
                <strong>Signes ECG</strong>
                <ul>
                    <li>Tachycardie sinusale</li>
                    <li>Raccourcissement du QT</li>
                    <li>Aplatissement des ondes T</li>
                    <li>PR allong√© (BAV de tout degr√©)</li>
                </ul>
            </div>`;
    }

    conclusionContent += `</div></div>`;
    createStepWithDelay(conclusionContent, 1200);
}		

function resetCalcemia() {
    // R√©initialiser les champs de saisie
    const fields = ['THE_Cam', 'THE_Albu', 'THE_PTN', 'THE_VitD'];
    fields.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.value = '';
            input.classList.remove('blink');
        }
    });

    // R√©initialiser les statuts
    ['Ca-status', 'Albu-status', 'PTH-status', 'VitD-status', 'Cac-status'].forEach(id => {
        const status = document.getElementById(id);
        if (status) {
            status.textContent = '';
            status.style.color = '';
        }
    });

    // R√©initialiser le champ de calc√©mie corrig√©e
    const calcCorrigee = document.getElementById('Cac');
    if (calcCorrigee) calcCorrigee.value = '';

    // R√©initialiser l'analyse
    document.getElementById('analysisStepsCa').innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Calc√©mie</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Calc√©mie +/- Albumine, PTH
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
}



</script>	


				 <section id="IRA">
 </section>
 
<div class="container THE-section">    
    <div class="section">
        <div class="section-header">
            <h3><span class="icon">üí¶</span>Analyse d'une alt√©ration de la fonction r√©nale</h3>
            <div class="button-group">
			    <button class="toggle-button" onclick="analyzeIRA()">Analyser</button>
				                <button class="toggle-button" onclick="resetIRA()">R√©initialiser</button>          

				<button class="toggle-button" onclick="toggleSection(this)">Masquer</button>
				</div>
        </div>
        <div class="section-content">
		
	<div class="subsection">
	
<h4>Donn√©es</h4>
			    
	<div style="display: flex; flex-direction: column; gap: 10px;">

			<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
			<label style="width: 200px; min-width: 200px;"><strong>Ionogramme plasmatique</strong></label>
			</div>
				        <div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Natr√©mie (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Na2">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;">135 - 145</span>
                <span id="Na2-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Ur√©e plasm. (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ur√©e">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ur√©e-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Cr√©at. plasm. (¬µmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Cr√©at">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Cr√©at-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
			<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>Ionogramme urinaire</strong></label>
		</div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Ur√©e urinaire (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ur√©eu2">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ur√©eu2-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Cr√©at. urinaire (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Cr√©atu">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Cr√©atu-status" style="font-weight: bold;"></span>
            </div>
        </div>

		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Natriur√®se (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Nau2">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Nau2-status" style="font-weight: bold;"></span>
            </div>
        </div>

		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Kaliur√®se (mmol/L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_Ku3">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="Ku3-status" style="font-weight: bold;"></span>
            </div>
        </div>
		
		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Volume urinaire/24h (L) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" step="1" style="width: 50px; padding: 0.4rem 0.8rem; border: 1px solid #e2e8f0; border-radius: 4px; transition: all 0.2s ease;" class="small" id="THE_volume">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
                <span id="THEvolume-status" style="font-weight: bold;"></span>
            </div>
        </div>		

			<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
    <label style="width: 200px; min-width: 200px;"><strong>Calculs</strong></label>
		</div>
	

		<div class="input-group" style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
            <label style="width: 200px; min-width: 200px;">Clairance cr√©at (mL/min) :</label>
            <div style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                <input type="number" readonly id="ClrCr√©at" 
                    style="width: 50px; padding: 0.4rem 0.8rem; border: 2px solid #94a3b8; border-radius: 4px; background-color: #e2e8f0; color: #1e293b; cursor: not-allowed;" 
                    class="small">
                <span style="color: #94a3b8; font-size: 0.9rem; white-space: nowrap;"></span>
				        <span id="ClrCr√©at-status" style="font-weight: bold;"></span>

            </div>
        </div>
		
		
        
			
			
			
		

        </div>
		
		
		</div>
		
		<div class="subsection">
          <h4>Profil de l'insuffisance r√©nale aigue</h4>
    
    <div id="analysisStepsIRA" class="analysis-stepsIRA">
        <!-- Le contenu sera inject√© dynamiquement ici -->
    </div>
	
         </div>	
	


</div>
</div>
</div>

				 <section id="Texte-Type">
 </section>

<div class="container THE-section">    

    <div class="section">
        <div class="section-header">
            <h3><span class="icon">‚úçÔ∏è</span>Conclusion</h3>
            <div class="button-container">
                <button class="toggle-button" onclick="generateTHEConclusion()">G√©n√©rer une conclusion</button>
                <button class="toggle-button" onclick="copyToClipboard()">Copier la conclusion</button>
            </div>
        </div>
        <div class="section-content">

		<div class="subsection">
           <h4>Texte de conclusion</h4>
    
				<div id="THE_generatedTextArea" contenteditable="true" 
                     style="border: 1px solid #ccc; padding: 10px; min-height: 60px; max-height: 150px;"></div>
         </div>
	 </div>	 
	 </div>	  
	 </div>	 
		 </div>	
		 <script>
		 
		 // Calcul de la clairance de la cr√©atinine
function calculateCreatinineClearance() {
   const creatU = parseFloat(document.getElementById('THE_Cr√©atu').value);
   const creatP = parseFloat(document.getElementById('THE_Cr√©at').value);
   const volume = parseFloat(document.getElementById('THE_volume').value); // Ajoutez un id="THE_volume" au champ de volume
   const clrCreat = document.getElementById('ClrCr√©at');

   if (!creatU || !creatP || !volume) {
       clrCreat.value = '';
       return;
   }

   const clearance = (creatU * volume * Math.pow(10, 6)) / (creatP * 1440);
   clrCreat.value = clearance.toFixed(0);
}

// Ajouter les √©couteurs d'√©v√©nements
document.getElementById('THE_Cr√©atu').addEventListener('input', calculateCreatinineClearance);
document.getElementById('THE_Cr√©at').addEventListener('input', calculateCreatinineClearance);
document.getElementById('THE_volume').addEventListener('input', calculateCreatinineClearance);

function handleCreatBlinking() {
   const volumeInput = document.getElementById('THE_volume');
   const creatP = document.getElementById('THE_Cr√©at');
   const creatU = document.getElementById('THE_Cr√©atu');

   // V√©rifier le clignotement lors de la saisie du volume
   volumeInput.addEventListener('input', function() {
       if (this.value) {
           // Si volume pr√©sent, faire clignoter seulement les champs vides
           if (!creatP.value) creatP.classList.add('blink');
           if (!creatU.value) creatU.classList.add('blink');
       } else {
           // Si pas de volume, arr√™ter tout clignotement
           creatP.classList.remove('blink');
           creatU.classList.remove('blink');
       }
   });

   // V√©rifier le volume lors de la saisie des cr√©atinines
   [creatP, creatU].forEach(input => {
       input.addEventListener('input', function() {
           // Ne retirer le clignotement que si une valeur est pr√©sente
           if (volumeInput.value && this.value) {
               this.classList.remove('blink');
           }
       });
   });
}

document.addEventListener('DOMContentLoaded', handleCreatBlinking);



		 // √âcouteur pour la natr√©mie de la partie IRA
document.getElementById('THE_Na2').addEventListener('input', function() {
   const na = parseFloat(this.value);
   const statusElement = document.getElementById('Na2-status');
   
   if (!this.value) {
       statusElement.textContent = '';
       return;
   }
   
   if (na < 135) {
       statusElement.textContent = 'Hyponatr√©mie';
       statusElement.style.color = '#dc2626';
   } else if (na > 145) {
       statusElement.textContent = 'Hypernatr√©mie';
       statusElement.style.color = '#dc2626';
   } else {
       statusElement.textContent = 'Natr√©mie normale';
       statusElement.style.color = '#16a34a';
   }
});


// Affichage de l'√©tape 0 au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const analysisStepsNa = document.getElementById('analysisStepsNa');
    analysisStepsNa.innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Natr√©mie</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Natr√©mie +/- Glyc√©mie
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
});

// √âcouteur d'√©v√©nement pour la natr√©mie
document.getElementById('THE_Na').addEventListener('input', function() {
   const na = parseFloat(document.getElementById('THE_Na').value);
   const statusElement = document.getElementById('Na-status');
   const glycemieInput = document.getElementById('THE_Gly');
   
   // Arr√™ter le clignotement si une valeur est entr√©e
   if (this.value) {
       this.classList.remove('blink');
   }
});



// Fonction principale d'analyse
function analyzeNatremia() {
    const na = parseFloat(document.getElementById('THE_Na').value);
    const gly = parseFloat(document.getElementById('THE_Gly').value);
    const osmp = parseFloat(document.getElementById('Osmp').value);
    const osmu = parseFloat(document.getElementById('Osmu').value);
    const nau = parseFloat(document.getElementById('THE_Nau').value);
    const ku = parseFloat(document.getElementById('THE_Ku').value);
    const ureeu = parseFloat(document.getElementById('THE_Ur√©eu').value);
    const glyu = parseFloat(document.getElementById('THE_Glyu').value);

    let volumeEC = '';
    document.getElementsByName('secteur_ec').forEach(radio => {
        if (radio.checked) volumeEC = radio.value;
    });

    // R√©initialiser la zone d'analyse
    document.getElementById('analysisStepsNa').innerHTML = '';

    // V√©rifier si la natr√©mie est vide
    const naInput = document.getElementById('THE_Na');
    if (!na) {
        document.getElementById('analysisStepsNa').innerHTML = `
            <div class="analysis-step">
                <div class="step-number">Initialisation : Natr√©mie</div>
                <div class="step-content">
                    <div class="step-values">
                        <span class="coherence-check missing">Veuillez entrer la natr√©mie</span>
                    </div>
                </div>
            </div>`;
        naInput.classList.add('blink');
        return;
    } else {
        naInput.classList.remove('blink');
    }

	if (!na || na < 135) {
    // V√©rifier les donn√©es minimales
    if (!na || !gly) {
        document.getElementById('analysisStepsNa').innerHTML = `
            <div class="analysis-step">
                <div class="step-number">Initialisation : Kali√©mie</div>
                <div class="step-content">
                    <div class="step-values">
                        <span class="coherence-check missing">Veuillez entrer la natr√©mie et la glyc√©mie</span>
                    </div>
                </div>
            </div>`;
        return;
    }

	}

    // R√©initialiser la zone d'analyse
    document.getElementById('analysisStepsNa').innerHTML = '';

    // Fonction pour cr√©er une √©tape avec d√©lai
    function createStepWithDelay(stepContent, delay) {
        setTimeout(() => {
            const stepElement = document.createElement('div');
            stepElement.className = 'analysis-step';
            stepElement.innerHTML = stepContent;
            document.getElementById('analysisStepsNa').appendChild(stepElement);
        }, delay);
    }

    // √âTAPE 1: Analyse de la natr√©mie et osmolalit√© plasmatique
    let step1Content = `
        <div class="step-number">√âtape 1</div>
        <div class="step-content">
            <div>Analyse de l'osmolalit√© plasmatique</div>
            <div class="step-values">
                <div class="value-calculation">
                    Osmolalit√© plasmatique = 2 √ó [Na+] + [Glucose]
                    = (2 √ó ${na}) + ${gly} 
                    = ${osmp} mOsm/kg
                </div>`;

    if (na >= 135 && na <= 145) {
        step1Content += `
            <div class="diagnosis-box">
                <span class="coherence-check normal">Natr√©mie normale (${na} mmol/L)</span>
            </div>`;
} else if (na < 135) {
    if (osmp >= 280 && osmp <= 290) {
        step1Content += `
            <div class="diagnosis-box">
                <span class="coherence-check normal">Hyponatr√©mie isoosmolaire</span>
            </div>`;
        step1Content += `</div></div>`;
        createStepWithDelay(step1Content, 0);

        let conclusionContent = `
            <div class="step-number">Conclusion</div>
            <div class="step-content">
                <div>√âtiologies et traitement</div>
                <div class="step-values">
                    <div class="causes-box">
                        <strong>Hyponatr√©mie isoosmolaire</strong>
                        <ul>
                            <li>Hyperlipid√©mie</li>
                            <li>Hyperprot√©in√©mie</li>
                        </ul>
                    </div>
                </div>
            </div>`;
        createStepWithDelay(conclusionContent, 400);
        return;

    } else if (osmp > 290) {
        step1Content += `
            <div class="diagnosis-box">
                <span class="coherence-check complex">Hyponatr√©mie hyperosmolaire</span>
            </div>`;
        step1Content += `</div></div>`;
        createStepWithDelay(step1Content, 0);

        let conclusionContent = `
            <div class="step-number">Conclusion</div>
            <div class="step-content">
                <div>√âtiologies et traitement</div>
                <div class="step-values">
                    <div class="causes-box">
                        <strong>Hyponatr√©mie hyperosmolaire</strong>
                        <ul>
                            <li>Hyperglyc√©mie</li>
                            <li>Administration de solut√©s hyperosmolaires</li>
                        </ul>
                    </div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Correction de l'hyperglyc√©mie</li>
							<li>Arr√™t solut√©s hyperosmolaires</li>
						</ul>
					</div>
                </div>
            </div>`;
        createStepWithDelay(conclusionContent, 400);
        return;

    } else if (osmp < 280) {
        step1Content += `
            <div class="diagnosis-box">
                <span class="coherence-check acidemia">Hyponatr√©mie hypoosmolaire</span>
            </div>`;
	}	
		
    } else if (na > 145) {
    step1Content += `
        <div class="diagnosis-box">
            <span class="coherence-check complex">Hypernatr√©mie (${na} mmol/L)</span>
        </div>`;
}

    step1Content += `</div></div>`;
    createStepWithDelay(step1Content, 0);

    // √âTAPE 2: Analyse de l'osmolalit√© urinaire
    if (na < 135 && osmp < 280) {
        let step2Content = `
            <div class="step-number">√âtape 2</div>
            <div class="step-content">
                <div>Analyse de l'osmolalit√© urinaire</div>
                <div class="step-values">
                    <div class="value-calculation">
                        Osmolalit√© urinaire = 2 √ó ([Na+]u + [K+]u) + [Ur√©e]u + [Glucose]u
                        = 2 √ó (${nau || '?'} + ${ku || '?'}) + ${ureeu || '?'} + ${glyu || '?'} 
                        = ${osmu || '?'} mOsm/kg
                    </div>`;

        if (!osmu) {
            step2Content += `
                <div class="diagnosis-box">
                    <span class="coherence-check missing">Donn√©es manquantes pour le calcul de l'osmolalit√© urinaire, analyse incompl√®te</span>
                </div>`;
        } else if (osmu <= 100) {
            step2Content += `
                <div class="diagnosis-box">
                    <span class="coherence-check ta-negative">Osmolalit√© urinaire ‚â§ 100 mOsm/kg</span>
                </div>`;
        } else {
            step2Content += `
                <div class="diagnosis-box">
                    <span class="coherence-check ta-high">Osmolalit√© urinaire > 100 mOsm/kg</span>
                </div>`;
        }
        step2Content += `</div></div>`;
        createStepWithDelay(step2Content, 400);

        // √âTAPE 3: Analyse du volume extracellulaire si osmolalit√© urinaire > 100
        if (osmu > 100) {
            let step3Content = `
                <div class="step-number">√âtape 3</div>
                <div class="step-content">
                    <div>Analyse du volume extracellulaire</div>
                    <div class="step-values">`;

            if (!volumeEC) {
                step3Content += `
                    <div class="diagnosis-box">
                        <span class="coherence-check missing">√âvaluation clinique du volume extracellulaire manquante</span>
                    </div>`;
            } else {
                switch (volumeEC) {
                    case 'diminue':
                        if (!nau) {
                            step3Content += `
                                <div class="diagnosis-box">
                                    <span class="coherence-check missing">Natriur√®se manquante</span>
                                </div>`;
                        } else {
                            if (nau <= 30) {
                                step3Content += `
                                    <div class="diagnosis-box">
                                        <span class="coherence-check ta-negative">Volume extracellulaire diminu√© avec [Na+]u ‚â§ 30 mmol/L</span>
                                    </div>`;
                            } else {
                                step3Content += `
                                    <div class="diagnosis-box">
                                        <span class="coherence-check ta-high">Volume extracellulaire diminu√© avec [Na+]u > 30 mmol/L</span>
                                    </div>`;
                            }
                        }
                        break;
                    case 'normal':
                        if (nau <= 30) {
						step3Content += `
                            <div class="diagnosis-box">
                                <span class="coherence-check normal">Volume extracellulaire normal avec [Na+]u < 30 mmol/L</span>
                            </div>`;
							} else {
						step3Content += `
                            <div class="diagnosis-box">
                                <span class="coherence-check normal">Volume extracellulaire normal avec [Na+]u > 30 mmol/L</span>
                            </div>`;							
							}
                        break;
                    case 'augmente':
                        if (!nau) {
                            step3Content += `
                                <div class="diagnosis-box">
                                    <span class="coherence-check missing">Natriur√®se manquante</span>
                                </div>`;
                        } else {
                            if (nau <= 30) {
                                step3Content += `
                                    <div class="diagnosis-box">
                                        <span class="coherence-check ta-negative">Volume extracellulaire augment√© avec [Na+]u < 30 mmol/L</span>
                                    </div>`;
                            } else {
                                step3Content += `
                                    <div class="diagnosis-box">
                                        <span class="coherence-check ta-high">Volume extracellulaire augment√© avec [Na+]u ‚â• 30 mmol/L</span>
                                    </div>`;
                            }
                        }
                        break;
                }
            }
            step3Content += `</div></div>`;
            createStepWithDelay(step3Content, 800);
        }

        // √âTAPE 4: Conclusion et √©tiologies
        let conclusionContent = `
            <div class="step-number">Conclusion</div>
            <div class="step-content">
                <div>√âtiologies et traitement</div>
                <div class="step-values">`;

        if (osmp >= 280 && osmp <= 290) {
            conclusionContent += `
                <div class="causes-box">
                 <strong>Hyponatr√©mie isoosmolaire</strong>
					<ul>
                        <li>Hyperlipid√©mie</li>
                        <li>Hyperprot√©in√©mie</li>
                    </ul>
                </div>`;
        } else if (osmp > 290) {
            conclusionContent += `
                <div class="causes-box">
              <strong>Hyponatr√©mie hyperosmolaire</strong>
					<ul>
                        <li>Hyperglyc√©mie</li>
                        <li>Administration de solut√©s hyperosmolaires</li>
                    </ul>
					</div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Correction de l'hyperglyc√©mie</li>
							<li>Arr√™t solut√©s hyperosmolaires</li>
						</ul>
					
					
                </div>`;
        } else if (osmp < 280) {
            if (osmu <= 100) {
                conclusionContent += `
                    <div class="causes-box">
                        <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire < 100 mosm/L</strong>
						<ul>
                            <li>Polydipsie primaire ou secondaire</li>
                            <li>Apports faibles en solut√©s ("tea and toast syndrome")</li>
                        </ul>
						</div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Renutrition</li>
						</ul>
					</div>
                    `;
            } else if (osmu > 100 && volumeEC) {
                switch (volumeEC) {
                    case 'diminue':
                        if (nau <= 30) {
                            conclusionContent += `
                                <div class="causes-box">
                            <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, d√©shydratation extracellulaire, Nau < 30 mmol/L</strong>
									<ul>
                                        <li>Pertes cutan√©es (sueur, br√ªlures)</li>
                                        <li>Pertes digestives (diarrh√©e, vomissements)</li>
                                        <li>Troisi√®me secteur (pancr√©atite)</li>
                                    </ul>
									</div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Apport NaCl</li>
						</ul>
					</div>

                                `;
                        } else {
                            conclusionContent += `
                                <div class="causes-box">
                               <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, d√©shydratation extracellulaire, Nau > 30 mmol/L</strong>
									<ul>
                                        <li>Diur√©tiques</li>
                                        <li>Insuffisance surr√©nalienne</li>
                                        <li>Cerebral Salt Wasting syndrome</li>
                                    </ul>
									</div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Correction insuffisance surr√©nalienne</li>
							<li>Apport NaCl</li>
						</ul>
					</div>
                                `;
                        }
                        break;
                    case 'normal':
					if (nau <= 30) {
                        conclusionContent += `
                            <div class="causes-box">
                            <div>Ce profil est inhabituel et n√©cessite une r√©√©valuation, la natriur√®se dans ce cas de figure devrait √™tre sup√©rieure √† 30 mmol/L</div>
                            </div>`;
						} else {
                        conclusionContent += `
                            <div class="causes-box">
                         <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L et hydratation extracellulaire normale</strong>
								<ul>
                                    <li>SIADH</li>
                                    <li>Hypothyro√Ødie</li>
                                    <li>Hypocortisolisme</li>
                                </ul>
								</div>
						<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Traitement de la cause</li>
						</ul>
					</div>
                            `;						
						}
                        break;
                    case 'augmente':
                        if (nau <= 30) {
                            conclusionContent += `
                                <div class="causes-box">
                               <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, hyperhydratation extracellulaire et Nau < 30 mmol/L</strong>
   
									<ul>
                                        <li>Insuffisance cardiaque</li>
                                        <li>Cirrhose h√©patique</li>
                                        <li>Syndrome n√©phrotique</li>
                                        <li>Insuffisance r√©nale</li>
										<li>Natriur√®se < 30 mmol/L en faveur d'une hypovol√©mie efficace</li>
                                    </ul>
									</div>
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Diur√©tiques</li>
						</ul>
					</div>
					
                                `;
                        } else {
                            conclusionContent += `
                                <div class="causes-box">
                               <strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, hyperhydratation extracellulaire et Nau > 30 mmol/L</strong>
									<ul>
                                        <li>Insuffisance cardiaque</li>
                                        <li>Cirrhose h√©patique</li>
                                        <li>Syndrome n√©phrotique</li>
                                        <li>Insuffisance r√©nale</li>
										<li>Natriur√®se > 30 mmol/L inhabituelle dans ce contexte</li>
                                    </ul>
</div>									
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Diur√©tiques</li>
						</ul>
					</div>
					
								`;
                        }
                        break;
                }
				
				} else if (!osmu) {
                            conclusionContent += `
                                 <div class="causes-box">
 								<strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire < 100 mosm/L</strong>
									<ul>
                            <li>Polydipsie primaire</li>
                            <li>Apports faibles en solut√©s ("tea and toast syndrome")</li>
                                    </ul>
								</div>                               
								
								<div class="causes-box">
 								<strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, d√©shydratation extracellulaire, Nau < 30 mmol/L</strong>
									<ul>
                                       <li>Pertes cutan√©es (sueur, br√ªlures)</li>
                                        <li>Pertes digestives (diarrh√©e, vomissements)</li>
                                        <li>Troisi√®me secteur (pancr√©atite)</li>
                                    </ul>
								</div>									
								<div class="causes-box">	
								<strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L, d√©shydratation extracellulaire, Nau > 30 mmol/L</strong>
									<ul>								
										<li>Diur√©tiques</li>
                                        <li>Insuffisance surr√©nalienne</li>
                                        <li>Cerebral Salt Wasting syndrome</li>
                                    </ul>
									</div>
								<div class="causes-box">
									<strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L et hydratation extracellulaire normale</strong>
									<ul>								
										<li>SIADH</li>
										<li>Hypothyro√Ødie</li>
										<li>Hypocortisolisme</li>
                                    </ul>
									</div>
													
								<div class="causes-box">
									<strong>Hyponatr√©mie hypoosmolaire, osmolarit√© urinaire > 100 mosm/L et hyperhydratation extracellulaire</strong>
									<ul>								
										<li>Insuffisance cardiaque</li>
                                        <li>Cirrhose h√©patique</li>
                                        <li>Syndrome n√©phrotique</li>
                                        <li>Insuffisance r√©nale</li>
                                    </ul> 
</div>									

					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Restriction hydrique</li>
							<li>Le traitement d√©pend de la cause</li>
						</ul>
					</div>
					
								`;				
				
            }	
        }

        conclusionContent += `</div></div>`;
        createStepWithDelay(conclusionContent, 1200);
    
} else if (na > 145) {
    let step2Content = `
        <div class="step-number">√âtape 2</div>
        <div class="step-content">
            <div>Analyse du volume extracellulaire</div>
            <div class="step-values">`;

    if (!volumeEC) {
        step2Content += `
            <div class="diagnosis-box">
                <span class="coherence-check missing">√âvaluation clinique du volume extracellulaire manquante</span>
            </div>`;
    } else {
        switch (volumeEC) {
            case 'diminue':
                if (!nau) {
                    step2Content += `
                        <div class="diagnosis-box">
                            <span class="coherence-check missing">Natriur√®se manquante</span>
                        </div>`;
						
                } else if (nau < 20) {
                    step2Content += `
                        <div class="diagnosis-box">
                            <span class="coherence-check ta-negative">Volume extracellulaire diminu√© avec [Na+]u < 20 mmol/L</span>
                        </div>`;
                } else {
                    step2Content += `
                        <div class="diagnosis-box">
                            <span class="coherence-check ta-high">Volume extracellulaire diminu√© avec [Na+]u > 20 mmol/L</span>
                        </div>`;
                }
                break;
            case 'normal':
                step2Content += `
                    <div class="diagnosis-box">
                        <span class="coherence-check normal">Volume extracellulaire normal</span>
                    </div>`;
                break;
            case 'augmente':
                step2Content += `
                    <div class="diagnosis-box">
                        <span class="coherence-check ta-high">Volume extracellulaire augment√©</span>
                    </div>`;
                break;
        }
    }
    step2Content += `</div></div>`;
    createStepWithDelay(step2Content, 400);
	
	    // √âtape 3 (d√©ficit en eau libre)
 let step3Content = `
        <div class="step-number">√âtape 3</div>
        <div class="step-content" style="padding: 0.5rem;">
            <div>Calcul du d√©ficit en eau libre</div>
            <div class="step-values" style="padding: 0.5rem;">`;

    const poids = parseFloat(document.getElementById('THE_poids').value);
    if (!poids) {
        step3Content += `
            <span class="coherence-check missing">Donn√©es manquantes, vous devez ins√©rer le poids du patient</span>`;
    } else {
        const facteur = getFacteur();
        const deficit = Math.abs(poids * facteur * ((140 - na) / 140));
        
        step3Content += `
            <div style="font-size: 0.9rem;">
                D = ${poids} √ó ${facteur} √ó ((140 - ${na}) / 140) = ${deficit.toFixed(1)} L
            </div>
            <span class="coherence-check complex">D√©ficit en eau libre : ${deficit.toFixed(1)} L</span>`;
    }

    step3Content += `</div></div>`;
    createStepWithDelay(step3Content, 800);



    // √âTAPE 3: Conclusion et √©tiologies pour l'hypernatr√©mie
    let conclusionContent = `
        <div class="step-number">Conclusion</div>
        <div class="step-content">
            <div>√âtiologies et traitement</div>
            <div class="step-values">`;

switch (volumeEC) {
    case 'diminue':
        if (!nau) {
            conclusionContent += `
                <div class="causes-box">
              <strong>Hypernatr√©mie, d√©shydratation extracellulaire</strong>
					<ul>
                        <li>Pertes par sueurs excessives (Nau < 20 mmol/L)</li>
                        <li>Pertes digestives (Nau < 20 mmol/L) </li>
                        <li>Diur√®se osmotique (Nau > 20 mmol/L)</li>
                    </ul>
                </div>
				<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Compensation du d√©ficit en eau libre, apport de G5</li>
						</ul>
					</div>`;
        } else if (nau < 20) {
            conclusionContent += `
                <div class="causes-box">
                   <strong>Hypernatr√©mie, d√©shydratation extracellulaire, Nau < 20 mmol/L</strong>
				   <ul>
                        <li>Pertes par sueurs excessives</li>
                        <li>Pertes digestives</li>
                    </ul>
                </div>
				<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Compensation du d√©ficit en eau libre, apport de G5</li>
							<li>Compensation du d√©ficit extracellulaire, apport de NaCl</li>

						</ul>
					</div>`;
        } else {
            conclusionContent += `
                <div class="causes-box">
                <strong>Hypernatr√©mie, d√©shydratation extracellulaire, Nau > 20 mmol/L</strong>
					<ul>
                        <li>Diur√®se osmotique</li>
                    </ul>
                </div>
								<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Compensation du d√©ficit en eau libre, apport de G5</li>
							<li>Compensation du d√©ficit extracellulaire, apport de NaCl</li>
						</ul>
					</div>`;
        }
        break;
        case 'normal':
            conclusionContent += `
                <div class="causes-box">
               <strong>Hypernatr√©mie, hydratation extracellulaire normale</strong>

					<ul>
                        <li>Pertes insensibles respiratoires</li>
                        <li>Pertes insensibles cutan√©es</li>
                        <li>Fi√®vre</li>
                        <li>Coup de chaleur</li>
                        <li>Exercice intense</li>
                        <li>Hyperventilation</li>
                        <li>Diab√®te insipide</li>
                    </ul>
                </div>
								<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Compensation du d√©ficit en eau libre, apport de G5</li>
						</ul>
					</div>`;
            break;
        case 'augmente':
            conclusionContent += `
                <div class="causes-box">
               <strong>Hypernatr√©mie, hyperhydration extracellulaire</strong>

					<ul>
                        <li>Apports excessifs en NaCl</li>
                        <li>Perfusion de solut√©s hypertoniques</li>
                    </ul>
                </div>
				<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Compensation du d√©ficit en eau libre, apport de G5</li>
							<li>Diur√©tiques</li>
						</ul>
					</div>
					`;
            break;
    }
    conclusionContent += `</div></div>`;
    createStepWithDelay(conclusionContent, 1200);
}

}


// Affichage de l'√©tape 0 au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const analysisStepsK = document.getElementById('analysisStepsK');
    analysisStepsK.innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Kali√©mie</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Kali√©mie +/- Kaliur√®se
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
});


// √âcouteurs d'√©v√©nements (au m√™me niveau que les autres √©couteurs)
document.getElementById('THE_K').addEventListener('input', function() {
   const k = parseFloat(document.getElementById('THE_K').value);
   const statusElement = document.getElementById('K-status');
   const kaliureseInput = document.getElementById('THE_Ku2');
   
   // Arr√™ter le clignotement si une valeur est entr√©e
   if (this.value) {
       this.classList.remove('blink');
   }
});


// Ajout de l'√©couteur pour l'analyse de la kali√©mie
function analyzeKalemia() {
    const k = parseFloat(document.getElementById('THE_K').value);
    const ku = parseFloat(document.getElementById('THE_Ku2').value);
    const pressure = document.querySelector('input[name="pressure"]:checked')?.value;

    const kInput = document.getElementById('THE_K');
    let analysisStepsK = document.getElementById('analysisStepsK');
    analysisStepsK.innerHTML = '';

    // Si kali√©mie vide, faire clignoter
    if (!k) {
        kInput.classList.add('blink');
        analysisStepsK.innerHTML = `
            <div class="analysis-step">
                <div class="step-number">Initialisation : Kali√©mie</div>
                <div class="step-content">
                    <div class="step-values">
                        <span class="coherence-check missing">Veuillez entrer la kali√©mie</span>
                    </div>
                </div>
            </div>`;
        return;
    }
    kInput.classList.remove('blink');

    // √âtape 1: Analyse initiale de la kali√©mie
    setTimeout(() => {
        const step1 = document.createElement('div');
        step1.className = 'analysis-step';
        step1.innerHTML = `
            <div class="step-number">√âtape 1</div>
            <div class="step-content">
                <div>Analyse de la kali√©mie</div>
                <div class="step-values">
                    <div class="diagnosis-box">
                        ${getKalemiaStatus(k)}
                    </div>
                </div>
            </div>`;
        analysisStepsK.appendChild(step1);

        // Si kali√©mie normale, on s'arr√™te l√†
        if (k >= 3.5 && k <= 5) return;

        // Pour hypokali√©mie, continuer avec √©tape 2
        if (k < 3.5) {
            analyzeHypokalemia(k, ku, pressure);
        }
        // Pour hyperkali√©mie, aller directement √† la conclusion
        else if (k > 5) {
            analyzeHyperkalemia();
        }
    }, 0);
}

function getKalemiaStatus(k) {
    if (k < 3.5) {
        return '<span class="coherence-check ta-high">Hypokali√©mie</span>';
    } else if (k > 5) {
        return '<span class="coherence-check ta-high">Hyperkali√©mie</span>';
    }
    return '<span class="coherence-check normal">Kali√©mie normale</span>';
}

function analyzeHypokalemia(k, ku, pressure) {
    const analysisStepsK = document.getElementById('analysisStepsK');

    // √âtape 2: Analyse de la kaliur√®se
    setTimeout(() => {
        const step2 = document.createElement('div');
        step2.className = 'analysis-step';
        
        if (!ku) {
            step2.innerHTML = `
                <div class="step-number">√âtape 2</div>
                <div class="step-content">
                    <div>Analyse de l'excr√©tion urinaire de potassium</div>
                    <div class="step-values">
                        <span class="coherence-check missing">Kaliur√®se manquante - Si renseign√©e, permettrait d'affiner le diagnostic √©tiologique</span>
                    </div>
                </div>`;
        } else {
            step2.innerHTML = `
                <div class="step-number">√âtape 2</div>
                <div class="step-content">
                    <div>Analyse de l'excr√©tion urinaire de potassium</div>
                    <div class="step-values">
                        <div class="diagnosis-box">
                            ${ku < 20 ? 
                                '<span class="coherence-check ta-negative">Kaliur√®se < 20 mmol/24h : Perte extra-r√©nale</span>' :
                                '<span class="coherence-check ta-high">Kaliur√®se > 20 mmol/24h : Perte r√©nale</span>'}
                        </div>
                    </div>
                </div>`;
        }
        analysisStepsK.appendChild(step2);

        // Si kaliur√®se > 20, continuer avec l'analyse de la pression
        if (ku > 20) {
            analyzePressure(pressure);
        }

        // Ajouter la conclusion 
        setTimeout(() => {
            const conclusion = document.createElement('div');
            conclusion.className = 'analysis-step';
            let conclusionContent = `
                <div class="step-number">Conclusion</div>
                <div class="step-content">
                    <div>√âtiologies et traitements</div>
                    <div class="step-values">`;

            if (!ku) {
                // Si kaliur√®se non pr√©cis√©e, afficher toutes les causes possibles
                conclusionContent += `
                    <div class="causes-box" style="margin-bottom: 1rem;">
                        <strong>1. Hypokali√©mie avec pertes extra-r√©nales (Kaliur√®se < 20 mmol/24h)</strong>
                        <ul>
                            <li>Carence d'apports (rare)</li>
                            <li>Diarrh√©es, laxatifs</li>
                            <li>Tumeur villeuse</li>
                            <li>Fistule digestive</li>
                            <li>Hypersudation majeure</li>
                            <li>Pertes r√©nales ant√©rieures (diur√©tiques)</li>
                        </ul>
                    </div>
                    <div class="causes-box" style="margin-bottom: 1rem;">
                        <strong>2. Hypokali√©mie avec pertes r√©nales (Kaliur√®se > 20 mmol/24h) dans un contexte d'HTA</strong>
                        <ul>
                            <li>R√©nine basse :
                                <ul>
                                    <li>Hyperaldost√©ronisme primaire (aldo √©lev√©e)</li>
                                    <li>Syndrome de Cushing</li>
                                    <li>R√©glisse ou intoxication</li>
                                    <li>Syndrome de Liddle (mutation ENaC)</li>
                                </ul>
                            </li>
                            <li>R√©nine haute :
                                <ul>
                                    <li>HTA r√©novasculaire</li>
                                    <li>Tumeur √† r√©nine</li>
                                    <li>Infarctus r√©nal segmentaire</li>
                                    <li>HTA maligne</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="causes-box">
                        <strong>3. Hypokali√©mie avec pertes r√©nales (Kaliur√®se > 20 mmol/24h) dans un contexte de PA normale ou basse</strong>
                        <ul>
                            <li>Acidose m√©tabolique :
                                <ul>
                                    <li>Acidoc√©tose</li>
                                    <li>Acidose tubulaire distale</li>
                                </ul>
                            </li>
                            <li>Alcalose m√©tabolique :
                                <ul>
                                    <li>Clu < 10 mmol/L : Pertes extra-r√©nales de chlore (vomissements, diarrh√©es "√† chlore", mucoviscidose)</li>
                                    <li>Clu > 20 mmol/L : Pertes r√©nales (diur√©tiques, syndrome de Bartter, syndrome de Gitelman, hypomagn√©s√©mie, toxiques de la branche large)</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
					        <div class="ecg-signs-box">
            <strong>Signes ECG</strong>
            <ul>
                <li>Aplatissement onde T diffuse</li>
                <li>Apparition d'une onde U</li>
                <li>Sous d√©calage du ST diffus</li>
                <li>Torsade de pointe par allongement du QT</li>
                <li>Troubles du rythme</li>
                <li>Allongement de la repolarisation</li>
            </ul>
        </div>`;
            } else {
                // Si kaliur√®se pr√©cis√©e, afficher uniquement la cause correspondante
                if (ku < 20) {
                    conclusionContent += `
                        <div class="causes-box">
                            <strong>Hypokali√©mie avec pertes extra-r√©nales (Kaliur√®se < 20 mmol/24h)</strong>
                            <ul>
                                <li>Carence d'apports (rare)</li>
                                <li>Diarrh√©es, laxatifs</li>
                                <li>Tumeur villeuse</li>
                                <li>Fistule digestive</li>
                                <li>Hypersudation majeure</li>
                                <li>Pertes r√©nales ant√©rieures (diur√©tiques)</li>
                            </ul>
                        </div>
						        <div class="ecg-signs-box">
            <strong>Signes ECG</strong>
            <ul>
                <li>Aplatissement onde T diffuse</li>
                <li>Apparition d'une onde U</li>
                <li>Sous d√©calage du ST diffus</li>
                <li>Torsade de pointe par allongement du QT</li>
                <li>Troubles du rythme</li>
                <li>Allongement de la repolarisation</li>
            </ul>
        </div>
		`;
                } else if (ku >= 20) {
                    if (pressure === 'high') {
                        conclusionContent += `
                            <div class="causes-box">
                                <strong>Hypokali√©mie avec pertes r√©nales (Kaliur√®se > 20 mmol/24h) dans un contexte d'HTA</strong>
                                <ul>
                                    <li>R√©nine basse :
                                        <ul>
                                            <li>Hyperaldost√©ronisme primaire (aldo √©lev√©e)</li>
                                            <li>Syndrome de Cushing</li>
                                            <li>R√©glisse ou intoxication</li>
                                            <li>Syndrome de Liddle (mutation ENaC)</li>
                                        </ul>
                                    </li>
                                    <li>R√©nine haute :
                                        <ul>
                                            <li>HTA r√©novasculaire</li>
                                            <li>Tumeur √† r√©nine</li>
                                            <li>Infarctus r√©nal segmentaire</li>
                                            <li>HTA maligne</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
							        <div class="ecg-signs-box">
            <strong>Signes ECG</strong>
            <ul>
                <li>Aplatissement onde T diffuse</li>
                <li>Apparition d'une onde U</li>
                <li>Sous d√©calage du ST diffus</li>
                <li>Torsade de pointe par allongement du QT</li>
                <li>Troubles du rythme</li>
                <li>Allongement de la repolarisation</li>
            </ul>
        </div>`;
                    } else {
                        conclusionContent += `
                            <div class="causes-box">
                                <strong>Hypokali√©mie avec pertes r√©nales (Kaliur√®se > 20 mmol/24h) dans un contexte de PA normale ou basse</strong>
                                <ul>
                                    <li>Acidose m√©tabolique :
                                        <ul>
                                            <li>Acidoc√©tose</li>
                                            <li>Acidose tubulaire distale</li>
                                        </ul>
                                    </li>
                                    <li>Alcalose m√©tabolique :
                                        <ul>
                                            <li>Clu < 10 mmol/L : Pertes extra-r√©nales de chlore (vomissements, diarrh√©es "√† chlore", mucoviscidose)</li>
                                            <li>Clu > 20 mmol/L : Pertes r√©nales (diur√©tiques, syndrome de Bartter, syndrome de Gitelman, hypomagn√©s√©mie, toxiques de la branche large)</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
							        <div class="ecg-signs-box">
            <strong>Signes ECG</strong>
            <ul>
                <li>Aplatissement onde T diffuse</li>
                <li>Apparition d'une onde U</li>
                <li>Sous d√©calage du ST diffus</li>
                <li>Torsade de pointe par allongement du QT</li>
                <li>Troubles du rythme</li>
                <li>Allongement de la repolarisation</li>
            </ul>
        </div>`;
                    }
                }
            }

            conclusionContent += `</div></div>`;
            conclusion.innerHTML = conclusionContent;
            analysisStepsK.appendChild(conclusion);
        }, 1200);
    }, 400);

}
function analyzePressure(pressure) {
    const analysisStepsK = document.getElementById('analysisStepsK');

    setTimeout(() => {
        const step3 = document.createElement('div');
        step3.className = 'analysis-step';
        
        if (!pressure) {
            step3.innerHTML = `
                <div class="step-number">√âtape 3</div>
                <div class="step-content">
                    <div>Analyse de la pression art√©rielle</div>
                    <div class="step-values">
                        <span class="coherence-check missing">Pression art√©rielle non renseign√©e</span>
                    </div>
                </div>`;
        } else {
            step3.innerHTML = `
                <div class="step-number">√âtape 3</div>
                <div class="step-content">
                    <div>Analyse de la pression art√©rielle</div>
                    <div class="step-values">
                        <div class="diagnosis-box">
                            ${pressure === 'high' ? 
                                '<span class="coherence-check ta-high">Pression art√©rielle augment√©e</span>' :
                                '<span class="coherence-check ta-negative">Pression art√©rielle normale ou basse</span>'}
                        </div>
                    </div>
                </div>`;
				
        }
        analysisStepsK.appendChild(step3);
    }, 800);
}


function analyzeHyperkalemia() {
    const analysisStepsK = document.getElementById('analysisStepsK');

    setTimeout(() => {
        const conclusion = document.createElement('div');
        conclusion.className = 'analysis-step';
        conclusion.innerHTML = `
            <div class="step-number">Conclusion</div>
            <div class="step-content">
                <div>√âtiologies et traitements</div>
                <div class="step-values">
                    <div class="causes-box">
					<strong>Hyperkali√©mie</strong>

					</div>
					<div class="causes-box">
                        
						1. Exc√®s d'apport
                        <ul>
                            <li>Administration excessive de potassium (orale ou IV)</li>
                            <li>Diur√©tiques √©pargneurs de potassium</li>
                        </ul>
                    </div>
                   
					<div class="causes-box">
                        2. Transfert intracellulaire ‚Üí extracellulaire
                        <ul>
                            <li>Acidose m√©tabolique (augmentation de 0,5 mmol/L pour chaque baisse de 0,1 du pH)</li>
                            <li>Catabolisme cellulaire (rhabdomyolyse, br√ªlures, h√©molyse, lyse tumorale)</li>
                            <li>Hyperosmolarit√© (augmentation de 0,3-0,6 mEq/L pour chaque augmentation de 10 mOsm/kg)</li>
                            <li>Exercice physique intense</li>
                            <li>M√©dicaments (Œ≤-bloquants non s√©lectifs, digitaliques, agonistes Œ±-adr√©nergiques)</li>
                        </ul>
                    </div>
                    <div class="causes-box">
                        3. R√©duction de l'excr√©tion r√©nale
                        <ul>
                            <li>Insuffisance r√©nale (aigu√´ ou chronique)</li>
                            <li>D√©ficit en min√©ralocortico√Ødes</li>
                            <li>M√©dicaments (AINS, IEC, ARA2, diur√©tiques √©pargneurs de potassium)</li>
                        </ul>
                    </div>
					
					<div class="treatment-box">
						<strong>Traitement</strong>
						<ul>
							<li>Traitement de la cause</li>
							<li>Gluconate de calcium (ou chlorure de magn√©sium si traitement par digitaliques)</li>
							<li>Insuline + Glucose</li>
							<li>Salbutamol</li>
							<li>Alcalinisation plasmatique si acidose m√©tabolique aigue √† TA normal</li>
							<li>+/- Diur√©tiques de l'anse, √©puration extra-r√©nale, r√©sine √©changeuse d'ion (Kayexalate)</li>
						</ul>
					</div>
					
						<div class="ecg-signs-box">
							<strong>Signes ECG</strong>
							<ul>
								<li>Onde T ample, pointue, sym√©trique, √©troite</li>
								<li>Allongement du PR (BAV) et dysfonction sinusale</li>
								<li>√âlargissement du QRS</li>
								<li>Troubles de la conduction</li>
								<li>Acc√©l√©ration de la repolarisation</li>
							</ul>
						</div>
                </div>
				
            </div>`;
			
			
			
			
        analysisStepsK.appendChild(conclusion);
    }, 1200);
}



// Affichage de l'√©tape 0 au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    const analysisStepsIRA = document.getElementById('analysisStepsIRA');
    analysisStepsIRA.innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : IRA</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Ur√©e + Cr√©at ...
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
});


function analyzeIRA() {
    // R√©cup√©ration des valeurs
    const uree = parseFloat(document.getElementById('THE_Ur√©e').value);
    const creat = parseFloat(document.getElementById('THE_Cr√©at').value);
    const nau = parseFloat(document.getElementById('THE_Nau2').value);
    const ureeu = parseFloat(document.getElementById('THE_Ur√©eu2').value);
    const creatu = parseFloat(document.getElementById('THE_Cr√©atu').value);
    const ku = parseFloat(document.getElementById('THE_Ku3').value);

    const analysisStepsIRA = document.getElementById('analysisStepsIRA');
    analysisStepsIRA.innerHTML = '';

    let iraFCount = 0;
    let iraOCount = 0;
    let results = [];

    // Liste de tous les rapports √† afficher GLOIRE √† notre m√®re nation
    const allReports = [
        {
            name: "Ur√©e/Cr√©atinine plasmatique",
            calculate: () => {
                if (!uree || !creat) return null;
                return (uree*100/creat).toFixed(0);
            },
            evaluate: (value) => {
                if (value > 100) return { threshold: "> 100", type: "iraF" };
                return { threshold: "< 50", type: "iraO" };
            }
        },
        {
            name: "Na+ urinaire",
            calculate: () => {
                if (!nau) return null;
                return nau;
            },
            evaluate: (value) => {
                if (value < 20) return { threshold: "< 20", type: "iraF" };
                return { threshold: "> 40", type: "iraO" };
            }
        },
        {
            name: "FE Na+ (%)",
            calculate: () => {
                if (!nau || !creat || !creatu) return null;
                return ((nau * creat) / (creatu * 140) * 100).toFixed(2);
            },
            evaluate: (value) => {
                if (value < 1) return { threshold: "< 1%", type: "iraF" };
                return { threshold: "> 1-2%", type: "iraO" };
            }
        },
        {
            name: "FE ur√©e (%)",
            calculate: () => {
                if (!ureeu || !uree || !creatu || !creat) return null;
                return ((ureeu * creat) / (uree * creatu) * 100).toFixed(0);
            },
            evaluate: (value) => {
                if (value < 35) return { threshold: "< 35%", type: "iraF" };
                return { threshold: "> 35-40%", type: "iraO" };
            }
        },
        {
            name: "Na+/K+ urinaire",
            calculate: () => {
                if (!nau || !ku) return null;
                return (nau/ku).toFixed(2);
            },
            evaluate: (value) => {
                if (value < 1) return { threshold: "< 1", type: "iraF" };
                return { threshold: "> 1", type: "iraO" };
            }
        },
        {
            name: "U/P ur√©e",
            calculate: () => {
                if (!ureeu || !uree) return null;
                return (ureeu/uree).toFixed(0);
            },
            evaluate: (value) => {
                if (value > 10) return { threshold: "> 10", type: "iraF" };
                return { threshold: "< 10", type: "iraO" };
            }
        },
        {
            name: "U/P cr√©atinine",
            calculate: () => {
                if (!creatu || !creat) return null;
                return (creatu*100/creat).toFixed(0);
            },
            evaluate: (value) => {
                if (value > 30) return { threshold: "> 30", type: "iraF" };
                return { threshold: "< 30", type: "iraO" };
            }
        }
    ];

    // Traitement de chaque rapport
    allReports.forEach(report => {
        const value = report.calculate();
        
        if (value === null) {
            results.push({
                name: report.name,
                value: "N/A",
                threshold: "Donn√©es manquantes",
                type: "missing"
            });
        } else {
            const evaluation = report.evaluate(value);
            results.push({
                name: report.name,
                value: value,
                threshold: evaluation.threshold,
                type: evaluation.type
            });
            if (evaluation.type === "iraF") iraFCount++;
            if (evaluation.type === "iraO") iraOCount++;
        }
    });

    // Affichage des r√©sultats
    let html = '';
    results.forEach(result => {
        if (result.type === "missing") {
            html += `
                <div class="ira-result">
                    <div class="ira-ratio">${result.name}</div>
                    <div class="ira-threshold missing">${result.threshold}</div>
                </div>
            `;
        } else {
            html += `
                <div class="ira-result">
                    <div class="ira-ratio">${result.name} = ${result.value}</div>
                    <div class="ira-threshold ${result.type}">${result.threshold}</div>
                    <div class="ira-conclusion ${result.type}">
                        En faveur d'une IRA ${result.type === 'iraF' ? 'fonctionnelle' : 'organique'}
                    </div>
                </div>
            `;
        }
    });

    // Conclusion finale seulement si au moins un rapport a √©t√© calcul√©
    if (iraFCount > 0 || iraOCount > 0) {
        html += `
            <div class="ira-final-conclusion">
                <div class="ira-counts">
                    Arguments en faveur d'une IRA fonctionnelle : ${iraFCount}<br>
                    Arguments en faveur d'une IRA organique : ${iraOCount}
                </div>
                <div class="ira-profile ${iraFCount > iraOCount ? 'iraF' : iraOCount > iraFCount ? 'iraO' : 'indeterminate'}">
                    Profil ${iraFCount > iraOCount ? 'en faveur d\'une IRA fonctionnelle' : 
                            iraOCount > iraFCount ? 'en faveur d\'une IRA organique' : 
                            'ind√©termin√©'}
                </div>
            </div>
        `;
    } else {
        html += `
            <div class="ira-final-conclusion">
                <div class="ira-counts missing">
                    Aucun rapport n'a pu √™tre calcul√© en raison de donn√©es manquantes
                </div>
            </div>
        `;
    }

    analysisStepsIRA.innerHTML = html;
}





// Fonction d'analyse globale
function analyzeTHENa() {
    // R√©initialiser la zone d'analyse
    document.getElementById('analysisStepsNa').innerHTML = '';
    // Lancer l'analyse
    analyzeNatremia();
	
	
}

// Fonction d'analyse globale
function analyzeTHEK() {
    // R√©initialiser la zone d'analyse
    document.getElementById('analysisStepsK').innerHTML = '';
    // Lancer l'analyse
	analyzeKalemia();
	
	
}

//pas besoin pour la calc√©mie car fonction = ID bouton


// Fonction d'analyse globale
function analyzeTHEIRA() {
    // R√©initialiser la zone d'analyse
    document.getElementById('analysisStepsIRA').innerHTML = '';
    // Lancer l'analyse
	analyzeIRA();
	
	
}

document.addEventListener('DOMContentLoaded', function() {
  // Ajouter les ic√¥nes Font Awesome aux boutons de conclusion
  const generateConclusionButton = document.querySelector('button[onclick="generateTHEConclusion()"]');
  const copyConclusionButton = document.querySelector('button[onclick="copyToClipboard()"]');
  
  // V√©rifier si les boutons existent avant de les modifier
  if (generateConclusionButton) {
    generateConclusionButton.innerHTML = '<i class="fas fa-file-medical"></i> G√©n√©rer une conclusion';
  }
  
  if (copyConclusionButton) {
    copyConclusionButton.innerHTML = '<i class="fas fa-copy"></i> Copier la conclusion';
  }
  
  // Fonction pour cr√©er et afficher la notification
  function showConclusionNotification(message) {
    // Cr√©er un √©l√©ment pour la notification
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.position = 'fixed';
    notification.style.right = '20px';
    notification.style.bottom = '100px';
    notification.style.padding = '10px 20px';
    notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
    notification.style.color = 'white';
    notification.style.borderRadius = '5px';
    notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
    notification.style.zIndex = '1000';
    notification.style.fontWeight = '500';
    notification.style.opacity = '0';
    notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
    notification.style.transform = 'translateY(20px)';
    
    // Ajuster pour le mode sombre
    if (document.documentElement.getAttribute('data-theme') === 'dark') {
      notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
    }
    
    // Ajouter au DOM
    document.body.appendChild(notification);
    
    // Animation d'apparition
    setTimeout(() => {
      notification.style.opacity = '1';
      notification.style.transform = 'translateY(0)';
    }, 10);
    
    // Retirer la notification apr√®s l'animation
    setTimeout(() => {
      // Faire dispara√Ætre la notification
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      
      // Supprimer du DOM apr√®s la disparition
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 1500);
  }
  
  // Fonction d'animation de l'ic√¥ne
  function animateConclusionIcon(button) {
    const icon = button.querySelector('i');
    if (icon) {
      // Ajouter la classe d'animation √† l'ic√¥ne uniquement
      icon.classList.add('icon-pulse');
      
      // Retirer la classe d'animation apr√®s la fin de l'animation
      setTimeout(() => {
        icon.classList.remove('icon-pulse');
      }, 500);
    }
  }
  
  // Modifier le comportement du bouton G√©n√©rer
  if (generateConclusionButton) {
    generateConclusionButton.addEventListener('click', function(e) {
      animateConclusionIcon(this);
      showConclusionNotification('Conclusion g√©n√©r√©e !');
    }, true);
  }
  
  // Modifier le comportement du bouton Copier
  if (copyConclusionButton) {
    copyConclusionButton.addEventListener('click', function(e) {
      animateConclusionIcon(this);
      showConclusionNotification('Conclusion copi√©e !');
    }, true);
  }
});


</script>


<style>


/* Animation de grossissement-r√©duction pour les ic√¥nes */
.icon-pulse {
  animation: iconPulse 0.5s ease-in-out;
  display: inline-block;
}

@keyframes iconPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.5); }
  100% { transform: scale(1); }
}

/* Assurer que l'ic√¥ne est correctement align√©e pour les boutons */
button i {
  margin-right: 8px;
}



.value-calculation {
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    border-radius: 0.25rem;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: #1e293b;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.diagnosis-box {
    margin-bottom: 0.5rem;
}

.coherence-check {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: 0.375rem;
    font-weight: 500;
    font-size: 0.9rem;
}

.coherence-check.normal {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}

.coherence-check.complex {
    background: #f0f9ff;
    color: #0c4a6e;
    border: 1px solid #7dd3fc;
}

.coherence-check.acidemia {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.missing {
    background: #fef9c3;
    color: #854d0e;
    border: 1px solid #fde047;
}

.coherence-check.ta-high {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.ta-negative {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}

.causes-box {
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    border-left: 5px solid #1e40af;
    margin: 0.25rem 0;
}

.causes-box ul {
    margin: 0;
    padding-left: 1.25rem;
    list-style-type: none;
}

.causes-box li {
    position: relative;
    padding: 0.15rem 0;
    color: #1e293b;
    font-size: 0.9rem;
    line-height: 1.4;
}

.causes-box li:before {
    content: "‚Ä¢";
    color: #1e40af;
    position: absolute;
    left: -1rem;
}

.treatment-box {
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    border-left: 5px solid #60a5fa;  /* Bleu plus clair */
    margin: 0.25rem 0;
}

.treatment-box ul {
    margin: 0;
    padding-left: 1.25rem;
    list-style-type: none;
}

.treatment-box li {
    position: relative;
    padding: 0.15rem 0;
    color: #1e293b;
    font-size: 0.9rem;
    line-height: 1.4;
}

.treatment-box li:before {
    content: "‚Ä¢";
    color: #60a5fa;  /* Points en bleu clair */
    position: absolute;
    left: -1rem;
}



.analysis-step {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInStep 0.5s ease forwards;
    margin-bottom: 0.75rem;
    padding: 0.75rem;
}

.step-content {
    margin-top: 0.25rem;
}

.step-values {
    margin-top: 0.25rem;
}

.step-number {
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
    font-weight: 600;
    color: #1e293b;
}

[class^="analysis-step"]:last-child .step-values {
    margin-top: 0.15rem;
}

[class^="analysis-step"]:last-child .step-content > div:first-child {
    margin-bottom: 0.15rem;
}

@keyframes fadeInStep {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#deficitSection {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid #e2e8f0;
}

#deficitSection .input-group {
    margin-bottom: 8px;
}

#deficitSection input[type="number"] {
    width: 60px !important;
}
/* Styles pour les r√©sultats individuels */
.ira-result {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 0.5rem;
    background: #f8fafc;
    border-radius: 0.5rem;
}

.ira-ratio {
    font-weight: 500;
    min-width: 200px;
}

.ira-threshold {
    padding: 0.25rem 0.75rem;
    border-radius: 0.375rem;
    font-weight: 500;
    min-width: 80px;
    text-align: center;
}

.ira-conclusion {
    padding: 0.25rem 0.75rem;
    border-radius: 0.375rem;
    font-weight: 500;
}

/* Style pour IRA fonctionnelle */
.iraF {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #93c5fd;
}

/* Style pour IRA organique */
.iraO {
    background: #ffedd5;
    color: #9a3412;
    border: 1px solid #fdba74;
}

/* Style pour donn√©es manquantes */
.missing {
    background: #fef9c3;
    color: #854d0e;
    border: 1px solid #fde047;
}

/* Nouveau style am√©lior√© pour la conclusion finale */
.ira-final-conclusion {
    margin-top: 2rem;
    padding: 1.5rem;
    background: #ffffff;
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: 1px solid #e5e7eb;
}

.ira-counts {
    margin-bottom: 1rem;
    font-size: 0.95rem;
    line-height: 1.5;
    color: #4b5563;
    padding: 0.75rem;
    background: #f9fafb;
    border-radius: 0.5rem;
}

.ira-profile {
    padding: 1rem;
    border-radius: 0.5rem;
    font-weight: 600;
    text-align: center;
    font-size: 1.1rem;
    margin-top: 1rem;
    transition: all 0.3s ease;
}

.ira-profile.iraF {
    background: linear-gradient(to right, #dbeafe, #bfdbfe);
    color: #1e40af;
    border: none;
}

.ira-profile.iraO {
    background: linear-gradient(to right, #ffedd5, #fed7aa);
    color: #9a3412;
    border: none;
}

.ira-profile.indeterminate {
    background: linear-gradient(to right, #f3f4f6, #e5e7eb);
    color: #4b5563;
    border: none;
}

/* Animation pour la conclusion */
.ira-final-conclusion {
    animation: slideUp 0.5s ease-out forwards;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Style responsive */
@media (max-width: 768px) {
    .ira-result {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .ira-ratio {
        min-width: unset;
        width: 100%;
    }
    
    .ira-threshold,
    .ira-conclusion {
        width: 100%;
        text-align: center;
    }

    .ira-final-conclusion {
        padding: 1rem;
    }
}

.ecg-signs-box {
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    border-left: 5px solid #dc2626;  /* Rouge pour la barre lat√©rale */
    margin: 0.25rem 0;
}

.ecg-signs-box ul {
    margin: 0;
    padding-left: 1.25rem;
    list-style-type: none;
}

.ecg-signs-box li {
    position: relative;
    padding: 0.15rem 0;
    color: #1e293b;
    font-size: 0.9rem;
    line-height: 1.4;
}

.ecg-signs-box li:before {
    content: "‚Ä¢";  /* Tiret long pour les signes ECG */
    color: #dc2626;  /* Rouge pour les tirets */
    position: absolute;
    left: -1rem;
}



</style>


<script>
function resetNatremia() {
    // R√©initialiser les champs
    const fields = ['THE_Na', 'THE_Gly', 'THE_Nau', 'THE_Ku', 'THE_Glyu', 'THE_Ur√©eu'];
    fields.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.value = '';
            input.classList.remove('blink');
        }
    });

    // R√©initialiser les champs calcul√©s
    ['Osmp', 'Osmu'].forEach(id => {
        const field = document.getElementById(id);
        if (field) field.value = '';
    });

    // R√©initialiser les statuts
    ['Na-status', 'Gly-status', 'Osmp-status', 'Osmu-status'].forEach(id => {
        const status = document.getElementById(id);
        if (status) {
            status.textContent = '';
            status.style.color = '';
        }
    });

    // Remettre "Normal" pour le secteur EC
    const normalRadio = document.querySelector('input[name="secteur_ec"][value="normal"]');
    if (normalRadio) normalRadio.checked = true;

    // Masquer section d√©ficit
    const deficitSection = document.getElementById('deficitSection');
    if (deficitSection) deficitSection.style.display = 'none';

    // R√©initialiser l'analyse
    document.getElementById('analysisStepsNa').innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Natr√©mie<div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Natr√©mie +/- Glyc√©mie
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
}

function resetKalemia() {
    // R√©initialiser les champs
    ['THE_K', 'THE_Ku2'].forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.value = '';
            input.classList.remove('blink');
        }
    });

    // R√©initialiser le statut
    const status = document.getElementById('K-status');
    if (status) {
        status.textContent = '';
        status.style.color = '';
    }

    // Remettre PA normale/basse par d√©faut
    const normalPressure = document.querySelector('input[name="pressure"][value="normal"]');
    if (normalPressure) normalPressure.checked = true;

    // R√©initialiser l'analyse
    document.getElementById('analysisStepsK').innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : Kali√©mie</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Kali√©mie +/- Kaliur√®se
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
}

function resetIRA() {
    // R√©initialiser les champs
    const fields = ['THE_Na2', 'THE_Ur√©e', 'THE_Cr√©at', 'THE_Ur√©eu2', 
                   'THE_Cr√©atu', 'THE_Nau2', 'THE_Ku3', 'THE_volume'];
    fields.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.value = '';
            input.classList.remove('blink');
        }
    });

    // R√©initialiser les champs calcul√©s
    const clrCreat = document.getElementById('ClrCr√©at');
    if (clrCreat) clrCreat.value = '';

    // R√©initialiser l'analyse
    document.getElementById('analysisStepsIRA').innerHTML = `
        <div class="analysis-step">
            <div class="step-number">Initialisation : IRA</div>
            <div class="step-content">
                <div class="step-values">
                    <div style="color: #666; font-size: 0.9rem;">
                        Valeurs requises : Ur√©e + Cr√©at...
                        <div style="margin-top: 0.25rem; font-style: italic; font-size: 0.85rem;">
                            Cliquez sur "Analyser" pour commencer
                        </div>
                    </div>
                </div>
            </div>
        </div>`;
}

function generateTHEConclusion() {
    const values = {
        // Donn√©es natr√©mie
        na: document.getElementById('THE_Na').value,
        gly: document.getElementById('THE_Gly').value,
        nau: document.getElementById('THE_Nau').value,
        ku: document.getElementById('THE_Ku').value,
        glyu: document.getElementById('THE_Glyu').value,
        ureeu: document.getElementById('THE_Ur√©eu').value,
        osmp: document.getElementById('Osmp').value,
        osmu: document.getElementById('Osmu').value,
        deficit: document.getElementById('deficit').value,
        
        // Donn√©es kali√©mie
        k: document.getElementById('THE_K').value,
        ku2: document.getElementById('THE_Ku2').value,

        // Donn√©es calc√©mie
        ca: document.getElementById('THE_Cam').value,
        cac: document.getElementById('Cac').value,
        albu: document.getElementById('THE_Albu').value,
        pth: document.getElementById('THE_PTN').value,
        vitD: document.getElementById('THE_VitD').value,
        
        // Donn√©es IRA
        uree: document.getElementById('THE_Ur√©e').value,
        creat: document.getElementById('THE_Cr√©at').value,
        ureeu2: document.getElementById('THE_Ur√©eu2').value,
        creatu: document.getElementById('THE_Cr√©atu').value,
        nau2: document.getElementById('THE_Nau2').value,
        ku3: document.getElementById('THE_Ku3').value,
        volume: document.getElementById('THE_volume').value,
        clrCreat: document.getElementById('ClrCr√©at').value
    };

    let donnees = "";
    let conclusionText = "";
    let hasData = false;

    // Construction des donn√©es
    if (values.na) { donnees += `Na = ${values.na} mmol/L ; `; hasData = true; }
    if (values.gly) { donnees += `Glyc√©mie = ${values.gly} mmol/L ; `; hasData = true; }
    if (values.osmp) { donnees += `Osmolarit√© plasmatique = ${values.osmp} mosm/L ; `; hasData = true; }
    if (values.nau) { donnees += `Nau = ${values.nau} mmol/L ; `; hasData = true; }
    if (values.ku) { donnees += `Ku = ${values.ku} mmol/L ; `; hasData = true; }
    if (values.glyu) { donnees += `Glycosurie = ${values.glyu} mmol/L ; `; hasData = true; }
    if (values.ureeu) { donnees += `Ur√©e u = ${values.ureeu} mmol/L ; `; hasData = true; }
    if (values.osmu) { donnees += `Osmolarit√© urinaire = ${values.osmu} mosm/L ; `; hasData = true; }

    // Donn√©es kali√©mie
    if (values.k) { donnees += `K = ${values.k} mmol/L ; `; hasData = true; }
    if (values.ku2) { donnees += `Ku = ${values.ku2} mmol/L ; `; hasData = true; }

    // Donn√©es calc√©mie
    if (values.ca) {
        donnees += `Ca mesur√© = ${values.ca} mmol/L ; `;
        hasData = true;
        if (values.cac) { donnees += `Ca corrig√© = ${values.cac} mmol/L ; `; }
        if (values.albu) { donnees += `Albumine = ${values.albu} g/L ; `; }
        if (values.pth) { donnees += `PTH = ${values.pth} pg/mL ; `; }
        if (values.vitD) { donnees += `Vitamine D = ${values.vitD} ng/mL ; `; }
    }

    // Donn√©es IRA
    if (values.uree) { donnees += `Ur√©e p = ${values.uree} mmol/L ; `; hasData = true; }
    if (values.creat) { donnees += `Cr√©atinine p = ${values.creat} ¬µmol/L ; `; hasData = true; }
    if (values.ureeu2) { donnees += `Ur√©e u = ${values.ureeu2} mmol/L ; `; hasData = true; }
    if (values.creatu) { donnees += `Cr√©atinine u = ${values.creatu} mmol/L ; `; hasData = true; }
    if (values.nau2) { donnees += `Nau = ${values.nau2} mmol/L ; `; hasData = true; }
    if (values.ku3) { donnees += `Ku = ${values.ku3} mmol/L ; `; hasData = true; }
    if (values.volume) { donnees += `Volume = ${values.volume} L/24h ; `; hasData = true; }
    if (values.clrCreat) { donnees += `Clairance cr√©at = ${values.clrCreat} mL/min ; `; hasData = true; }

    // Construction des conclusions
    // Conclusion natr√©mie
    if (values.na && (parseFloat(values.na) < 135 || parseFloat(values.na) > 145)) {
        const conclusionBoxesNa = document.querySelectorAll('#analysisStepsNa .causes-box strong');
        conclusionBoxesNa.forEach(box => {
            if (box.textContent.includes('natr√©mie')) {
                conclusionText += box.textContent + ".\n";
            }
        });
    }

    // Conclusion kali√©mie
    if (values.k && (parseFloat(values.k) < 3.5 || parseFloat(values.k) > 5)) {
        const conclusionBoxesK = document.querySelectorAll('#analysisStepsK .causes-box strong');
        conclusionBoxesK.forEach(box => {
            conclusionText += box.textContent + ".\n";
        });
    }

    // Conclusion calc√©mie
    if (values.ca) {
        let caValue = values.cac ? parseFloat(values.cac) : parseFloat(values.ca);
        let caType = values.cac ? "corrig√©e" : "mesur√©e";

        if (caValue < 2.2) {
            let conclusion = `Hypocalc√©mie`;
            if (values.pth) {
                conclusion += parseFloat(values.pth) > 65 ? " √† PTH adapt√©e" : " √† PTH inadapt√©e";
            }
            if (values.vitD) {
                if (parseFloat(values.vitD) < 20) {
                    conclusion += " avec carence en vitamine D";
                } else if (parseFloat(values.vitD) > 80) {
                    conclusion += " avec intoxication en vitamine D";
                }
            }
            conclusionText += conclusion + ".\n";
        } 
        else if (caValue > 2.6) {
            let conclusion = `Hypercalc√©mie`;
            if (values.pth) {
                conclusion += parseFloat(values.pth) < 15 ? " √† PTH adapt√©e" : " √† PTH inadapt√©e";
            }
            if (values.vitD) {
                if (parseFloat(values.vitD) < 20) {
                    conclusion += " avec carence en vitamine D";
                } else if (parseFloat(values.vitD) > 80) {
                    conclusion += " avec intoxication en vitamine D";
                }
            }
            conclusionText += conclusion + ".\n";
        }
	
    }

    // Conclusion IRA
    const iraProfile = document.querySelector('.ira-profile');
    if (iraProfile && !iraProfile.classList.contains('indeterminate')) {
        conclusionText += iraProfile.textContent.trim() + ".\n";
    }

    if (!hasData) {
        donnees = "Aucune donn√©e saisie";
    } else {
        donnees = donnees.slice(0, -2);
    }

    const generatedTextArea = document.getElementById('THE_generatedTextArea');
    generatedTextArea.innerHTML = `<strong style="color: #1e40af;">Donn√©es :</strong>\n${donnees}\n<br><strong style="color: #1e40af;">Conclusion :</strong>\n${conclusionText}`;
}


// copier la conclusion
function copyToClipboard() {
    const textArea = document.getElementById('THE_generatedTextArea');
    if (textArea) {
        // R√©cup√®re le texte et normalise les sauts de ligne
        const textContent = textArea.innerText.replace(/\n+/g, '\n');
        
        navigator.clipboard.writeText(textContent)
            .catch(err => console.error('Erreur lors de la copie:', err));
    }
}


document.addEventListener('DOMContentLoaded', function() {
  // Ajouter la m√™me ic√¥ne et animation √† tous les boutons d'analyse
  const analyzeButtons = [
    {
      onclick: 'analyzeTHENa()',
      text: 'Analyser'
    },
    {
      onclick: 'analyzeTHEK()',
      text: 'Analyser'
    },
    {
      onclick: 'analyzeTHECa()',
      text: 'Analyser'
    },
    {
      onclick: 'analyzeIRA()',
      text: 'Analyser'
    }
  ];
  
  // Ajouter la m√™me ic√¥ne (fa-microscope) √† tous les boutons d'analyse
  analyzeButtons.forEach(btn => {
    const button = document.querySelector(`button[onclick="${btn.onclick}"]`);
    if (button) {
      button.innerHTML = `<i class="fas fa-microscope"></i> ${btn.text}`;
    }
  });
  
  // Fonction pour cr√©er et afficher la notification
  function showAnalysisNotification(message) {
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.position = 'fixed';
    notification.style.right = '20px';
    notification.style.bottom = '100px';
    notification.style.padding = '10px 20px';
    notification.style.backgroundColor = 'rgba(37, 99, 235, 0.9)';
    notification.style.color = 'white';
    notification.style.borderRadius = '5px';
    notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
    notification.style.zIndex = '1000';
    notification.style.fontWeight = '500';
    notification.style.opacity = '0';
    notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
    notification.style.transform = 'translateY(20px)';
    
    if (document.documentElement.getAttribute('data-theme') === 'dark') {
      notification.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';
    }
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.opacity = '1';
      notification.style.transform = 'translateY(0)';
    }, 10);
    
    setTimeout(() => {
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 1500);
  }
  
  // Fonction d'animation de l'ic√¥ne
  function animateAnalysisIcon(button) {
    const icon = button.querySelector('i');
    if (icon) {
      icon.classList.add('icon-pulse');
      setTimeout(() => {
        icon.classList.remove('icon-pulse');
      }, 500);
    }
  }
  
  // Ajouter les √©couteurs d'√©v√©nements pour chaque bouton d'analyse
  analyzeButtons.forEach(btn => {
    const button = document.querySelector(`button[onclick="${btn.onclick}"]`);
    if (button) {
      button.addEventListener('click', function(e) {
        animateAnalysisIcon(this);
        
        let notificationMessage = '';
        switch(btn.onclick) {
          case 'analyzeTHENa()':
            notificationMessage = 'Analyse de la natr√©mie en cours...';
            break;
          case 'analyzeTHEK()':
            notificationMessage = 'Analyse de la kali√©mie en cours...';
            break;
          case 'analyzeTHECa()':
            notificationMessage = 'Analyse de la calc√©mie en cours...';
            break;
          case 'analyzeIRA()':
            notificationMessage = 'Analyse de l\'IRA en cours...';
            break;
        }
        
        showAnalysisNotification(notificationMessage);
      }, true);
    }
  });
});



</script>


<style>

/* Animation de grossissement-r√©duction pour les ic√¥nes */
.icon-pulse {
  animation: iconPulse 0.5s ease-in-out;
  display: inline-block;
}

@keyframes iconPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.5); }
  100% { transform: scale(1); }
}

/* Assurer que l'ic√¥ne est correctement align√©e pour les boutons */
button i {
  margin-right: 8px;
  transition: transform 0.3s ease;
}


input[type="number"] {
   background-color: white;
   color: #1e293b;
   border: 2px solid #475569;  /* Gris beaucoup plus fonc√© pour les bordures */
}

input[type="number"]:hover {
   border-color: #3b82f6;
   box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.35);
}

input[type="number"]:focus {
   border-color: #1d4ed8;
   box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
}
</style>


<style>


.analysis-steps {
    padding: 1rem;
    background: #f8fafc;
    border-radius: 0.5rem;
    margin-top: 1rem;
}

.analysis-step {
    background: white;
    border-radius: 0.75rem;
    padding: 1rem;
    margin: 0 0 1rem 0;  /* Sp√©cifier toutes les marges, particuli√®rement margin-right: 0 */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInStep 0.5s ease forwards;
    width: 100%;  /* Forcer la largeur √† 100% */
    box-sizing: border-box;  /* Inclure padding et border dans la largeur */
}

.step-values {
    margin-top: 0.75rem;
    padding: 0.75rem;
    background: #f8fafc;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
    width: 100%;  /* Forcer la largeur √† 100% */
    box-sizing: border-box;  /* Inclure padding et border dans la largeur */
}

.step-content {
    margin-top: 0.25rem;
    width: 100%;  /* Forcer la largeur √† 100% */
    box-sizing: border-box;  /* Inclure padding et border dans la largeur */
}

.step-number {
    font-weight: 600;
    color: #1e293b;
    min-width: 80px; /* Largeur fixe pour aligner tous les contenus */
    display: inline-block;
}

.step-content {
    flex: 1;
}



/* Assurez-vous que toutes les √©tapes ont la m√™me structure */
.step-content > div:first-child {
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.coherence-check {
    display: inline-flex;
    align-items: center;
    margin-left: 1rem;
    padding: 0.25rem 0.75rem;
    border-radius: 0.375rem;
    font-weight: 500;
}

.coherence-check.valid {
    background: #dcfce7;
    color: #16a34a;
}

.coherence-check.invalid {
    background: #fee2e2;
    color: #dc2626;
}


.coherence-check.missing {
    background: #fef9c3;
    color: #854d0e;
    border: 1px solid #fde047;
}


.coherence-check.acidemia {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.alkalemia {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #93c5fd;
}

.coherence-check.normal {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}

/* Cases color√©es pour les diff√©rents types de troubles */
.coherence-check.acidemia.respiratory {
    background: #ffedd5;
    color: #9a3412;
    border: 1px solid #fdba74;
}

.coherence-check.acidemia.metabolic {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.alkalemia.respiratory {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #93c5fd;
}

.coherence-check.alkalemia.metabolic {
    background: #e0e7ff;
    color: #3730a3;
    border: 1px solid #a5b4fc;
}

.coherence-check.compensation.complete {
    background: #f0fdf4;
    color: #166534;
    border: 1px solid #86efac;
}

.coherence-check.compensation.incomplete {
    background: #fff7ed;
    color: #9a3412;
    border: 1px solid #fdba74;
}

.coherence-check.mixed {
    background: #fff1f2;
    color: #be123c;
    border: 1px solid #fda4af;
}

.coherence-check.complex {
    background: #f0f9ff;
    color: #0c4a6e;
    border: 1px solid #7dd3fc;
}

.coherence-check.compensation.incomplete {
    background: #fff7ed;
    color: #9a3412;
    border: 1px solid #fdba74;
}

.coherence-check.ta-high {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.ta-normal {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}


.coherence-check.missing {
    background: #fef9c3;
    color: #854d0e;
    border: 1px solid #fde047;
}

.coherence-check.ta-positive {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
}

.coherence-check.ta-negative {
    background: #dcfce7;
    color: #166534;
    border: 1px solid #86efac;
}

/* Animation pour l'apparition */
.analysis-step {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInStep 0.5s ease forwards;
}

/* Ajustement pour le conteneur des valeurs */
.step-values {
    margin-top: 0.5rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.check-icon {
    margin-right: 0.25rem;
}

@keyframes fadeInStep {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation de clignotement */
@keyframes blink {
    0% {
        border-color: #1e40af; /* Bleu fonc√© */
        box-shadow: 0 0 5px #1e40af;
    }
    50% {
        border-color: #dbeafe; /* Bleu tr√®s clair */
        box-shadow: 0 0 2px #dbeafe;
    }
    100% {
        border-color: #1e40af; /* Bleu fonc√© */
        box-shadow: 0 0 5px #1e40af;
    }
}

.blink {
    animation: blink 2s infinite;
    border-width: 2px !important;
}


.diagnostic-subtitle {
    font-weight: 600;
    color: #1e40af;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    padding-left: 0.5rem;
    border-left: 3px solid #1e40af;
}

/* Mise √† jour des styles existants pour une meilleure hi√©rarchie visuelle */
.diagnostic-list {
    margin-bottom: 1.5rem;
}

.diagnostic-list:last-child {
    margin-bottom: 0;
}
/* Style commun pour toutes les box */
.causes-box,
.treatment-box,
.ecg-signs-box {
    background: #f8fafc;
    padding: 0.5rem 0.75rem;
    margin: 0.35rem 0;  /* Marge r√©duite entre les box */
    width: 100%;
    box-sizing: border-box;
    display: block;
}

/* Style sp√©cifique pour chaque type de box */
.causes-box {
    border-left: 5px solid #1e40af;
}

.treatment-box {
    border-left: 5px solid #60a5fa;
}

.ecg-signs-box {
    border-left: 5px solid #dc2626;
}

/* Styles communs pour les listes */
.causes-box ul,
.treatment-box ul,
.ecg-signs-box ul {
    margin: 0;
    padding-left: 1.25rem;
    list-style-type: none;
}

.causes-box li,
.treatment-box li,
.ecg-signs-box li {
    position: relative;
    padding: 0.15rem 0;
    color: #1e293b;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* Points color√©s pour chaque type de liste */
.causes-box li:before {
    content: "‚Ä¢";
    color: #1e40af;
    position: absolute;
    left: -1rem;
}

.treatment-box li:before {
    content: "‚Ä¢";
    color: #60a5fa;
    position: absolute;
    left: -1rem;
}

.ecg-signs-box li:before {
    content: "‚Ä¢";
    color: #dc2626;
    position: absolute;
    left: -1rem;
}

/* Style pour les titres de box */
.causes-box strong,
.treatment-box strong,
.ecg-signs-box strong {
    display: block;
    margin-bottom: 0.25rem;  /* Marge r√©duite sous les titres */
    font-size: 0.95rem;
}

/* Step values conteneur */
.step-values {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;  /* Espacement r√©duit entre les √©l√©ments */
    width: 100%;
}

/* Ajustement des marges internes des listes */
.causes-box ul,
.treatment-box ul,
.ecg-signs-box ul {
    margin-top: 0.25rem;  /* Marge r√©duite au-dessus des listes */
    margin-bottom: 0.25rem;  /* Marge r√©duite en-dessous des listes */
}

        footer {
            margin-top: auto;
            text-align: left;
            padding: 2rem;
            color: var(--text-gray);
            background: var(--card-bg);
            border-top: 1px solid rgba(0,0,0,0.1);
        }
		
		.logos-container {
    width: 100%;
    padding: 2rem 0;
	    margin-top: 2rem;

    display: flex;
    justify-content: center;
    align-items: center;
}

.logos-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4rem;
    max-width: 800px;
    margin: 0 auto;
    position: relative;
}

.logo-link {
    display: block;
    transition: transform 0.3s ease;
}

.logo-link:hover {
    transform: translateY(-5px);
}

.logo {
    height: 200px;
    width: auto;
}

.logo-separator {
    width: 2px;
    height: 40px;
    background-color: var(--text-gray);
    opacity: 0.3;
}

@media (max-width: 768px) {
    .logos-wrapper {
        gap: 2.5rem;
    }
    
    .logo {
        height: 70px;
    }
    
    .logo-separator {
        height: 30px;
    }
}


		
</style>



<style>
/* ==============================================
   FOOTER ECG - Classes renomm√©es pour √©viter conflits
   Pr√©fixe utilis√© : ecg-ft-
   ============================================== */

.ecg-ft-footer {
    background-color: #111827;
    color: #9ca3af;
    padding: 4rem 0 2rem;
    margin-top: 3rem;
}

.ecg-ft-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
}

.ecg-ft-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 4rem;
}

/* Colonne marque */
.ecg-ft-brand {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.ecg-ft-logo {
    font-family: 'Outfit', 'Segoe UI', system-ui, sans-serif;
    font-size: 2rem;
    font-weight: 800;
    color: white;
    letter-spacing: -0.05em;
}

.ecg-ft-description {
    color: #6b7280;
    max-width: 400px;
    line-height: 1.6;
    font-size: 0.95rem;
}

/* Ic√¥nes sociales */
.ecg-ft-social {
    display: flex;
    gap: 1rem;
}

.ecg-ft-social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #1f2937;
    color: #9ca3af;
    font-size: 1.25rem;
    transition: background 0.3s ease, color 0.3s ease;
    text-decoration: none;
}

.ecg-ft-social-link:hover {
    background: #3b82f6;
    color: white;
}

/* Colonnes navigation */
.ecg-ft-nav {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.ecg-ft-nav-title {
    font-family: 'Outfit', 'Segoe UI', system-ui, sans-serif;
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    margin: 0 0 1rem 0;
}

.ecg-ft-nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.ecg-ft-nav-link {
    color: #6b7280;
    text-decoration: none;
    font-size: 0.95rem;
    display: inline-block;
    transform: translateX(0);
    transition: all 0.3s ease;
}

.ecg-ft-nav-link:hover {
    color: var(--primary-light);
    transform: translateX(5px);
}

/* Bas du footer */
.ecg-ft-bottom {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid #1f2937;
    text-align: left;
}

.ecg-ft-copyright {
    color: #6b7280;
    font-size: 0.9rem;
}

/* ==============================================
   RESPONSIVE
   ============================================== */

@media (max-width: 992px) {
    .ecg-ft-grid {
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
    }
}

@media (max-width: 768px) {
    .ecg-ft-footer {
        padding: 3rem 0 1.5rem;
    }
    
    .ecg-ft-grid {
        grid-template-columns: 1fr;
        gap: 2.5rem;
        text-align: center;
    }
    
    .ecg-ft-brand {
        align-items: center;
    }
    
    .ecg-ft-description {
        text-align: center;
    }
    
    .ecg-ft-social {
        justify-content: center;
    }
    
    .ecg-ft-nav {
        align-items: center;
    }
    
    .ecg-ft-nav-links {
        align-items: center;
    }
}

/* ==============================================
   MODE SOMBRE (Dark Mode)
   ============================================== */

[data-theme="dark"] .ecg-ft-footer {
    background-color: #0a0f1a;
}

[data-theme="dark"] .ecg-ft-logo {
    color: #e5e7eb;
}

[data-theme="dark"] .ecg-ft-description {
    color: #9ca3af;
}

[data-theme="dark"] .ecg-ft-nav-title {
    color: #f3f4f6;
}

[data-theme="dark"] .ecg-ft-nav-link {
    color: #9ca3af;
}

[data-theme="dark"] .ecg-ft-nav-link:hover {
    color: #93c5fd;
}

[data-theme="dark"] .ecg-ft-social-link {
    background: #1e293b;
    color: #d1d5db;
}

[data-theme="dark"] .ecg-ft-social-link:hover {
    background: #3b82f6;
    color: white;
}

[data-theme="dark"] .ecg-ft-bottom {
    border-top-color: #1e293b;
}

[data-theme="dark"] .ecg-ft-copyright {
    color: #9ca3af;
}
</style>



<!-- Footer ECG -->
<footer class="ecg-ft-footer">
    <div class="ecg-ft-wrapper">
        <div class="ecg-ft-grid">
            
            <!-- Colonne 1 : Marque -->
            <div class="ecg-ft-brand">
                <div class="ecg-ft-logo">TypixClin</div>
                <p class="ecg-ft-description">Plateforme interactive d'aide √† la r√©daction des examens cliniques pour les √©tudiants en m√©decine.</p>
                <div class="ecg-ft-social">
                    <a href="https://github.com/JEZENN/TypixClin" class="ecg-ft-social-link" target="_blank" rel="noopener">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
            
            <!-- Colonne 2 : Outils -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">Outils</h4>
                <div class="ecg-ft-nav-links">
                    <a href="examen-adulte.html" class="ecg-ft-nav-link">Examen Adulte</a>
                    <a href="examen-p√©diatrique.html" class="ecg-ft-nav-link">Examen P√©diatrique</a>
                    <a href="examen-r√©animation.html" class="ecg-ft-nav-link">Examen R√©animation</a>
                    <a href="ecg.html" class="ecg-ft-nav-link">ECG</a>
                    <a href="gds.html" class="ecg-ft-nav-link">Gaz du sang</a>
                    <a href="Troubles ioniques.html" class="ecg-ft-nav-link">Troubles ioniques</a>
                </div>
            </div>
            
            <!-- Colonne 3 : Ressources -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">Ressources</h4>
                <div class="ecg-ft-nav-links">
                    <a href="Fiche-examen-clinique.html" class="ecg-ft-nav-link">Fiche Examen Clinique</a>
                    <a href="Fiche-ECG.html" class="ecg-ft-nav-link">Fiche ECG</a>
					<a href="FichierGsheet.html" class="ecg-ft-nav-link">Tableur Externat</a>
                </div>
            </div>
            
            <!-- Colonne 4 : √Ä propos -->
            <div class="ecg-ft-nav">
                <h4 class="ecg-ft-nav-title">√Ä propos</h4>
                <div class="ecg-ft-nav-links">
                    <a href="index.html#tools" class="ecg-ft-nav-link">Outils</a>
                    <a href="index.html#ai" class="ecg-ft-nav-link">IA</a>
                    <a href="index.html#feedback" class="ecg-ft-nav-link">Feedback</a>
										<a href="MentionsL√©gales.html" class="ecg-ft-nav-link">Mentions l√©gales</a>

                </div>
            </div>
            
        </div>
        
        <!-- Bas du footer -->
        <div class="ecg-ft-bottom">
            <div class="ecg-ft-copyright">TypixClin ¬© 2025, Jean ZENNARO</div>
        </div>
    </div>
</footer>


<script>
document.addEventListener('DOMContentLoaded', function() {
    // Les animations sont maintenant g√©r√©es par CSS
    // On garde uniquement la logique m√©tier existante
    
    const content = document.querySelector('.content');
    if (content) {
        content.style.visibility = 'visible';
    }
});
</script>


<!-- Ajoutez ce style plus sp√©cifique pour r√©soudre le probl√®me de survol -->
<style>
    /* Variables pour le mode clair (par d√©faut) */
    :root {
        --primary-color: #2563eb;
        --primary-light: #3b82f6;
        --primary-dark: #1d4ed8;
        --secondary-color: #0f2167;
        --background: #f8fafc;
        --card-bg: #ffffff;
        --text-dark: #1e293b;
        --text-gray: #64748b;
        --border-color: #e2e8f0;
        --input-background: #ffffff;
        --section-background: white;
        --subsection-background: #f8fafc;
        --subsection-border: #e5e7eb;
        --header-gradient-start: #1e40af;
        --header-gradient-end: #0f2167;
        --diagnostic-border: #1e40af;
        --nav-button-bg: #ffffff;
        --nav-button-text: #1e293b;
        --nav-button-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    /* Variables pour le mode sombre */
    [data-theme="dark"] {
        --primary-color: #3b82f6;
        --primary-light: #60a5fa;
        --primary-dark: #93c5fd;
        --secondary-color: #2563eb;
        --background: #0f172a;
        --card-bg: #1e293b;
        --text-dark: #f1f5f9;
        --text-gray: #cbd5e1;
        --border-color: #334155;
        --input-background: #1e293b;
        --section-background: #1e293b;
        --subsection-background: #0f172a;
        --subsection-border: #334155;
        --header-gradient-start: #0f172a;
        --header-gradient-end: #1e293b;
        --diagnostic-border: #60a5fa;
        --nav-button-bg: #1e293b;
        --nav-button-text: #f1f5f9;
        --nav-button-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

   
    /* Application des variables g√©n√©rales */
    [data-theme="dark"] body {
        background-color: var(--background);
        color: var(--text-dark);
    }

    [data-theme="dark"] .header, 
    [data-theme="dark"] .sticky-wrapper {
        background: linear-gradient(135deg, var(--header-gradient-start), var(--header-gradient-end)) !important;
    }

    /* Styles sp√©cifiques pour corriger les boutons de navigation */
    [data-theme="dark"] .nav-button:not(.active) {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] .nav-button:not(.active):hover {
        background-color: #2d3748 !important;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4) !important;
    }

    [data-theme="dark"] .nav-button.active {
        background: linear-gradient(135deg, #3b82f6, #2563eb) !important;
        color: white !important;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4) !important;
    }

    /* SOLUTION RADICALE pour les sections en survol */
    [data-theme="dark"] .section {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
    }

    [data-theme="dark"] .section:hover {
        background-color: #1e293b !important;
        box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.6), 0 8px 10px -5px rgba(0, 0, 0, 0.4) !important;
    }

    [data-theme="dark"] .section-header {
        background: linear-gradient(135deg, #3b82f6, #2563eb) !important;
    }

    [data-theme="dark"] .section-content {
        background-color: #1e293b !important;
    }

    [data-theme="dark"] .subsection {
        background-color: #0f172a !important;
        border: 1px solid #334155 !important;
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .subsection h4 {
        color: #93c5fd !important;
        border-bottom-color: #334155 !important;
    }

    [data-theme="dark"] #THE_generatedTextArea {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] input[type="number"], 
    [data-theme="dark"] input[type="text"] {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border-color: #334155 !important;
    }

    [data-theme="dark"] input[type="number"]:hover, 
    [data-theme="dark"] input[type="text"]:hover {
        border-color: #3b82f6 !important;
    }

    [data-theme="dark"] label {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .step-values {
        background-color: #0f172a !important;
        border: 1px solid #334155 !important;
    }

    [data-theme="dark"] footer {
        background-color: #1e293b !important;
        color: #cbd5e1 !important;
        border-top: 1px solid #334155 !important;
    }

    /* √âl√©ments sp√©cifiques √† la page Troubles ioniques */
    [data-theme="dark"] .analysis-step {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
    }

    [data-theme="dark"] .analysis-steps {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;
        border-color: #334155 !important;
    }

    [data-theme="dark"] .step-number {
        color: #93c5fd !important;
    }

    [data-theme="dark"] .step-content {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .diagnostic-container {
        background-color: transparent !important;
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .diagnostic-title {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .diagnostic-subtitle {
        color: #93c5fd !important;
        border-left-color: #3b82f6 !important;
    }

    [data-theme="dark"] .diagnostic-list {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .diagnostic-item {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .diagnostic-item::before {
        color: #93c5fd !important;
    }

    /* Styles pour les messages d'√©tat et alertes */
    [data-theme="dark"] .coherence-check {
        border-color: rgba(255, 255, 255, 0.2) !important;
    }

    [data-theme="dark"] .coherence-check.valid {
        background-color: rgba(22, 163, 74, 0.2) !important;
    }

    [data-theme="dark"] .coherence-check.invalid {
        background-color: rgba(220, 38, 38, 0.2) !important;
    }

    [data-theme="dark"] .coherence-check.missing {
        background-color: rgba(133, 77, 14, 0.2) !important;
        color: #fef9c3 !important;
    }

    [data-theme="dark"] .coherence-check.normal {
        background-color: rgba(22, 101, 52, 0.2) !important;
    }

    [data-theme="dark"] .coherence-check.acidemia {
        background-color: rgba(153, 27, 27, 0.2) !important;
    }

    [data-theme="dark"] .coherence-check.alkalemia {
        background-color: rgba(30, 64, 175, 0.2) !important;
    }

    /* Fix pour les cas particuliers */
    [data-theme="dark"] .formula-display,
    [data-theme="dark"] .formula-measured-container,
    [data-theme="dark"] .formula-row,
    [data-theme="dark"] .measured-row {
        color: #f1f5f9 !important;
    }

    /* Styles pour les cases color√©es */
    [data-theme="dark"] .causes-box,
    [data-theme="dark"] .treatment-box,
    [data-theme="dark"] .ecg-signs-box {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .causes-box strong,
    [data-theme="dark"] .treatment-box strong,
    [data-theme="dark"] .ecg-signs-box strong {
        color: #93c5fd !important;
    }

    [data-theme="dark"] .causes-box li,
    [data-theme="dark"] .treatment-box li,
    [data-theme="dark"] .ecg-signs-box li {
        color: #f1f5f9 !important;
    }

    /* Styles pour les r√©sultats IRA */
    [data-theme="dark"] .ira-result {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .ira-ratio {
        color: #f1f5f9 !important;
    }

    [data-theme="dark"] .ira-final-conclusion {
        background-color: #1e293b !important;
        border-color: #334155 !important;
    }

    [data-theme="dark"] .ira-counts {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;
    }

    /* Correction pour la value-calculation */
    [data-theme="dark"] .value-calculation {
        background-color: #0f172a !important;
        color: #f1f5f9 !important;
    }

    /* Assurer que les statuts restent visibles */
    [data-theme="dark"] #Na-status,
    [data-theme="dark"] #Gly-status,
    [data-theme="dark"] #Osmp-status,
    [data-theme="dark"] #Osmu-status,
    [data-theme="dark"] #K-status,
    [data-theme="dark"] #Ca-status,
    [data-theme="dark"] #Cac-status,
    [data-theme="dark"] #PTH-status,
    [data-theme="dark"] #VitD-status,
    [data-theme="dark"] #ThEvolume-status,
    [data-theme="dark"] #ClrCr√©at-status,
    [data-theme="dark"] #Na2-status,
    [data-theme="dark"] #Ur√©e-status,
    [data-theme="dark"] #Cr√©at-status,
    [data-theme="dark"] #Ur√©eu2-status,
    [data-theme="dark"] #Cr√©atu-status,
    [data-theme="dark"] #Nau2-status,
    [data-theme="dark"] #Ku3-status {
        color: inherit !important;
    }

    /* Header sp√©cifique pour le mode sombre */
[data-theme="dark"] .header {
    background: linear-gradient(135deg, var(--header-gradient-start), var(--header-gradient-end)) !important;
}

    [data-theme="dark"] .header-title {
        background: rgba(255, 255, 255, 0.1) !important;
    }

    [data-theme="dark"] .header h1,
    [data-theme="dark"] .header h1 a {
        color: white !important;
    }

    [data-theme="dark"] .header-home-button {
        background: rgba(255, 255, 255, 0.15) !important;
        color: white !important;
    }

    /* Style du bouton du th√®me */
    [data-theme="dark"] .theme-switch {
        background-color: #3a75e0 !important;
    }

    [data-theme="dark"] .theme-switch:hover {
        background-color: #4d84e6 !important;
    }

    /* Style pour les sections en g√©n√©ral */
    [data-theme="dark"] .analysis-stepsNa,
    [data-theme="dark"] .analysis-stepsK,
    [data-theme="dark"] .analysis-stepsCa,
    [data-theme="dark"] .analysis-stepsIRA {
        background-color: #0f172a !important;
    }

    /* Correction des √©l√©ments avec un fond sp√©cifique dans les diagnostics */
    [data-theme="dark"] .diagnosis-box {
        background-color: transparent !important;
    }

    /* Force le texte color√© √† rester visible */
    [data-theme="dark"] .coherence-check.ta-high,
    [data-theme="dark"] .coherence-check.ta-negative,
    [data-theme="dark"] .coherence-check.complex,
    [data-theme="dark"] .coherence-check.normal {
        filter: brightness(1.1) !important;
    }

    /* Tous les input et select en mode sombre */
    [data-theme="dark"] select,
    [data-theme="dark"] input {
        background-color: #1e293b !important;
        color: #f1f5f9 !important;
        border-color: #334155 !important;
    }

    [data-theme="dark"] select:hover,
    [data-theme="dark"] input:hover {
        border-color: #3b82f6 !important;
    }

    /* Style pour les radio buttons en mode sombre */
    [data-theme="dark"] .custom-control .checkmark {
        background-color: #1e293b !important;
        border-color: #3b82f6 !important;
    }

    [data-theme="dark"] .custom-control:hover .checkmark {
        background-color: rgba(59, 130, 246, 0.3) !important;
    }

    [data-theme="dark"] .custom-control input:checked ~ .checkmark {
        background-color: #3b82f6 !important;
    }

    /* Fix for blinking elements */
    [data-theme="dark"] .blink {
        animation: darkBlink 2s infinite !important;
    }

    @keyframes darkBlink {
        0% {
            border-color: #3b82f6 !important;
            box-shadow: 0 0 5px #3b82f6 !important;
        }
        50% {
            border-color: #60a5fa !important;
            box-shadow: 0 0 2px #60a5fa !important;
        }
        100% {
            border-color: #3b82f6 !important;
            box-shadow: 0 0 5px #3b82f6 !important;
        }
    }

    /* Styles pour les textes et fond de l'analyse d'IR */
    [data-theme="dark"] .ira-profile.iraF,
    [data-theme="dark"] .ira-profile.iraO {
        filter: brightness(0.8) !important;
    }

    [data-theme="dark"] .ira-ratio {
        color: #f1f5f9 !important;
    }
</style>



<!-- Ajoutez ce script juste avant la fermeture du body -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const themeSwitch = document.getElementById('themeSwitch');
        const themeIcon = themeSwitch.querySelector('i');
        
        // V√©rifie si un th√®me est d√©j√† enregistr√© dans le localStorage
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        // Applique le th√®me enregistr√© au chargement de la page
        if (currentTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            themeIcon.classList.remove('fa-sun');
            themeIcon.classList.add('fa-moon');
        }
        
        // Fonction pour basculer entre les th√®mes
        function toggleTheme() {
            themeSwitch.classList.add('rotate');
            
            // Timeout pour permettre √† l'animation de se terminer avant de changer l'ic√¥ne
            setTimeout(() => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                
                if (currentTheme === 'dark') {
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('theme', 'light');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
                
                // Retire la classe pour permettre de futures animations
                setTimeout(() => {
                    themeSwitch.classList.remove('rotate');
                }, 500);
            }, 250);
        }
        
        // Ajoute l'√©couteur d'√©v√©nement pour le clic sur le bouton
        themeSwitch.addEventListener('click', toggleTheme);
    });
</script>


<!-- HTML pour l'animation de chargement -->
<div id="loader-wrapper">
    <div class="loader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10"/>
        </svg>
        <div class="loader-text">TypixClin</div>
    </div>
</div>

<!-- CSS pour l'animation de chargement -->
<style>
    #loader-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #1e40af, #0f2167);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    
    #loader-wrapper.active {
        opacity: 1;
        visibility: visible;
    }
    
    .loader {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .circular {
        width: 50px;
        height: 50px;
        animation: rotate 2s linear infinite;
    }
    
    .path {
        stroke: #ffffff;
        stroke-linecap: round;
        animation: dash 1.5s ease-in-out infinite;
    }
    
    .loader-text {
        margin-top: 20px;
        color: white;
        font-size: 24px;
        font-weight: bold;
        letter-spacing: 1px;
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
        animation: pulse 1.5s ease-in-out infinite;
    }
    
    @keyframes rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    
    @keyframes dash {
        0% {
            stroke-dasharray: 1, 150;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 90, 150;
            stroke-dashoffset: -35;
        }
        100% {
            stroke-dasharray: 90, 150;
            stroke-dashoffset: -124;
        }
    }
    
    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }
</style>

<!-- JavaScript pour g√©rer l'affichage du loader -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // R√©f√©rence au loader
        const loader = document.getElementById('loader-wrapper');
        
        // Variables pour suivre l'√©tat de chargement
        let loadStarted = false;
        let loadCompleted = false;
        let loaderTimeout = null;
        
        // Fonction pour afficher le loader seulement si le chargement prend du temps
        function showLoaderIfSlow() {
            // Si le chargement a commenc√© mais n'est pas termin√© apr√®s un d√©lai (ex. 400ms)
            if (loadStarted && !loadCompleted) {
                loader.classList.add('active');
            }
        }
        
        // Marquer le d√©but du chargement
        loadStarted = true;
        
        // D√©finir un d√©lai avant d'afficher le loader
        loaderTimeout = setTimeout(showLoaderIfSlow, 100);
        
        // Attendre que la page soit pr√™te pour cacher le loader
        window.addEventListener('load', function() {
            loadCompleted = true;
            
            // Annuler le timeout si la page charge rapidement
            if (loaderTimeout) {
                clearTimeout(loaderTimeout);
            }
            
            // Si le loader est visible, le faire dispara√Ætre progressivement
            if (loader.classList.contains('active')) {
                // Attendre un court instant pour permettre aux animations de page de se pr√©parer
                setTimeout(function() {
                    loader.classList.remove('active');
                    
                    // Attendre la fin de la transition avant de cacher compl√®tement
                    setTimeout(function() {
                        loader.style.display = 'none';
                    }, 300);
                }, 300);
            } else {
                // Si le loader n'a jamais √©t√© affich√©, s'assurer qu'il reste cach√©
                loader.style.display = 'none';
            }
        });
    });
</script>



<style>
/* Styles communs pour les boutons flottants */
.floating-button {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 50px;
  width: 50px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.floating-button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
}

.floating-button i {
  font-size: 1.5rem;
  color: white;
  transition: transform 0.3s ease;
}

/* Bouton Theme Switcher */
.theme-switch-wrapper {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  z-index: 998;
}

.theme-switch {
  background-color: var(--primary-color);
}

.theme-switch:hover {
  background-color: var(--primary-light);
}

.theme-switch:hover i {
  transform: rotate(30deg);
}

.theme-switch.rotate i {
  animation: rotate 0.5s ease;
}

/* Bouton Scroll Top */
.scroll-top {
  position: fixed;
  bottom: 2rem;
  right: 6rem;
  background-color: var(--primary-color);
  z-index: 998;
  transform: translateY(100px);
  opacity: 0;
}

.scroll-top.visible {
  transform: translateY(0);
  opacity: 1;
}

.scroll-top:hover {
  transform: scale(1.1);

  background-color: var(--primary-light);
}

.scroll-top.clicked i {
  animation: bounce 0.3s ease;
}

/* Animations */
@keyframes rotate {
  0% { transform: rotate(0); }
  100% { transform: rotate(360deg); }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* Responsive styles */
@media (max-width: 768px) {
  .floating-button {
    height: 45px;
    width: 45px;
  }
  
  .floating-button i {
    font-size: 1.3rem;
  }
  
  .theme-switch-wrapper {
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  .scroll-top {
    bottom: 1.5rem;
    right: 5.5rem;
  }
}

@media (max-width: 480px) {
  .floating-button {
    height: 42px;
    width: 42px;
  }
  
  .floating-button i {
    font-size: 1.1rem;
  }
  
  .scroll-top {
    right: 5rem;
  }
}

</style>

<script>
// JavaScript pour le bouton scroll-top
document.addEventListener('DOMContentLoaded', function() {
  const scrollTopBtn = document.getElementById('scrollTop');
  
  window.addEventListener('scroll', function() {
    if (window.scrollY > 300) {
      scrollTopBtn.classList.add('visible');
    } else {
      scrollTopBtn.classList.remove('visible');
    }
  });
  
  scrollTopBtn.addEventListener('click', function() {
    // Ajouter un effet visuel lors du clic
    scrollTopBtn.classList.add('clicked');
    
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
    
    // Retirer l'effet apr√®s l'animation
    setTimeout(function() {
      scrollTopBtn.classList.remove('clicked');
    }, 300);
  });
});

</Script>
<!-- HTML pour les boutons -->
<div class="theme-switch-wrapper">
  <div class="theme-switch floating-button" id="themeSwitch">
    <i class="fas fa-sun"></i>
  </div>
</div>

<div class="scroll-top floating-button" id="scrollTop">
  <i class="fas fa-arrow-up"></i>
</div>

</body>
</html>